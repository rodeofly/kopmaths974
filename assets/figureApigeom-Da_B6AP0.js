import{g as y}from"./generalStore-C3E9FHtR.js";import{g as l,c as h}from"./canStore-DaSrd7sp.js";function g({exercice:o,figure:e,animation:u=!1,i:c,defaultAction:d,idAddendum:E="",isDynamic:v}){e.isDynamic=v!==void 0?v:!!o.interactif,e.divButtons.style.display=e.isDynamic?"grid":"none",e.divUserMessage.style.fontSize="1em",e.divUserMessage.style.pointerEvents="none",e.divUserMessage.style.removeProperty("color"),e.divUserMessage.classList.add("text-coopmaths-struct"),o.interactif||(e.divUserMessage.style.display="none");const n=`apigeomEx${o.numeroExercice}F${c}${E}`;e.id=n;function r(t){if(!e.container){document.removeEventListener(n,r);return}const a=t.detail;e.loadJson(JSON.parse(a)),l(h).isChoosen&&l(h).state==="solutions"&&(e.divButtons.style.display="none",e.divUserMessage.style.display="none")}document.addEventListener(n,r);let i=1;function m(t){if(!e.container||!e.container.id){document.removeEventListener("zoomChanged",m);return}const a=Number(t.detail.zoom);i!==a&&(i=a,e?.zoom(a,{changeHeight:!0,changeWidth:!0,changeLeft:!1,changeBottom:!1}))}document.addEventListener("zoomChanged",m);function p(){if(!e.container||!e.container.id){document.removeEventListener("exercicesAffiches",p),document.removeEventListener("zoomChanged",m),document.removeEventListener(n,r);return}const t=document.querySelector(`#${n}`);if(t==null)return;t.innerHTML="",e.setContainer(t),u&&(e.divUserMessage.innerHTML="",e.restart(),setTimeout(()=>{e.buttons.get("PLAY")?.click()},3e3)),d&&(e.buttons.get(d)?.click(),d="");const s=Number(l(y).z);i!==s&&(i=s,e.zoom(s,{changeHeight:!0,changeWidth:!0,changeLeft:!1,changeBottom:!1}))}return document.addEventListener("exercicesAffiches",p),`<div class="m-6 leading-none" id="${n}"></div><span id="resultatCheckEx${o.numeroExercice}Q${c}"></span><div class="ml-2 py-2 text-coopmaths-warn-darkest dark:text-coopmathsdark-warn-darkest" id="feedbackEx${o.numeroExercice}Q${c}"></div>`}export{g as f};

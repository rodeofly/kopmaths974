import{h as xe}from"./gestionInteractif-DujZpSu8.js";import{a as ye}from"./questionMathLive-DdRvWqlN.js";import{P as ne}from"./Polynome-BIt5zaQj.js";import{i as M}from"./outilsMaths-WEj-9mlx.js";import{r as n,at as he,a as Ie,m as A,e as Y,k as K,j as $e,I as Fe,p as W,o as Ne,D as we,a0 as De}from"./embellissements-BYV7mIDn.js";import{E as Ge}from"./Exercice-DtXhjCyI.js";import{S as Re}from"./main-Vl0czKSA.js";import{R as Se}from"./RepereBuilder-bnSkEkR5.js";import{c as be}from"./courbes-C9fk0WuH.js";import"decimal.js";import"./comparisonFunctions-B45ZZ3C7.js";import"./compute-engine.min.umd-BwAhpA7x.js";import"./index-BUDQz6-w.js";import"mathjs";import"./Hms-u2AUyU1C.js";import"./ListeDeroulanteElement-CXmzV-cr.js";import"./tableauMathlive-xx-nDjq0.js";import"./canStore-DaSrd7sp.js";import"./generalStore-C3E9FHtR.js";import"seedrandom";import"katex";import"earcut";import"roughjs";import"./sizeTools-DfTC1Dgv.js";import"./time-DMC-jnVL.js";import"./exerciseMethods-CtbYPwln.js";import"crypto-js";import"./AjouteTableauMathlive-Bz24QHd3.js";import"./Matrice-C65I2nuw.js";import"./reperes-WwrVcExd.js";const mt="Résoudre graphiquement une équation ou une inéquation",xt="29/10/2023",yt="24/04/2024",ht=!0,$t="mathLive",bt="28997",gt={"fr-fr":["2F20-4"],"fr-ch":["2mIneq-1"]};function Te(N,v,h,q){const w=N.derivee(),I=v.derivee();let l,p;if(w.deg===2){const[t,i,d]=w.monomes,G=i**2-4*d*t;if(G>0){const C=Math.sqrt(G),F=(-i-C)/(2*d),R=(-i+C)/(2*d);l=d>0?N.image(Math.max(F,R)):N.image(Math.min(F,R))}else l=0}else if(w.deg===1){const[t,i]=w.monomes;i<0?l=0:l=N.image(-t/i)}else l=0;if(I.deg===2){const[t,i,d]=I.monomes,G=i**2-4*d*t;if(G>0){const C=Math.sqrt(G),F=(-i-C)/(2*d),R=(-i+C)/(2*d);p=d>0?v.image(Math.max(F,R)):v.image(Math.min(F,R))}else p=0}else if(I.deg===1){const[t,i]=I.monomes;i<0?p=0:p=v.image(-t/i)}else p=0;return Math.min(l,p,...h.map(t=>t.y),...q.map(t=>t.y))}function P(N){const v=N.fonction,h=N.monomes.slice();for(;h.length<4;)h.push(0);const[q,w,I,l]=h.map(Number).reverse().map(t=>Math.abs(t)<1e-10?0:t),p=De(q,w,I,l).replaceAll("\\,","").replaceAll("{,}",".");return{func:v,expr:p,poly:N}}function je(N,v,h,q,w){const I=[q,...v,w],l=I.filter((t,i)=>t!==I[i+1]),p=[];for(let t=0;t<l.length-1;t++){const i=(l[t]+l[t+1])/2,d=N.image(i);d<0&&h||!h&&d>0?p.push(`[${Y(l[t],1)};${Y(l[t+1],1)}]`):t===l.length-2&&v[v.length-1]===w&&p.push(`\\{${Y(l[t+1],1)}\\}`)}return p.join("\\cup")}class Mt extends Ge{figureApiGeom;constructor(){super(),this.nbQuestions=1,this.listePackages=["tkz-base"],this.nbQuestionsModifiable=!1,this.formatChampTexte="none",this.exoCustomResultat=!0,this.answers={},this.sup2=10,this.sup=1,this.besoinFormulaireNumerique=["Choix des questions",3,`1 : Résoudre une équation
2 : Résoudre une inéquation
3: Résoudre une équation et une inéquation`],this.besoinFormulaire2Numerique=["Choix des deux fonctions",10,`Constante-affine
Constante-degré2
Constante-degré3
Affine-affine
Affine-degré2
Affine-degré3
Degré2-degré2
Degré2-degré3
Degré3-degré3
Mélange`]}nouvelleVersion(){this.listeCorrections=[""];const v=n(1,20,[5,9,10,15]),h=he(v),q=he(n(1,20,[5,9,10,15,v])),w=this.sup2<10?this.sup2:n(1,9);let I,l,p,t,i,d="";const G=n(-2,2),C=-4+G,F=n(-2,-1)+G,R=n(1,2)+G,U=4+G,ge=n(0,2),c=C-ge-1,x=c+10;let S,se=0;do{se++;let s,$,T,O,B,ce,ue;const oe=(e,o,u,f)=>Object.assign({},{u:u-e,v:f-o}),pe=(e,o)=>Math.abs(e.u*o.v-e.v*o.u)<.1;if(this.sup2<7){do s=n(-2,2),$=n(-3,3,s);while(Math.abs(($-s)/(F-C))>1);const e=($-s)/(F-C),o=$-e*F;T=e*R+o,O=e*U+o}else do s=n(-2,2),$=n(-3,3,s),T=n(-4,4,$),O=n(-2,3,[s,T,$]),B=oe(C,s,F,$),ce=oe(C,s,R,T),ue=oe(C,s,U,O);while(pe(B,ce)||pe(B,ue));const r=[{x:C,y:s},{x:F,y:$},{x:R,y:T},{x:U,y:O}].sort((e,o)=>e.x-o.x),a=[{x:C,y:s},{x:F,y:$},{x:R,y:T},{x:U,y:O}].sort((e,o)=>e.x-o.x);switch(w){case 1:{l="constante",p="affine";const e=n(0,1),o=n(0,3,e);t={func:()=>r[e].y,expr:`${r[e].y}`,poly:new ne({rand:!1,deg:3,coeffs:[r[e].y,0,0,0]})};const u=r.filter((b,y)=>y===e||y===o),f=M(u);i=P(f)}break;case 2:{l="constante",p="poly2";const e=0,o=n(1,3);t={func:()=>r[e].y,expr:`${r[e].y}`,poly:new ne({rand:!1,deg:3,coeffs:[r[e].y,0,0,0]})},a[o].y=r[0].y;const u=n(0,3,[e,o]);a[u].y=n(-5,5,[r[e].y,r[e].y-1,r[e].y+1]);const f=a.filter((y,k)=>k===e||k===o||k===u),b=M(f);i=P(b)}break;case 3:{l="constante",p="poly3";const e=n(0,1),o=n(1,3,e),u=n(1,3,[e,o]),f=n(0,3,[e,o,u]);t={func:()=>r[e].y,expr:`${r[e].y}`,poly:new ne({rand:!1,deg:3,coeffs:[r[e].y,0,0,0]})};for(const y of[e,o,u])a[y].y=r[e].y;a[f].y=n(-5,5,[r[e].y,r[e].y-1,r[e].y+1]);const b=M(a);i=P(b)}break;case 4:l="affine",p="affine";{const e=n(0,3),o=n(0,2,e),u=n(0,2,[e,o]),f=r.filter((g,m)=>m===e||m===o);a[u].y=n(-4,4,[r[e].y,r[o].y]);const b=a.filter((g,m)=>m===e||m===u),y=M(f);t=P(y);const k=M(b);i=P(k)}break;case 5:l="affine",p="poly2";{const e=n(0,3),o=n(0,3,e),u=n(0,3,[e,o]),f=r.filter((g,m)=>m===e||m===o),b=M(f);t=P(b);for(const g of[e,u])a[g].y=t.func(a[g].x);a[o].y=n(-5,5,[r[o].y,a[0].y,a[1].y,a[2].y,a[3].y]);const y=a.filter((g,m)=>m===e||m===o||m===u),k=M(y);i=P(k)}break;case 6:{l="affine",p="poly3";const e=n(0,3),o=n(0,3,e),u=n(0,3,[e,o]),f=n(0,3,[e,o,u]),b=r.filter((g,m)=>m===e||m===o),y=M(b);t=P(y);for(const g of[e,o,u])a[g].y=t.func(a[g].x);a[f].y=n(-5,5,[r[f].y,a[0].y,a[1].y,a[2].y,a[3].y]);const k=M(a);i=P(k)}break;case 7:l="poly2",p="poly2";{const e=n(0,3),o=n(0,3,e),u=n(0,3,[e,o]),f=n(0,3,[e,u,u]),b=r.filter((m,z)=>z===e||z===o||z===u),y=a.filter((m,z)=>z===e||z===u||z===f),k=M(b);t=P(k);const g=M(y);i=P(g)}break;case 8:l="poly2",p="poly3";{const e=n(0,3),o=n(0,3,e),u=n(0,3,[e,o]),f=r.filter((k,g)=>g===e||g===u||g===o),b=M(f);t=P(b);const y=M(a);i=P(y)}break;case 9:l="poly3",p="poly3";{const e=M(r);t=P(e);const o=n(0,3),u=r.map(y=>y.y);let f;do f=(r[o].y>0?-1:1)*n(-4,4,u);while(Math.abs(f-r[o].y)>5);a[o].y=f;const b=M(a);i=P(b)}break;default:l="affine",p="affine";{const e=n(0,3),o=n(0,3,e),u=n(0,3,[e,o]),f=r.filter((g,m)=>m===e||m===o),b=a.filter((g,m)=>m===e||m===u),y=M(f);t=P(y);const k=M(b);i=P(k)}break}const fe=[],de=t.poly;if(de==null)throw Error("la fonction 1 n'a pas de polynôme alors qu'elle devrait");const me=de.multiply(-1).add(i.poly);for(let e=0;e<10;e++)fe.push(Math.abs(me.image(C+e)-me.image(C-1+e)));I=Math.min(...fe),S=Math.min(Te(t.poly,i.poly,r,a),-1)-.3}while(I<.2&&se<50);const j=S+12,Z=t.poly.add(i.poly.multiply(-1));this.figureApiGeom=new Re({xMin:c-.5,yMin:S,width:378,height:378,isDynamic:!0}),this.figureApiGeom.options.automaticUserMessage=!1,this.figureApiGeom.userMessage="Cliquer sur le point $M$ pour le déplacer.",this.figureApiGeom.create("Grid");let ie,L;if(l==="constante"||l==="affine"){const s=t.poly.monomes[1],$=t.poly.monomes[0],T=this.figureApiGeom.create("Point",{x:c-.5,y:(c-.5)*s+$,isVisible:!1}),O=this.figureApiGeom.create("Point",{x:x+2.5,y:(x+2.5)*s+$,isVisible:!1}),B=this.figureApiGeom.create("Segment",{point1:T,point2:O});B.color="blue",B.thickness=2,B.isDashed=!1,this.interactif&&(L=this.figureApiGeom.create("PointOnLine",{line:B}),L.shape="o",L.color="blue")}else ie=this.figureApiGeom.create("Graph",{expression:t.expr,color:"blue",thickness:2,fillOpacity:.5,xMin:c,xMax:x,isDashed:!1}),this.interactif&&(L=this.figureApiGeom.create("PointOnGraph",{graph:ie}),L.shape="o",L.color="blue",L.label="M");this.interactif&&(L.createSegmentToAxeX(),L.createSegmentToAxeY());let E=`On considère les fonctions $${h}$ et $${q}$ définies sur $\\R$ et dont on a représenté ci-dessous une partie de leurs courbes respectives.<br><br>`,D;const Q=!!Ie([!0,!1]);if(D=[],t.poly==null&&i.poly==null)throw Error("Un problème avec l'un des polynômes.");const re=Z.racines();if(re==null)throw Error(`Il n'y aurait pas de points d'intersection !!! polyDiff = ${Z.toLatex()}`);const X=re.map(s=>Number(s.toFixed(1)));for(let s=0;s<X.length;s++){const $=t.func(X[s]),T=X[s]<=x+.5&&X[s]>=c,O=$>=S&&$<=S+12.6;T&&O&&D.push(X[s])}D=Array.from(new Set(D)),D=D.sort((s,$)=>s-$),(this.sup===1||this.sup===3)&&(E+=`Résoudre graphiquement l'équation $${h}(x)${A("~=~","black")}${q}(x)$ sur  [$${c};$${x}].<br>`,this.interactif&&(E+="Si besoin, les solutions doivent être séparées par un point-virgule.<br>"),d+=`L'ensemble de solutions de l'équation $${h}(x)${A("~=~","black")}${q}(x)$ sur [$${c};$${x}] correspond aux abscisses des points d'intersection des deux courbes, soit : `,d+=this.sup===1?`$\\{${D.map(s=>Y(s,1)).join(";")}\\}$`:`$${A(`\\{${D.map(s=>Y(s,1)).join(";")}\\}`)}$.<br>`);let _=0;if(D!=null&&(this.sup===1||this.sup===3)&&(this.interactif&&(E+=`L'ensemble de solutions de l'équation $${h}(x)${A("~=~","black")}${q}(x)$ sur [$${c};$${x}] est : `+ye(this,_,"  lycee ml-2")+"<br><br>"),xe(this,_,{reponse:{value:`\\{${Array.from(D).join(";")}\\}`,options:{ensembleDeNombres:!0}}}),_++),this.sup!==1){E+=`Résoudre graphiquement l'inéquation $${h}(x)${Q?A("\\leqslant","black"):A("~\\geqslant~","black")}${q}(x)$ sur $\\left[${Y(c,1)};${Y(x,1)}\\right]$.<br>`,this.interactif&&(E+="On peut taper 'union' au clavier ou utiliser le clavier virtuel pour le signe $\\cup$.<br>",E+=`L'ensemble des solutions de l'inéquation $${h}(x)${Q?A("\\leqslant","black"):A("~\\geqslant~","black")}${q}(x)$ sur [$${c};$${x}] est : `+ye(this,_,"  lycee ml-2")+"<br><br>");const s=je(Z,D,!!Q,c,x);xe(this,_,{reponse:{value:s,options:{intervalle:!0}}}),d+=`Pour trouver l'ensemble des solutions de l'inéquation $${h}(x)${Q?A("\\leqslant","black"):A("~\\geqslant~","black")}${q}(x)$ sur $[${c};${x}]$ , on regarde les portions où la courbe $${A("\\mathscr{C}_"+h,"blue")}$ est située ${Q?"en dessous":"au-dessus"} de la  courbe $${A("\\mathscr{C}_"+q,"red")}$.<br>`,d+=`On lit les intervalles correspondants sur l'axe des abscisses : $${s}$`}const H=new Se({xMin:c-.2,yMin:S-.2,xMax:x+2.5,yMax:j+.2}).setGrille({grilleX:{dx:1,xMin:c,xMax:x+2.5},grilleY:{dy:1,yMin:S,yMax:j}}).setGrilleSecondaire({grilleX:{dx:.2,xMin:c,xMax:x+2.5},grilleY:{dy:.2,yMin:S,yMax:S+12}}).setThickX({xMin:c,xMax:x+2.5,dx:1}).setThickY({yMin:S,yMax:j,dy:1}).buildCustom();let V,ee;l==="constante"||l==="affine"?V=K(c,t.func(c),x,t.func(x),"blue"):V=be(t.func,{repere:H,xMin:c,xMax:x,color:"blue"});const Me=$e(`\\mathscr{C}_${h}`,c+.5,j-1,{color:"blue",letterSize:"normalsize",backgroundColor:""}),Pe=$e(`\\mathscr{C}_${q}`,c+.5,j-2,{color:"red",letterSize:"normalsize",backgroundColor:""});V.color=Fe("blue"),V.epaisseur=2,p==="affine"?ee=K(c,i.func(c),x,i.func(x),"red"):ee=be(i.func,{repere:H,xMin:c,xMax:x,color:"red"});const Ce=W(c+1,j-1),qe=W(c+2,j-1),ke=W(c+1,j-2),ve=W(c+2,j-2),le=K(Ce,qe,"blue"),ae=K(ke,ve,"red");le.epaisseur=2,ae.epaisseur=2;const Ae=[V,ee,le,ae,Me,Pe];this.listeQuestions=[E+Ne(Object.assign({},we([...H.objets??[]])),H.objets??[],...Ae)];const J=d.split(":");let te=J[J.length-1];te=te.replaceAll("$",""),d="";for(let s=0;s<J.length-1;s++)d+=J[s]+":";d+=` $${A(te)}$`,d+=".",this.listeCorrections=[d]}}export{je as chercheIntervalles,yt as dateDeModifImportante,xt as dateDePublication,Mt as default,ht as interactifReady,$t as interactifType,gt as refs,mt as titre,bt as uuid};

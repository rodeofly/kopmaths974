import{round as bt,lcm as At,equal as Oe,gcd as Ht,isPrime as Ei,format as Ri,evaluate as Vi,norm as hi,dot as fi,cross as di,multiply as fe,matrix as pi,floor as Gi,abs as yt,max as oe,min as Ue,isArray as ve}from"mathjs";import E from"decimal.js";import Ae from"katex";import ji from"earcut";import Ti from"roughjs";const b={isHtml:!0,isAmc:!1,isDiaporama:!1,anglePerspective:30,coeffPerspective:.5,pixelsParCm:20,scale:1,unitesLutinParCm:50,fenetreMathalea2d:[-1,-10,29,10],graine:"",zoom:1,vue:""};function wn(i,t,e=50){return`
    <div>
    <div class="question" style="float:left;max-width: ${e}%;margin-right: 30px">
    ${i}
   </div>
   <div style="float:left; max-width: ${90-e}%">
    ${t}
   </div>
   <div style="clear:both"></div>
   <div class="ui hidden divider"></div>
   </div>
`}function kn(i,t,e,s=33,n=33){return`
    <div>
      <div class="question" style="float:left;max-width: ${s}%;margin-right: 10px;">
        ${i}
      </div>
      <div style="float:left; max-width: ${n}%;margin-right: 10px;">
        ${t}
      </div>
      <div style="float:left; max-width: ${100-s-n}%;margin-right: 10px;">
        ${e}
      </div>
      <div style="clear:both"></div>
      <div class="ui hidden divider"></div>
    </div>
    `}function Mn(i,t,e){return e===void 0?e={largeur1:50}:typeof e=="number"&&(e={largeur1:e}),e.largeur1===void 0&&(e.largeur1=50),e.stylecol1===void 0&&(e.stylecol1=""),e.stylecol2===void 0&&(e.stylecol2=""),e.widthmincol1===void 0&&(e.widthmincol1="0px"),e.widthmincol2===void 0&&(e.widthmincol2="0px"),`
    <style>
    .cols-responsive {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-gap: 1rem;
    }
    /* Screen larger than 900px? 2 column */
    @media (min-width: 900px) {
      .cols-responsive { grid-template-columns: repeat(2, 1fr); }
    }
    </style>
    <div class='cols-responsive'>
      <div id='cols-responsive1-${e.eleId}'style='min-width:${e.widthmincol1};${e.stylecol1}' >
      ${i}
      </div>
      <div id='cols-responsive2-${e.eleId}' style='min-width:${e.widthmincol2};${e.stylecol2}' >
      ${t}
      </div>
    </div>
`}function Sn(i){return`<center>${i}</center>`}function te(i,t=2){let e;return t>1?e="\\begin{multicols}{"+t+`}
`+i+`
\\end{multicols}`:e=i,e}function Nn(i){return`<p style="text-align: center">${i}</p>`}function He(i){let t;return i>0?t="+":t="-",t}function Pn(i){let t;Array.isArray(i)?t=i.join("").toString():t=i.toString();let e=0,s="";for(let n=0;n<t.length-1;n++)["0","1","2","3","4","5","6","7","8","9"].indexOf(t[n])!==-1&&(s+=t[n]+"+",e+=Number(t[n]));return["0","1","2","3","4","5","6","7","8","9"].indexOf(t[t.length-1])!==-1&&(s+=t[t.length-1],e+=Number(t[t.length-1])),[e,s]}function D(i,t=6){return isNaN(i)?(window.notify("Le nombre à arrondir n'en est pas un, ça retourne NaN",{nombre:i,precision:t}),NaN):bt(i,t)}function zn(i,t){const e=Math.pow(10,t),n=new E(i).abs().mul(e).floor().div(e);return i<0?n.mul(-1).toNumber():n.toNumber()}function Li(i){return i instanceof E?i.abs():Math.abs(i)}function Cn(i){const t=[],e=[];for(let s=0;s<i.length;s++)i[s]>0?t.push(i[s]):e.push(i[s]);return t.concat(e)}function Z(i,t){let e=0;return(i instanceof E||typeof i=="number")&&(i=i.toString()),i.indexOf(".")>0?i.split(".")[1].length-e:0}function ze(i,t){let e,s=0;return i<0?e=-i:e=i,String(e).indexOf(".")>0?String(e).split(".")[0].length-s:String(e).length}function Dn(i,t){return i instanceof E&&(i=i.toNumber()),Z(i)+ze(i)}function Fn(i,t){let e;return i<0?e=-1:e=1,i=Math.abs(i),10**Math.floor(Math.log10(i))*10*e}function In(i=10,t=[]){const e=[...Array(i+1).keys()];for(let s=0;s<t.length;s++)Ne(e,t[s]);return e}function xi(i,t,e=[],s=1){const n=[];for(let r=i;r<=t;r=r+s)n.push(r);typeof e=="number"&&(e=[e]);for(let r=0;r<e.length;r++)Ne(n,e[r]);return n}function En(i=10,t=[]){const e=[];for(let s=1;s<=i;s++)e.push(s);for(let s=0;s<t.length;s++)Ne(e,t[s]);return e}function Rn(i,t){return i-t}function Vn(i){return i.sort(function(t,e){return t-e})}function Oi(i){return i<0?-1:1}function Gn(i){return i.length===0?!0:i.every(t=>He(t)===He(i[0]))}const We={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};/*
  MathALEA2D
 @name      mathalea2d
 @author    Rémi Angot et Jean-Claude Lhote
 @license   MIT License - CC-BY-SA
 @homepage  https://coopmaths.fr/mathalea2d.html
 */let Be=0;class V{positionLabel;color;style;epaisseur;opacite;id;pointilles;bordures;objets;typeObjet;constructor(){this.positionLabel="above",this.color=z("black"),this.style="",this.epaisseur=1,this.opacite=1,this.pointilles=0,this.id=Be,this.bordures=[NaN,NaN,NaN,NaN],Be++}svg(t){return""}tikz(...t){return""}}const jn=(i,t)=>D(i*t,1),Tn=(i,t)=>D(-i*t,1);function Ui({xmin:i=0,ymin:t=0,xmax:e=15,ymax:s=6,pixelsParCm:n=20,scale:r=1,zoom:a=1,optionsTikz:o=[],mainlevee:c=!1,amplitude:u=1,style:l="display: block",id:h="",usePgfplots:f=!1,centerLatex:d=!1}={},...x){const v=(M,S,O,ot,ht)=>{let nt="";if(S instanceof V&&S.objets!=null&&(S=S.objets),!Array.isArray(S)&&S!=null)try{const rt=S;if(!M||typeof rt?.svgml>"u")if(rt?.svg){const dt=rt.svg(n);if(typeof dt=="string")nt="	"+rt.svg(n)+`
`;else{const J=dt;if(typeof J!="object")return window.notify("Dans mathalea2d, la méthode svg() de l'objet a renvoyé quelque chose d'inconnu",{codeLatex:J}),nt;const zt=(J.x-ot)*n*a,Ct=-(J.y-ht)*n*a;J.backgroundColor=J.backgroundColor.replace("{","").replace("}",""),J.color=J.color.replace("{","").replace("}","");const Ii=J.backgroundColor!==""&&J.backgroundColor!=="none"?`<div class="divLatex" style="background-color: ${J.backgroundColor}; position: absolute; top: ${Ct}px; left: ${zt}px; transform: translate(-50%,-50%) rotate(${-J.orientation}deg); opacity: ${J.opacity};" data-top=${Ct} data-left=${zt}>${Ae.renderToString("\\"+J.letterSize+" {\\color{"+J.color+"}{"+J.latex+"}}")}</div>`:`<div class="divLatex" style="position: absolute; top: ${Ct}px; left: ${zt}px; transform: translate(-50%,-50%) rotate(${-J.orientation}deg); opacity: ${J.opacity};" data-top=${Ct} data-left=${zt}>${Ae.renderToString("{\\color{"+J.color+"} \\"+J.letterSize+"{"+J.latex+"}}")}</div>`;O.push(Ii)}}else window.notify("Un problème avec ce mathalea2d, la liste des objets contient un truc louche",{objets:JSON.stringify(S)});else rt?.svgml&&(nt="	"+rt.svgml(n,u)+`
`)}catch(rt){window.notify(rt instanceof Error?rt.message:String(rt),{objet:JSON.stringify(S)})}else if(S!=null&&Array.isArray(S))for(const rt of S)nt+=v(M,rt,O,ot,ht);else window.notify("Un problème avec ce mathalea2d, la liste des objets contient un truc louche",{objets:JSON.stringify(S)});return nt},p=(M,S,O=!1,ot,ht)=>{let nt="";if(O&&S instanceof V&&S.constructor.name==="Repere")return nt;const rt=S instanceof V&&S.constructor.name==="Courbe"&&S.usePgfplots===!0;if(S instanceof V&&S.objets!=null&&!rt&&(S=S.objets),Array.isArray(S))for(const dt of S)nt+=p(M,dt,O,ot,ht);else try{!M||typeof S.tikzml>"u"?typeof S.tikz=="function"&&(S.constructor.name==="Courbe"&&S.usePgfplots===!0?nt="	"+S.tikz(ot,ht)+`
`:nt="	"+S.tikz()+`
`):typeof S.tikzml=="function"&&(nt="	"+S.tikzml(u)+`
`)}catch(dt){console.log(dt instanceof Error?dt.message:String(dt))}return nt},$=[];let g=`<svg class="mathalea2d" ${l} ${h!==""?`id="${h}"`:""}" width="${(e-i)*n*a}" height="${(s-t)*n*a}" viewBox="${i*n} ${-s*n} ${(e-i)*n} ${(s-t)*n}" xmlns="http://www.w3.org/2000/svg" >
`;g+=v(c,x,$,i,s),g+=`
</svg>`,g=g.replace(/\\thickspace/gm," ");const y=`<div class="svgContainer" ${l?`style="${l}"`:""}>
        <div ${h!==""?`id="M2D${h}"`:""} style="position: relative;${l}">
          ${g}
          ${$.join(`
`)}
        </div>
      </div>`;let q;const k=[];if(o!==void 0&&(typeof o=="string"?k.push(o):o.forEach(M=>k.push(M))),f){q=d?`{\\centering
`:"",q+="\\begin{tikzpicture}[baseline";for(let M=0;M<k.length;M++)q+=`,${k[M]}`;r!==1&&(q+=`,scale = ${r}`),q+=`]
`,q+=`\\begin{axis}[
`,q+=`  xmin=${i}, xmax=${e},
`,q+=`  ymin=${t}, ymax=${s},
`,q+=`  axis lines=middle,
`,q+=`  axis line style={-Stealth},
`,q+=`  xlabel={},
`,q+=`  ylabel={},
`,q+=`  xtick distance=2,
`,q+=`  ytick distance=2,
`,q+=`  minor tick num=1,
`,q+=`  grid=both,
`,q+=`  grid style={line width=.1pt, draw=gray!30},
`,q+=`  major grid style={line width=.2pt,draw=gray!50},
`,q+=`  tick label style={font=\\scriptsize},
`,q+=`  every axis plot/.append style={line width=1pt},
`,q+=`  clip=true,
`,q+=`]
`,q+=p(c,x,!0,t,s),q+=`\\end{axis}
`,q+="\\end{tikzpicture}",d&&(q+="\\par}")}else{if(q=d?`{\\centering
`:"",r===1){q+="\\begin{tikzpicture}[baseline";for(let M=0;M<k.length;M++)q+=`,${k[M]}`;q+=`]
`}else{q+="\\begin{tikzpicture}[baseline";for(let M=0;M<k.length;M++)q+=`,${k[M]}`;q+=`,scale = ${r}`,q+=`]
`}q+=`
    \\tikzset{
      point/.style={
        thick,
        draw,
        cross out,
        inner sep=0pt,
        minimum width=5pt,
        minimum height=5pt,
      },
    }
    \\clip (${i},${t}) rectangle (${e},${s});
    `,q+=p(c,x),q+=`
\\end{tikzpicture}`,d&&(q+="\\par}")}return l.includes("display: block")&&!d&&(q+=`\\\\
`),y}class mi extends V{x;y;constructor(t,e){super(),this.x=t,this.y=e,this.bordures=[t,e,t,e],this.tikz=()=>"",this.svg=()=>""}}function de(i=0,t=0){return new mi(i,t)}function Ai(i="000000"){const t=i.match(/.{1,2}/g);return t!==null&&t.length===3?[Number.parseInt(t[0],16),Number.parseInt(t[1],16),Number.parseInt(t[2],16)]:(window.notify("Une couleur est mal formée. Veuillez le signaler aux développeurs de MathALEA.",{couleur:i}),[0,0,0])}function Hi(i){if(!i.startsWith("#"))return i;const t=Ai(i.replace("#",""));return"{rgb,255:red,"+t[0]+";green,"+t[1]+";blue,"+t[2]+"}"}function z(i){if(Array.isArray(i)&&i.length===2)return i[1]==="none"&&(i[1]=""),i.length===2?[String(i[0]),String(i[1])]:(window.notify("Une couleur est mal formée. Veuillez le signaler aux développeurs de MathALEA.",{couleur:i}),["",""]);if(i===void 0||i==="")return window.notify("Une couleur est undefined ou bien une chaine vide. Veuillez le signaler aux développeurs de MathALEA.",{couleur:i}),["",""];if(i==="none")return["none",""];{const t=[];return t[0]=i,i[0]==="#"?t[1]=Hi(i):t[1]=`{${i}}`.replace("{{","{").replace("}}","}"),t.slice(0,2)}}function Wi(i){return typeof We[i]<"u"?We[i]:(window.notify("La couleur "+i+" n'a pas été trouvée dans la liste des couleurs prédéfinies.",{color:i}),"#ffffff")}function Ln(i,t){let e=Wi(i)??i;if(e=e.replace("#",""),e.length===6){const s=Number.parseInt(e,16);let n=(s>>16)+t;n>255&&(n=255),n<0&&(n=0);let r=(s&255)+t;r>255&&(r=255),r<0&&(r=0);let a=(s>>8&255)+t;return a>255&&(a=255),a<0&&(a=0),`#${(r|a<<8|n<<16).toString(16)}`}else return e}function wt(i,{rxmin:t=-.5,rymin:e=-.5,rxmax:s=.5,rymax:n=.5,rzoom:r=1}={}){const a=(f,d,x,v,p,$)=>{if(p==null)return[f,d,x,v,$];if(Array.isArray(p))for(const g of p)[f,d,x,v,$]=a(f,d,x,v,g,$);else{const g=p.bordures??null;g===null||isNaN(g[0])?window.notify(`Ìl y a un problème avec les bordures de ${p.constructor.name}... elles ne sont pas définies !`,{objets:p}):Array.isArray(g)?g.filter(y=>isNaN(y)).length>0?window.notify(`Les bordures de ${p.constructor.name} sont bien un array mais contiennent autre chose que des nombres : ${g}`,{...p}):(f=Math.min(f,g[0]),x=Math.max(x,g[2]),d=Math.min(d,g[1]),v=Math.max(v,g[3]),$=!0):window.notify(`Les bordures de ${p.constructor.name} ne sont pas un array : ${JSON.stringify(g)}`,{...p})}return[f,d,x,v,$]};let o=1e3,c=1e3,u=-1e3,l=-1e3,h=!1;return[o,c,u,l,h]=a(o,c,u,l,i,h),h||window.notify("fixeBordures : aucun objet ne définit de bordures valides",{...i}),{xmin:o+t*r,xmax:u+s*r,ymin:c+e*r,ymax:l+n*r}}const On={lightest:"#f87f5c",title:"#342A34",titlelight:"#f5f1f3"},Un=15,An=100,Hn=2,Wn=10**4,Bn=10**-4,Jn=1,Xn=300,Qn=30,Zn=30,Yn=30,Kn="50px",_n="large",tr=.1,er=1.1,ir=.9,sr=["","|","||","|||","✖︎","O","◼︎","▲","★"],Bi="#F15929",Ji="rgba(241, 89, 41, 0.5)",nr={animationStepInterval:3e3,automaticUserMessage:!0,borderSize:.2,color:"currentColor",colorPointPolygon:"none",changeColorChangeActionToSetOptions:!1,discFillOpacity:.2,displayGrid:!1,distanceWithoutNewPoint:.2,fillColor:"none",fillColorAndBorderColorAreSame:!1,fillOpacity:.2,gridWithTwoPointsOnSamePosition:!0,fontSize:"1em",isDashed:!1,labelAutomaticForPoints:void 0,labelDxInPixels:15,labelDyInPixels:15,latexHeight:12,labelIsVisible:!0,latexWidth:18,limitNumberOfElement:new Map,mark:"||",moveTextGrid:15,pointDescriptionWithCoordinates:!0,pointSize:5,thickness:1,shape:"x",shapeForPolygon:"x",thicknessForPoint:2,tmpColor:"gray",tmpFillColor:Ji,tmpFillOpacity:.2,tmpIsDashed:!0,tmpThickness:1,tmpShape:"x"},rr=["SAVE","OPEN","UNDO","REDO","DRAG","DOWNLOAD_LATEX_SVG","HIDE","REMOVE","POINT","POINT_ON","POINT_INTERSECTION","MIDDLE","SEGMENT","LINE","RAY","POLYGON","LINE_PARALLEL","LINE_PERPENDICULAR","PERPENDICULAR_BISECTOR","BISECTOR_BY_POINTS","CIRCLE_CENTER_POINT","CIRCLE_RADIUS","REFLECTION_OVER_LINE","REFLECTION","ROTATE","TRANSLATION","DILATE","VECTOR","GRID","SET_OPTIONS","FILL","NAME_POINT","MOVE_LABEL","MARK_BETWEEN_POINTS","DESCRIPTION","SHAKE","ZOOM_IN","ZOOM_OUT"];function Je([...i]){return parseInt(At(...i))}const Lt=i=>i.slice().sort((t,e)=>t.valeurDecimale-e.valeurDecimale);class Xi{constructor(...t){this.liste=t,this.denominateurs_amis=[];let e=[];const s=[];this.liste.forEach(r=>{s.push(r.d),e=xe(r.d),e.splice(0,1),this.denominateurs_amis.push(e)});const n=Je(s);this.listeMemeDenominateur=[],this.liste.forEach(r=>{this.listeMemeDenominateur.push(r.reduire(Math.round(n/r.d)))}),this.listeRangee=Lt(this.liste),this.listeRangeeMemeDenominateur=Lt(this.listeMemeDenominateur),this.listeSimplifiee=this.liste.map(r=>r.simplifie()),this.listeRangeeSimplifiee=Lt(this.listeSimplifiee),this.texListe=this.liste.map(r=>r.texFraction).join(" ; ")}completeListe(...t){const e=[this.listeMemeDenominateur[0].d];for(let n=0;n<t.length;n++){this.liste.push(t[n]),e.push(t[n].d);const r=xe(t[n].d);r.splice(0,1),this.denominateurs_amis.push(r)}const s=Je(e);this.listeMemeDenominateur=[];for(let n=0;n<this.liste.length;n++)this.listeMemeDenominateur.push(this.liste[n].reduire(Math.round(s/this.liste[n].d)));this.listeSimplifiee=[];for(let n=0;n<this.liste.length;n++)this.listeSimplifiee.push(this.liste[n].simplifie());this.texListe="";for(let n=0;n<this.liste.length-1;n++)this.texListe+=this.liste[n].texFraction+" ; ";this.texListe+=this.liste[this.liste.length-1].texFraction,this.listeRangee=Lt(this.liste),this.listeRangeeMmeDenominateur=Lt(this.listeMemeDenominateur),this.listeRangeeSimplifiee=Lt(this.listeSimplifiee)}}function Qi(i,t=1){let e,s,n,r,a;if(be(i))return Rt(i);switch(e=Math.floor(i),s=new E(i).sub(e).toDP(3),r=s.toString().replace(/\d*\./,"").length,s=s.mul(10**r).toNumber(),r){case 1:s>1?a=" dixièmes":a=" dixième";break;case 2:s>1?a=" centièmes":a=" centième";break;case 3:s>1?a=" millièmes":a=" millième";break}if(t===1)n=Rt(e)+" unités et "+Rt(s)+a;else if(r===ze(s))n=Rt(e)+" virgule "+Rt(s);else{n=Rt(e)+" virgule ";for(let o=0;o<r-ze(s);o++)n+="zéro-";n+=Rt(s)}return n}function Rt(i){if(i===0)return"zéro";const t={0:"zéro","000":"",1:"un",2:"deux",3:"trois",4:"quatre",5:"cinq",6:"six",7:"sept",8:"huit",9:"neuf",10:"dix",11:"onze",12:"douze",13:"treize",14:"quatorze",15:"quinze",16:"seize",17:"dix-sept",18:"dix-huit",19:"dix-neuf",20:"vingt",21:"vingt et un",22:"vingt-deux",23:"vingt-trois",24:"vingt-quatre",25:"vingt-cinq",26:"vingt-six",27:"vingt-sept",28:"vingt-huit",29:"vingt-neuf",30:"trente",31:"trente et un",32:"trente-deux",33:"trente-trois",34:"trente-quatre",35:"trente-cinq",36:"trente-six",37:"trente-sept",38:"trente-huit",39:"trente-neuf",40:"quarante",41:"quarante et un",42:"quarante-deux",43:"quarante-trois",44:"quarante-quatre",45:"quarante-cinq",46:"quarante-six",47:"quarante-sept",48:"quarante-huit",49:"quarante-neuf",50:"cinquante",51:"cinquante et un",52:"cinquante-deux",53:"cinquante-trois",54:"cinquante-quatre",55:"cinquante-cinq",56:"cinquante-six",57:"cinquante-sept",58:"cinquante-huit",59:"cinquante-neuf",60:"soixante",61:"soixante et un",62:"soixante-deux",63:"soixante-trois",64:"soixante-quatre",65:"soixante-cinq",66:"soixante-six",67:"soixante-sept",68:"soixante-huit",69:"soixante-neuf",70:"soixante-dix",71:"soixante et onze",72:"soixante-douze",73:"soixante-treize",74:"soixante-quatorze",75:"soixante-quinze",76:"soixante-seize",77:"soixante-dix-sept",78:"soixante-dix-huit",79:"soixante-dix-neuf",80:"quatre-vingts",81:"quatre-vingt-un",82:"quatre-vingt-deux",83:"quatre-vingt-trois",84:"quatre-vingt-quatre",85:"quatre-vingt-cinq",86:"quatre-vingt-six",87:"quatre-vingt-sept",88:"quatre-vingt-huit",89:"quatre-vingt-neuf",90:"quatre-vingt-dix",91:"quatre-vingt-onze",92:"quatre-vingt-douze",93:"quatre-vingt-treize",94:"quatre-vingt-quatorze",95:"quatre-vingt-quinze",96:"quatre-vingt-seize",97:"quatre-vingt-dix-sept",98:"quatre-vingt-dix-huit",99:"quatre-vingt-dix-neuf",100:"cent",101:"cent un",102:"cent deux",103:"cent trois",104:"cent quatre",105:"cent cinq",106:"cent six",107:"cent sept",108:"cent huit",109:"cent neuf",110:"cent dix",111:"cent onze",112:"cent douze",113:"cent treize",114:"cent quatorze",115:"cent quinze",116:"cent seize",117:"cent dix-sept",118:"cent dix-huit",119:"cent dix-neuf",120:"cent vingt",121:"cent vingt et un",122:"cent vingt-deux",123:"cent vingt-trois",124:"cent vingt-quatre",125:"cent vingt-cinq",126:"cent vingt-six",127:"cent vingt-sept",128:"cent vingt-huit",129:"cent vingt-neuf",130:"cent trente",131:"cent trente et un",132:"cent trente-deux",133:"cent trente-trois",134:"cent trente-quatre",135:"cent trente-cinq",136:"cent trente-six",137:"cent trente-sept",138:"cent trente-huit",139:"cent trente-neuf",140:"cent quarante",141:"cent quarante et un",142:"cent quarante-deux",143:"cent quarante-trois",144:"cent quarante-quatre",145:"cent quarante-cinq",146:"cent quarante-six",147:"cent quarante-sept",148:"cent quarante-huit",149:"cent quarante-neuf",150:"cent cinquante",151:"cent cinquante et un",152:"cent cinquante-deux",153:"cent cinquante-trois",154:"cent cinquante-quatre",155:"cent cinquante-cinq",156:"cent cinquante-six",157:"cent cinquante-sept",158:"cent cinquante-huit",159:"cent cinquante-neuf",160:"cent soixante",161:"cent soixante et un",162:"cent soixante-deux",163:"cent soixante-trois",164:"cent soixante-quatre",165:"cent soixante-cinq",166:"cent soixante-six",167:"cent soixante-sept",168:"cent soixante-huit",169:"cent soixante-neuf",170:"cent soixante-dix",171:"cent soixante et onze",172:"cent soixante-douze",173:"cent soixante-treize",174:"cent soixante-quatorze",175:"cent soixante-quinze",176:"cent soixante-seize",177:"cent soixante-dix-sept",178:"cent soixante-dix-huit",179:"cent soixante-dix-neuf",180:"cent quatre-vingts",181:"cent quatre-vingt-un",182:"cent quatre-vingt-deux",183:"cent quatre-vingt-trois",184:"cent quatre-vingt-quatre",185:"cent quatre-vingt-cinq",186:"cent quatre-vingt-six",187:"cent quatre-vingt-sept",188:"cent quatre-vingt-huit",189:"cent quatre-vingt-neuf",190:"cent quatre-vingt-dix",191:"cent quatre-vingt-onze",192:"cent quatre-vingt-douze",193:"cent quatre-vingt-treize",194:"cent quatre-vingt-quatorze",195:"cent quatre-vingt-quinze",196:"cent quatre-vingt-seize",197:"cent quatre-vingt-dix-sept",198:"cent quatre-vingt-dix-huit",199:"cent quatre-vingt-dix-neuf",200:"deux cents",201:"deux cent un",202:"deux cent deux",203:"deux cent trois",204:"deux cent quatre",205:"deux cent cinq",206:"deux cent six",207:"deux cent sept",208:"deux cent huit",209:"deux cent neuf",210:"deux cent dix",211:"deux cent onze",212:"deux cent douze",213:"deux cent treize",214:"deux cent quatorze",215:"deux cent quinze",216:"deux cent seize",217:"deux cent dix-sept",218:"deux cent dix-huit",219:"deux cent dix-neuf",220:"deux cent vingt",221:"deux cent vingt et un",222:"deux cent vingt-deux",223:"deux cent vingt-trois",224:"deux cent vingt-quatre",225:"deux cent vingt-cinq",226:"deux cent vingt-six",227:"deux cent vingt-sept",228:"deux cent vingt-huit",229:"deux cent vingt-neuf",230:"deux cent trente",231:"deux cent trente et un",232:"deux cent trente-deux",233:"deux cent trente-trois",234:"deux cent trente-quatre",235:"deux cent trente-cinq",236:"deux cent trente-six",237:"deux cent trente-sept",238:"deux cent trente-huit",239:"deux cent trente-neuf",240:"deux cent quarante",241:"deux cent quarante et un",242:"deux cent quarante-deux",243:"deux cent quarante-trois",244:"deux cent quarante-quatre",245:"deux cent quarante-cinq",246:"deux cent quarante-six",247:"deux cent quarante-sept",248:"deux cent quarante-huit",249:"deux cent quarante-neuf",250:"deux cent cinquante",251:"deux cent cinquante et un",252:"deux cent cinquante-deux",253:"deux cent cinquante-trois",254:"deux cent cinquante-quatre",255:"deux cent cinquante-cinq",256:"deux cent cinquante-six",257:"deux cent cinquante-sept",258:"deux cent cinquante-huit",259:"deux cent cinquante-neuf",260:"deux cent soixante",261:"deux cent soixante et un",262:"deux cent soixante-deux",263:"deux cent soixante-trois",264:"deux cent soixante-quatre",265:"deux cent soixante-cinq",266:"deux cent soixante-six",267:"deux cent soixante-sept",268:"deux cent soixante-huit",269:"deux cent soixante-neuf",270:"deux cent soixante-dix",271:"deux cent soixante et onze",272:"deux cent soixante-douze",273:"deux cent soixante-treize",274:"deux cent soixante-quatorze",275:"deux cent soixante-quinze",276:"deux cent soixante-seize",277:"deux cent soixante-dix-sept",278:"deux cent soixante-dix-huit",279:"deux cent soixante-dix-neuf",280:"deux cent quatre-vingts",281:"deux cent quatre-vingt-un",282:"deux cent quatre-vingt-deux",283:"deux cent quatre-vingt-trois",284:"deux cent quatre-vingt-quatre",285:"deux cent quatre-vingt-cinq",286:"deux cent quatre-vingt-six",287:"deux cent quatre-vingt-sept",288:"deux cent quatre-vingt-huit",289:"deux cent quatre-vingt-neuf",290:"deux cent quatre-vingt-dix",291:"deux cent quatre-vingt-onze",292:"deux cent quatre-vingt-douze",293:"deux cent quatre-vingt-treize",294:"deux cent quatre-vingt-quatorze",295:"deux cent quatre-vingt-quinze",296:"deux cent quatre-vingt-seize",297:"deux cent quatre-vingt-dix-sept",298:"deux cent quatre-vingt-dix-huit",299:"deux cent quatre-vingt-dix-neuf",300:"trois cents",301:"trois cent un",302:"trois cent deux",303:"trois cent trois",304:"trois cent quatre",305:"trois cent cinq",306:"trois cent six",307:"trois cent sept",308:"trois cent huit",309:"trois cent neuf",310:"trois cent dix",311:"trois cent onze",312:"trois cent douze",313:"trois cent treize",314:"trois cent quatorze",315:"trois cent quinze",316:"trois cent seize",317:"trois cent dix-sept",318:"trois cent dix-huit",319:"trois cent dix-neuf",320:"trois cent vingt",321:"trois cent vingt et un",322:"trois cent vingt-deux",323:"trois cent vingt-trois",324:"trois cent vingt-quatre",325:"trois cent vingt-cinq",326:"trois cent vingt-six",327:"trois cent vingt-sept",328:"trois cent vingt-huit",329:"trois cent vingt-neuf",330:"trois cent trente",331:"trois cent trente et un",332:"trois cent trente-deux",333:"trois cent trente-trois",334:"trois cent trente-quatre",335:"trois cent trente-cinq",336:"trois cent trente-six",337:"trois cent trente-sept",338:"trois cent trente-huit",339:"trois cent trente-neuf",340:"trois cent quarante",341:"trois cent quarante et un",342:"trois cent quarante-deux",343:"trois cent quarante-trois",344:"trois cent quarante-quatre",345:"trois cent quarante-cinq",346:"trois cent quarante-six",347:"trois cent quarante-sept",348:"trois cent quarante-huit",349:"trois cent quarante-neuf",350:"trois cent cinquante",351:"trois cent cinquante et un",352:"trois cent cinquante-deux",353:"trois cent cinquante-trois",354:"trois cent cinquante-quatre",355:"trois cent cinquante-cinq",356:"trois cent cinquante-six",357:"trois cent cinquante-sept",358:"trois cent cinquante-huit",359:"trois cent cinquante-neuf",360:"trois cent soixante",361:"trois cent soixante et un",362:"trois cent soixante-deux",363:"trois cent soixante-trois",364:"trois cent soixante-quatre",365:"trois cent soixante-cinq",366:"trois cent soixante-six",367:"trois cent soixante-sept",368:"trois cent soixante-huit",369:"trois cent soixante-neuf",370:"trois cent soixante-dix",371:"trois cent soixante et onze",372:"trois cent soixante-douze",373:"trois cent soixante-treize",374:"trois cent soixante-quatorze",375:"trois cent soixante-quinze",376:"trois cent soixante-seize",377:"trois cent soixante-dix-sept",378:"trois cent soixante-dix-huit",379:"trois cent soixante-dix-neuf",380:"trois cent quatre-vingts",381:"trois cent quatre-vingt-un",382:"trois cent quatre-vingt-deux",383:"trois cent quatre-vingt-trois",384:"trois cent quatre-vingt-quatre",385:"trois cent quatre-vingt-cinq",386:"trois cent quatre-vingt-six",387:"trois cent quatre-vingt-sept",388:"trois cent quatre-vingt-huit",389:"trois cent quatre-vingt-neuf",390:"trois cent quatre-vingt-dix",391:"trois cent quatre-vingt-onze",392:"trois cent quatre-vingt-douze",393:"trois cent quatre-vingt-treize",394:"trois cent quatre-vingt-quatorze",395:"trois cent quatre-vingt-quinze",396:"trois cent quatre-vingt-seize",397:"trois cent quatre-vingt-dix-sept",398:"trois cent quatre-vingt-dix-huit",399:"trois cent quatre-vingt-dix-neuf",400:"quatre cents",401:"quatre cent un",402:"quatre cent deux",403:"quatre cent trois",404:"quatre cent quatre",405:"quatre cent cinq",406:"quatre cent six",407:"quatre cent sept",408:"quatre cent huit",409:"quatre cent neuf",410:"quatre cent dix",411:"quatre cent onze",412:"quatre cent douze",413:"quatre cent treize",414:"quatre cent quatorze",415:"quatre cent quinze",416:"quatre cent seize",417:"quatre cent dix-sept",418:"quatre cent dix-huit",419:"quatre cent dix-neuf",420:"quatre cent vingt",421:"quatre cent vingt et un",422:"quatre cent vingt-deux",423:"quatre cent vingt-trois",424:"quatre cent vingt-quatre",425:"quatre cent vingt-cinq",426:"quatre cent vingt-six",427:"quatre cent vingt-sept",428:"quatre cent vingt-huit",429:"quatre cent vingt-neuf",430:"quatre cent trente",431:"quatre cent trente et un",432:"quatre cent trente-deux",433:"quatre cent trente-trois",434:"quatre cent trente-quatre",435:"quatre cent trente-cinq",436:"quatre cent trente-six",437:"quatre cent trente-sept",438:"quatre cent trente-huit",439:"quatre cent trente-neuf",440:"quatre cent quarante",441:"quatre cent quarante et un",442:"quatre cent quarante-deux",443:"quatre cent quarante-trois",444:"quatre cent quarante-quatre",445:"quatre cent quarante-cinq",446:"quatre cent quarante-six",447:"quatre cent quarante-sept",448:"quatre cent quarante-huit",449:"quatre cent quarante-neuf",450:"quatre cent cinquante",451:"quatre cent cinquante et un",452:"quatre cent cinquante-deux",453:"quatre cent cinquante-trois",454:"quatre cent cinquante-quatre",455:"quatre cent cinquante-cinq",456:"quatre cent cinquante-six",457:"quatre cent cinquante-sept",458:"quatre cent cinquante-huit",459:"quatre cent cinquante-neuf",460:"quatre cent soixante",461:"quatre cent soixante et un",462:"quatre cent soixante-deux",463:"quatre cent soixante-trois",464:"quatre cent soixante-quatre",465:"quatre cent soixante-cinq",466:"quatre cent soixante-six",467:"quatre cent soixante-sept",468:"quatre cent soixante-huit",469:"quatre cent soixante-neuf",470:"quatre cent soixante-dix",471:"quatre cent soixante et onze",472:"quatre cent soixante-douze",473:"quatre cent soixante-treize",474:"quatre cent soixante-quatorze",475:"quatre cent soixante-quinze",476:"quatre cent soixante-seize",477:"quatre cent soixante-dix-sept",478:"quatre cent soixante-dix-huit",479:"quatre cent soixante-dix-neuf",480:"quatre cent quatre-vingts",481:"quatre cent quatre-vingt-un",482:"quatre cent quatre-vingt-deux",483:"quatre cent quatre-vingt-trois",484:"quatre cent quatre-vingt-quatre",485:"quatre cent quatre-vingt-cinq",486:"quatre cent quatre-vingt-six",487:"quatre cent quatre-vingt-sept",488:"quatre cent quatre-vingt-huit",489:"quatre cent quatre-vingt-neuf",490:"quatre cent quatre-vingt-dix",491:"quatre cent quatre-vingt-onze",492:"quatre cent quatre-vingt-douze",493:"quatre cent quatre-vingt-treize",494:"quatre cent quatre-vingt-quatorze",495:"quatre cent quatre-vingt-quinze",496:"quatre cent quatre-vingt-seize",497:"quatre cent quatre-vingt-dix-sept",498:"quatre cent quatre-vingt-dix-huit",499:"quatre cent quatre-vingt-dix-neuf",500:"cinq cents",501:"cinq cent un",502:"cinq cent deux",503:"cinq cent trois",504:"cinq cent quatre",505:"cinq cent cinq",506:"cinq cent six",507:"cinq cent sept",508:"cinq cent huit",509:"cinq cent neuf",510:"cinq cent dix",511:"cinq cent onze",512:"cinq cent douze",513:"cinq cent treize",514:"cinq cent quatorze",515:"cinq cent quinze",516:"cinq cent seize",517:"cinq cent dix-sept",518:"cinq cent dix-huit",519:"cinq cent dix-neuf",520:"cinq cent vingt",521:"cinq cent vingt et un",522:"cinq cent vingt-deux",523:"cinq cent vingt-trois",524:"cinq cent vingt-quatre",525:"cinq cent vingt-cinq",526:"cinq cent vingt-six",527:"cinq cent vingt-sept",528:"cinq cent vingt-huit",529:"cinq cent vingt-neuf",530:"cinq cent trente",531:"cinq cent trente et un",532:"cinq cent trente-deux",533:"cinq cent trente-trois",534:"cinq cent trente-quatre",535:"cinq cent trente-cinq",536:"cinq cent trente-six",537:"cinq cent trente-sept",538:"cinq cent trente-huit",539:"cinq cent trente-neuf",540:"cinq cent quarante",541:"cinq cent quarante et un",542:"cinq cent quarante-deux",543:"cinq cent quarante-trois",544:"cinq cent quarante-quatre",545:"cinq cent quarante-cinq",546:"cinq cent quarante-six",547:"cinq cent quarante-sept",548:"cinq cent quarante-huit",549:"cinq cent quarante-neuf",550:"cinq cent cinquante",551:"cinq cent cinquante et un",552:"cinq cent cinquante-deux",553:"cinq cent cinquante-trois",554:"cinq cent cinquante-quatre",555:"cinq cent cinquante-cinq",556:"cinq cent cinquante-six",557:"cinq cent cinquante-sept",558:"cinq cent cinquante-huit",559:"cinq cent cinquante-neuf",560:"cinq cent soixante",561:"cinq cent soixante et un",562:"cinq cent soixante-deux",563:"cinq cent soixante-trois",564:"cinq cent soixante-quatre",565:"cinq cent soixante-cinq",566:"cinq cent soixante-six",567:"cinq cent soixante-sept",568:"cinq cent soixante-huit",569:"cinq cent soixante-neuf",570:"cinq cent soixante-dix",571:"cinq cent soixante et onze",572:"cinq cent soixante-douze",573:"cinq cent soixante-treize",574:"cinq cent soixante-quatorze",575:"cinq cent soixante-quinze",576:"cinq cent soixante-seize",577:"cinq cent soixante-dix-sept",578:"cinq cent soixante-dix-huit",579:"cinq cent soixante-dix-neuf",580:"cinq cent quatre-vingts",581:"cinq cent quatre-vingt-un",582:"cinq cent quatre-vingt-deux",583:"cinq cent quatre-vingt-trois",584:"cinq cent quatre-vingt-quatre",585:"cinq cent quatre-vingt-cinq",586:"cinq cent quatre-vingt-six",587:"cinq cent quatre-vingt-sept",588:"cinq cent quatre-vingt-huit",589:"cinq cent quatre-vingt-neuf",590:"cinq cent quatre-vingt-dix",591:"cinq cent quatre-vingt-onze",592:"cinq cent quatre-vingt-douze",593:"cinq cent quatre-vingt-treize",594:"cinq cent quatre-vingt-quatorze",595:"cinq cent quatre-vingt-quinze",596:"cinq cent quatre-vingt-seize",597:"cinq cent quatre-vingt-dix-sept",598:"cinq cent quatre-vingt-dix-huit",599:"cinq cent quatre-vingt-dix-neuf",600:"six cents",601:"six cent un",602:"six cent deux",603:"six cent trois",604:"six cent quatre",605:"six cent cinq",606:"six cent six",607:"six cent sept",608:"six cent huit",609:"six cent neuf",610:"six cent dix",611:"six cent onze",612:"six cent douze",613:"six cent treize",614:"six cent quatorze",615:"six cent quinze",616:"six cent seize",617:"six cent dix-sept",618:"six cent dix-huit",619:"six cent dix-neuf",620:"six cent vingt",621:"six cent vingt et un",622:"six cent vingt-deux",623:"six cent vingt-trois",624:"six cent vingt-quatre",625:"six cent vingt-cinq",626:"six cent vingt-six",627:"six cent vingt-sept",628:"six cent vingt-huit",629:"six cent vingt-neuf",630:"six cent trente",631:"six cent trente et un",632:"six cent trente-deux",633:"six cent trente-trois",634:"six cent trente-quatre",635:"six cent trente-cinq",636:"six cent trente-six",637:"six cent trente-sept",638:"six cent trente-huit",639:"six cent trente-neuf",640:"six cent quarante",641:"six cent quarante et un",642:"six cent quarante-deux",643:"six cent quarante-trois",644:"six cent quarante-quatre",645:"six cent quarante-cinq",646:"six cent quarante-six",647:"six cent quarante-sept",648:"six cent quarante-huit",649:"six cent quarante-neuf",650:"six cent cinquante",651:"six cent cinquante et un",652:"six cent cinquante-deux",653:"six cent cinquante-trois",654:"six cent cinquante-quatre",655:"six cent cinquante-cinq",656:"six cent cinquante-six",657:"six cent cinquante-sept",658:"six cent cinquante-huit",659:"six cent cinquante-neuf",660:"six cent soixante",661:"six cent soixante et un",662:"six cent soixante-deux",663:"six cent soixante-trois",664:"six cent soixante-quatre",665:"six cent soixante-cinq",666:"six cent soixante-six",667:"six cent soixante-sept",668:"six cent soixante-huit",669:"six cent soixante-neuf",670:"six cent soixante-dix",671:"six cent soixante et onze",672:"six cent soixante-douze",673:"six cent soixante-treize",674:"six cent soixante-quatorze",675:"six cent soixante-quinze",676:"six cent soixante-seize",677:"six cent soixante-dix-sept",678:"six cent soixante-dix-huit",679:"six cent soixante-dix-neuf",680:"six cent quatre-vingts",681:"six cent quatre-vingt-un",682:"six cent quatre-vingt-deux",683:"six cent quatre-vingt-trois",684:"six cent quatre-vingt-quatre",685:"six cent quatre-vingt-cinq",686:"six cent quatre-vingt-six",687:"six cent quatre-vingt-sept",688:"six cent quatre-vingt-huit",689:"six cent quatre-vingt-neuf",690:"six cent quatre-vingt-dix",691:"six cent quatre-vingt-onze",692:"six cent quatre-vingt-douze",693:"six cent quatre-vingt-treize",694:"six cent quatre-vingt-quatorze",695:"six cent quatre-vingt-quinze",696:"six cent quatre-vingt-seize",697:"six cent quatre-vingt-dix-sept",698:"six cent quatre-vingt-dix-huit",699:"six cent quatre-vingt-dix-neuf",700:"sept cents",701:"sept cent un",702:"sept cent deux",703:"sept cent trois",704:"sept cent quatre",705:"sept cent cinq",706:"sept cent six",707:"sept cent sept",708:"sept cent huit",709:"sept cent neuf",710:"sept cent dix",711:"sept cent onze",712:"sept cent douze",713:"sept cent treize",714:"sept cent quatorze",715:"sept cent quinze",716:"sept cent seize",717:"sept cent dix-sept",718:"sept cent dix-huit",719:"sept cent dix-neuf",720:"sept cent vingt",721:"sept cent vingt et un",722:"sept cent vingt-deux",723:"sept cent vingt-trois",724:"sept cent vingt-quatre",725:"sept cent vingt-cinq",726:"sept cent vingt-six",727:"sept cent vingt-sept",728:"sept cent vingt-huit",729:"sept cent vingt-neuf",730:"sept cent trente",731:"sept cent trente et un",732:"sept cent trente-deux",733:"sept cent trente-trois",734:"sept cent trente-quatre",735:"sept cent trente-cinq",736:"sept cent trente-six",737:"sept cent trente-sept",738:"sept cent trente-huit",739:"sept cent trente-neuf",740:"sept cent quarante",741:"sept cent quarante et un",742:"sept cent quarante-deux",743:"sept cent quarante-trois",744:"sept cent quarante-quatre",745:"sept cent quarante-cinq",746:"sept cent quarante-six",747:"sept cent quarante-sept",748:"sept cent quarante-huit",749:"sept cent quarante-neuf",750:"sept cent cinquante",751:"sept cent cinquante et un",752:"sept cent cinquante-deux",753:"sept cent cinquante-trois",754:"sept cent cinquante-quatre",755:"sept cent cinquante-cinq",756:"sept cent cinquante-six",757:"sept cent cinquante-sept",758:"sept cent cinquante-huit",759:"sept cent cinquante-neuf",760:"sept cent soixante",761:"sept cent soixante et un",762:"sept cent soixante-deux",763:"sept cent soixante-trois",764:"sept cent soixante-quatre",765:"sept cent soixante-cinq",766:"sept cent soixante-six",767:"sept cent soixante-sept",768:"sept cent soixante-huit",769:"sept cent soixante-neuf",770:"sept cent soixante-dix",771:"sept cent soixante et onze",772:"sept cent soixante-douze",773:"sept cent soixante-treize",774:"sept cent soixante-quatorze",775:"sept cent soixante-quinze",776:"sept cent soixante-seize",777:"sept cent soixante-dix-sept",778:"sept cent soixante-dix-huit",779:"sept cent soixante-dix-neuf",780:"sept cent quatre-vingts",781:"sept cent quatre-vingt-un",782:"sept cent quatre-vingt-deux",783:"sept cent quatre-vingt-trois",784:"sept cent quatre-vingt-quatre",785:"sept cent quatre-vingt-cinq",786:"sept cent quatre-vingt-six",787:"sept cent quatre-vingt-sept",788:"sept cent quatre-vingt-huit",789:"sept cent quatre-vingt-neuf",790:"sept cent quatre-vingt-dix",791:"sept cent quatre-vingt-onze",792:"sept cent quatre-vingt-douze",793:"sept cent quatre-vingt-treize",794:"sept cent quatre-vingt-quatorze",795:"sept cent quatre-vingt-quinze",796:"sept cent quatre-vingt-seize",797:"sept cent quatre-vingt-dix-sept",798:"sept cent quatre-vingt-dix-huit",799:"sept cent quatre-vingt-dix-neuf",800:"huit cents",801:"huit cent un",802:"huit cent deux",803:"huit cent trois",804:"huit cent quatre",805:"huit cent cinq",806:"huit cent six",807:"huit cent sept",808:"huit cent huit",809:"huit cent neuf",810:"huit cent dix",811:"huit cent onze",812:"huit cent douze",813:"huit cent treize",814:"huit cent quatorze",815:"huit cent quinze",816:"huit cent seize",817:"huit cent dix-sept",818:"huit cent dix-huit",819:"huit cent dix-neuf",820:"huit cent vingt",821:"huit cent vingt et un",822:"huit cent vingt-deux",823:"huit cent vingt-trois",824:"huit cent vingt-quatre",825:"huit cent vingt-cinq",826:"huit cent vingt-six",827:"huit cent vingt-sept",828:"huit cent vingt-huit",829:"huit cent vingt-neuf",830:"huit cent trente",831:"huit cent trente et un",832:"huit cent trente-deux",833:"huit cent trente-trois",834:"huit cent trente-quatre",835:"huit cent trente-cinq",836:"huit cent trente-six",837:"huit cent trente-sept",838:"huit cent trente-huit",839:"huit cent trente-neuf",840:"huit cent quarante",841:"huit cent quarante et un",842:"huit cent quarante-deux",843:"huit cent quarante-trois",844:"huit cent quarante-quatre",845:"huit cent quarante-cinq",846:"huit cent quarante-six",847:"huit cent quarante-sept",848:"huit cent quarante-huit",849:"huit cent quarante-neuf",850:"huit cent cinquante",851:"huit cent cinquante et un",852:"huit cent cinquante-deux",853:"huit cent cinquante-trois",854:"huit cent cinquante-quatre",855:"huit cent cinquante-cinq",856:"huit cent cinquante-six",857:"huit cent cinquante-sept",858:"huit cent cinquante-huit",859:"huit cent cinquante-neuf",860:"huit cent soixante",861:"huit cent soixante et un",862:"huit cent soixante-deux",863:"huit cent soixante-trois",864:"huit cent soixante-quatre",865:"huit cent soixante-cinq",866:"huit cent soixante-six",867:"huit cent soixante-sept",868:"huit cent soixante-huit",869:"huit cent soixante-neuf",870:"huit cent soixante-dix",871:"huit cent soixante et onze",872:"huit cent soixante-douze",873:"huit cent soixante-treize",874:"huit cent soixante-quatorze",875:"huit cent soixante-quinze",876:"huit cent soixante-seize",877:"huit cent soixante-dix-sept",878:"huit cent soixante-dix-huit",879:"huit cent soixante-dix-neuf",880:"huit cent quatre-vingts",881:"huit cent quatre-vingt-un",882:"huit cent quatre-vingt-deux",883:"huit cent quatre-vingt-trois",884:"huit cent quatre-vingt-quatre",885:"huit cent quatre-vingt-cinq",886:"huit cent quatre-vingt-six",887:"huit cent quatre-vingt-sept",888:"huit cent quatre-vingt-huit",889:"huit cent quatre-vingt-neuf",890:"huit cent quatre-vingt-dix",891:"huit cent quatre-vingt-onze",892:"huit cent quatre-vingt-douze",893:"huit cent quatre-vingt-treize",894:"huit cent quatre-vingt-quatorze",895:"huit cent quatre-vingt-quinze",896:"huit cent quatre-vingt-seize",897:"huit cent quatre-vingt-dix-sept",898:"huit cent quatre-vingt-dix-huit",899:"huit cent quatre-vingt-dix-neuf",900:"neuf cents",901:"neuf cent un",902:"neuf cent deux",903:"neuf cent trois",904:"neuf cent quatre",905:"neuf cent cinq",906:"neuf cent six",907:"neuf cent sept",908:"neuf cent huit",909:"neuf cent neuf",910:"neuf cent dix",911:"neuf cent onze",912:"neuf cent douze",913:"neuf cent treize",914:"neuf cent quatorze",915:"neuf cent quinze",916:"neuf cent seize",917:"neuf cent dix-sept",918:"neuf cent dix-huit",919:"neuf cent dix-neuf",920:"neuf cent vingt",921:"neuf cent vingt et un",922:"neuf cent vingt-deux",923:"neuf cent vingt-trois",924:"neuf cent vingt-quatre",925:"neuf cent vingt-cinq",926:"neuf cent vingt-six",927:"neuf cent vingt-sept",928:"neuf cent vingt-huit",929:"neuf cent vingt-neuf",930:"neuf cent trente",931:"neuf cent trente et un",932:"neuf cent trente-deux",933:"neuf cent trente-trois",934:"neuf cent trente-quatre",935:"neuf cent trente-cinq",936:"neuf cent trente-six",937:"neuf cent trente-sept",938:"neuf cent trente-huit",939:"neuf cent trente-neuf",940:"neuf cent quarante",941:"neuf cent quarante et un",942:"neuf cent quarante-deux",943:"neuf cent quarante-trois",944:"neuf cent quarante-quatre",945:"neuf cent quarante-cinq",946:"neuf cent quarante-six",947:"neuf cent quarante-sept",948:"neuf cent quarante-huit",949:"neuf cent quarante-neuf",950:"neuf cent cinquante",951:"neuf cent cinquante et un",952:"neuf cent cinquante-deux",953:"neuf cent cinquante-trois",954:"neuf cent cinquante-quatre",955:"neuf cent cinquante-cinq",956:"neuf cent cinquante-six",957:"neuf cent cinquante-sept",958:"neuf cent cinquante-huit",959:"neuf cent cinquante-neuf",960:"neuf cent soixante",961:"neuf cent soixante et un",962:"neuf cent soixante-deux",963:"neuf cent soixante-trois",964:"neuf cent soixante-quatre",965:"neuf cent soixante-cinq",966:"neuf cent soixante-six",967:"neuf cent soixante-sept",968:"neuf cent soixante-huit",969:"neuf cent soixante-neuf",970:"neuf cent soixante-dix",971:"neuf cent soixante et onze",972:"neuf cent soixante-douze",973:"neuf cent soixante-treize",974:"neuf cent soixante-quatorze",975:"neuf cent soixante-quinze",976:"neuf cent soixante-seize",977:"neuf cent soixante-dix-sept",978:"neuf cent soixante-dix-huit",979:"neuf cent soixante-dix-neuf",980:"neuf cent quatre-vingts",981:"neuf cent quatre-vingt-un",982:"neuf cent quatre-vingt-deux",983:"neuf cent quatre-vingt-trois",984:"neuf cent quatre-vingt-quatre",985:"neuf cent quatre-vingt-cinq",986:"neuf cent quatre-vingt-six",987:"neuf cent quatre-vingt-sept",988:"neuf cent quatre-vingt-huit",989:"neuf cent quatre-vingt-neuf",990:"neuf cent quatre-vingt-dix",991:"neuf cent quatre-vingt-onze",992:"neuf cent quatre-vingt-douze",993:"neuf cent quatre-vingt-treize",994:"neuf cent quatre-vingt-quatorze",995:"neuf cent quatre-vingt-quinze",996:"neuf cent quatre-vingt-seize",997:"neuf cent quatre-vingt-dix-sept",998:"neuf cent quatre-vingt-dix-huit",999:"neuf cent quatre-vingt-dix-neuf"},e=i.toString();let s="";e.substring(e.length-12,e.length-9).length>0&&(s=t[e.substring(e.length-12,e.length-9).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let n="";e.substring(e.length-9,e.length-6).length>0&&(n=t[e.substring(e.length-9,e.length-6).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let r="";e.substring(e.length-6,e.length-3)==="080"||e.substring(e.length-6,e.length-3)==="80"?r="quatre-vingt":e.substring(e.length-5,e.length-3)==="00"&&e.substring(e.length-6,e.length-5)!=="1"?r=t[e.substring(e.length-6,e.length-3).replace(/^0{1,2}/,"")].replaceAll(" ","-").replace("cents","cent"):e.substring(e.length-6,e.length-3).length>0&&(r=t[e.substring(e.length-6,e.length-3).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let a="";e.substring(e.length-3,e.length).length>0&&(a=t[e.substring(e.length-3,e.length).replace(/^0{1,2}/,"")].replaceAll(" ","-"));let o="";return s.length>1&&(s==="un"?o+=s+"-milliard":o+=s+"-milliards",(n!=="zéro"||r!=="zéro"||a!=="zéro")&&(o+="-")),n.length>1&&n!=="zéro"&&(n==="un"?o+=n+"-million":o+=n+"-millions",(r!=="zéro"||a!=="zéro")&&(o+="-")),r.length>1&&r!=="zéro"&&(r==="un"?o+="mille":o+=r+"-mille",a!=="zéro"&&(o+="-")),a.length>1&&a!=="zéro"&&(o+=a),o=o.replace("deux-cents-mille","deux-cent-mille"),o=o.replace("trois-cents-mille","trois-cent-mille"),o=o.replace("quatre-cents-mille","quatre-cent-mille"),o=o.replace("cinq-cents-mille","cinq-cent-mille"),o=o.replace("six-cents-mille","six-cent-mille"),o=o.replace("sept-cents-mille","sept-cent-mille"),o=o.replace("huit-cents-mille","huit-cent-mille"),o=o.replace("neuf-cents-mille","neuf-cent-mille"),o}function ar(){return[new w(1,2),new w(1,3),new w(2,3),new w(1,4),new w(3,4),new w(1,5),new w(2,5),new w(3,5),new w(4,5),new w(1,6),new w(5,6),new w(1,7),new w(2,7),new w(3,7),new w(4,7),new w(5,7),new w(6,7),new w(1,8),new w(3,8),new w(5,8),new w(7,8),new w(1,9),new w(2,9),new w(4,9),new w(5,9),new w(7,9),new w(8,9),new w(1,10),new w(3,10),new w(7,10),new w(9,10)]}function or(){return[new w(1,2),new w(1,3),new w(2,3),new w(1,5),new w(2,5),new w(3,5),new w(4,5),new w(1,7),new w(2,7),new w(3,7),new w(4,7),new w(5,7),new w(6,7)]}function cr(...i){return new Xi(...i)}function Wt(i,t){if(t===void 0){if(i===void 0)throw window.notify("fraction de fractions : aucun argument n'est défini ",{a:i,b:t}),new Error("fraction de fractions : aucun argument n'est défini ");if(typeof i=="number")return Ee(i);if(!isNaN(i))return Ee(Number(i));throw window.notify("fraction de fractions : l'argument est de type inconvenant ",{a:i}),new Error("fraction de fractions : l'argument est de type inconvenant ")}else{if(i===void 0)throw window.notify("fraction de fractions : le premier argument n'est pas défini ",{a:i,b:t}),new Error("fraction de fractions : le premier argument n'est pas défini ");if(typeof i=="number"&&typeof t=="number")return new w(i,t);if(!isNaN(t)&&!isNaN(i))return new w(Number(i),Number(t));throw window.notify("fraction de fractions : les arguments sont de type inconvenant ",{a:i,b:t}),new Error("fraction de fractions : les arguments sont de type inconvenant ")}}function ur(i,t){let e;switch(i){case 2:return t?"demis":"demi";case 3:return"tiers";case 4:return t?"quarts":"quart";case 9:return t?"neuvièmes":"neuvième";default:return e=Qi(i),i===5?t?"cinquièmes":"cinquième":e.endsWith("e")?`${e.substring(0,e.length-1)}ième${t?"s":""}`:`${e}ième${t?"s":""}`}}function lr(i,t=[]){let e=ut(65,90-i),s="";typeof t=="string"&&(t=Array.from(t));for(let n=0;n<i;n++){let r=n;for(;e+r>90;)r-=26;for(;e+r<65;)r+=26;s+=String.fromCharCode(e+r)}if(t.length<=26-i){let n=0;for(;Zi(s,t)&&n<20;){s="",e=ut(65,90-i);for(let r=0;r<i;r++)s+=String.fromCharCode(e+r);n++}}else console.info("Trop de questions donc plusieurs polygones peuvent avoir le même nom");return s}function Zi(i,t){let e=!1;for(const s of t)for(let n=0;n<s.length;n++)i.indexOf(s[n])>-1&&(e=!0);return e}function _t(i,t=!1){let e="";return i<=26?(e=String.fromCharCode(64+i),t&&i>=4&&(e=String.fromCharCode(64+i+1))):i%26===0?(e=String.fromCharCode(64+Math.floor(i/26)-1),e+="Z"):(e=String.fromCharCode(64+Math.floor(i/26)),e+=String.fromCharCode(64+i%26)),e}function hr(i){return _t(i).toLowerCase()}function fr(i){const t=Bt(i-1,26)===0?"":Bt(i-1,26);return String.fromCharCode(64+(i-1)%26+1)+(i>26?`_{${t}}`:"")}function Xe(i=1){let t="";for(let e=0;e<i;e++)t+="&nbsp;";return t}function dr(i){return typeof i=="string"&&i.length>0?(i+"").charAt(0).toUpperCase()+i.substring(1):""}function pr(i,t=!1){return'<span style="color:#f15929; font-weight:bold">'+String.fromCharCode(97+i)+")"+(t?"":"&nbsp;")+"</span>"}function xr(i,t=!1){return i=i+1,'<span style="color:#f15929; font-weight:bold">'+i+")"+(t?"":"&nbsp;")+"</span>"}function mr(i){let t="";for(let e=0;e<i.length;e++)t+=i[i.length-1-e];return t}function T(i){if(typeof i=="number")return i===1?"":i===-1?"-":F(i);if(i instanceof E)return i.eq(1)?"":i.eq(-1)?"-":F(i);if(i instanceof w&&!(i.isEqual(Wt(1,1))||i.isEqual(Wt(-1,1))))return i.toLatex();if(i instanceof w&&i.isEqual(Wt(1,1)))return"";if(i instanceof w&&i.isEqual(Wt(-1,1)))return"-";if(!(i instanceof w)){if(R(i,1))return"";if(R(i,-1))return"-"}return typeof i=="string"?(window.notify("rienSi1() n'accepte pas les string.",{argument:i}),F(Number(i),7)):(window.notify("rienSi1 : type de valeur non prise en compte : ",{a:i}),String(i))}function gr(i){return typeof i=="number"?i===0?"":F(i):i instanceof E?i.isZero()?"":F(i):i instanceof w&&!i.isEqual(Wt(0,1))?i.toLatex():i instanceof w&&i.isEqual(Wt(0,1))||!(i instanceof w)&&R(i,0)?"":typeof i=="string"?(window.notify("rienSi0() n'accepte pas les string.",{argument:i}),F(Number(i),7)):(window.notify("rienSi0 : type de valeur non prise en compte : ",{a:i}),String(i))}function yr(i){return typeof i=="number"&&(i=String(i)),`<sup>${i}</sup>`}function br(i){return typeof i=="string"&&(window.notify("ecritureNombreRelatif() n'accepte pas les string.",{argument:i}),i=Number(i)),i>0?"(+"+F(i)+")":i<0?"("+F(i)+")":"0"}function $r(i,{color:t=null}={}){typeof i=="string"&&(window.notify("ecritureNombreRelatifc() n'accepte pas les string.",{argument:i}),i=Number(i));let e="";return i>0?e=et("(+"+F(i,7)+")",t??"blue"):i<0?e=et("("+F(i,7)+")",t??"green"):e=et("0",t??"black"),e}function xt(i){return typeof i=="string"?(window.notify("ecritureAlgebrique() n'accepte pas les string.",{argument:i}),i):i instanceof w?i.texFractionSignee:typeof i=="number"?i>=0?"+"+F(i,7):F(i,7):i instanceof E?i.isPos()?"+"+F(i,7):F(i,7):(window.notify("ecritureAlgebrique() : type de valeur non prise en compte",{argument:i}),"")}function Ce(i){return i instanceof w?i.num===1&&i.den===1?"+":i.num===-1&&i.den===1?"-":i.texFractionSignee:(typeof i=="string"&&(window.notify("ecritureAlgebriqueSauf1() n'accepte pas les string.",{argument:i}),i=Number(i)),Oe(i,1)?"+":Oe(i,-1)?"-":typeof i=="number"||i instanceof E?xt(i):(window.notify("ecritureAlgebriqueSauf1 : type de valeur non prise en compte",{}),"erreur type de valeur non prise en compte"))}function qr(i,t){typeof i=="string"&&(window.notify("ecritureAlgebriquec() n'accepte pas les string.",{argument:i}),i=Number(i));let e="";return i>0?e=et("+"+F(i,7),t??"blue"):i<0?e=et(F(i,7),t??Bi):e=et(F(i,7),t??"black"),e}function Qe(i,t=0){if(typeof i!="number")window.notify("signeMoinsEnEvidence() appelé avec autre chose qu'un nombre.",{argument:i});else return i<0?et("-")+F(Math.abs(i),t):F(Math.abs(i),t)}function H(i){let t="";return i instanceof E?i.gte(0)?F(i,8):`(${F(i,8)})`:typeof i=="number"?(i>=0?t=F(i,8):t=`(${F(i,8)})`,t):i instanceof w?i.ecritureParentheseSiNegatif:(window.notify("ecritureParentheseSiNegatif() appelée avec autre chose qu'un nombre",{argument:i}),"undefined")}function at(i){return typeof i=="string"&&i[0]==="-"?`(${i})`:typeof i=="string"?i:typeof i=="number"&&i<0?`(${ie(i,7)})`:typeof i=="number"?ie(i,7):i instanceof w&&i.s===-1?`(${i.texFSD})`:(window.notify("ecritureParentheseSiMoins() n'accepte pas ce type d'argument.",{argument:i}),String(i))}function vr(i,t){return i instanceof w?R(i.num/i.den,D(i.num/i.den,t))?"=":"\\approx":i instanceof E?i.eq(i.toDP(t))?"=":"\\approx":!isNaN(i)&&!isNaN(t)?R(i,bt(i,t),10**(-t-2))?"=":"\\approx":(window.notify("egalOuApprox : l'argument n'est pas un nombre",{a:i,precision:t}),"Mauvais argument (nombres attendus).")}function wr(i,t,e="x",s={}){return Yi(i,0,t,e,void 0,s)}function Yi(i,t,e,s="x",n="y",r={}){!(i instanceof E)&&!(i instanceof w)&&(i=new E(i)),!(t instanceof E)&&!(t instanceof w)&&(t=new E(t)),!(e instanceof E)&&!(e instanceof w)&&(e=new E(e));let a,o,c,u,l,h,f;return i instanceof E?(o=i.isZero(),l=o?"":(i.eq(1)?r.ordreInverse?"+":"":i.eq(-1)?"-":r.ordreInverse?Ce(i):F(i))+s):(a=i.valeurDecimale,o=a===0,l=o?"":(a===1?r.ordreInverse?"+":"":a===-1?"-":r.ordreInverse?i.texFractionSignee:i.texFSD)+s),t instanceof E?(c=t.isZero(),h=c?"":(t.eq(-1)?"-":t.eq(1)&&o?"":t.eq(1)&&!o?"+":o?F(t):xt(t))+n):(a=t.valeurDecimale,c=a===0,h=c?"":(a===-1?"-":a===1&&o?"":a===1&&!o?"+":c?`${t.texFSD}`:`${t.texFractionSignee}`)+n),e instanceof E?(u=e.isZero(),f=o&&c&&u?"0":u?"":o&&c||r.ordreInverse?F(e):xt(e)):(a=e.valeurDecimale,u=a===0,f=o&&c&&u?"0":u?"":o&&c||r.ordreInverse?`${e.texFSD}`:`${e.texFractionSignee}`),r.ordreInverse?`${f}${h}${l}`:`${l}${h}${f}`}function kr(i,t,e,s,n="x"){let r="";if(i!==0){switch(i){case 1:r+=`${n}^3`;break;case-1:r+=`-${n}^3`;break;default:r+=`${i}${n}^3`;break}if(t!==0)switch(t){case 1:r+=`+${n}^2`;break;case-1:r+=`-${n}^2`;break;default:r+=`${typeof t=="number"?xt(t):t}${n}^2`;break}if(e!==0)switch(e){case 1:r+=`+${n}`;break;case-1:r+=`-${n}`;break;default:r+=`${typeof e=="number"?xt(e):e}${n}`;break}s!==0&&(r+=`${typeof s=="number"?xt(s):s}`)}else if(t!==0){switch(t){case 1:r+=`${n}^2`;break;case-1:r+=`-${n}^2`;break;default:r+=`${t}${n}^2`;break}if(e!==0)switch(e){case 1:r+=`+${n}`;break;case-1:r+=`-${n}`;break;default:r+=`${typeof e=="number"?xt(e):e}${n}`;break}s!==0&&(r+=`${typeof s=="number"?xt(s):s}`)}else if(e!==0){switch(e){case 1:r+=`${n}`;break;case-1:r+=`-${n}`;break;default:r+=`${e}${n}`;break}s!==0&&(r+=`${typeof s=="number"?xt(s):s}`)}else r+=`${s}`;return r}function Mr(i){return Array.from(i).sort((s,n)=>s.charCodeAt(0)-n.charCodeAt(0)).join("")}function Sr(i){let t="";for(let e=0;e<i.length-1;e++)e!==0&&(t+=", "),t+=i[e];return i.length>1&&(t+=" et "),t+=i[i.length-1],t}function Nr({a:i=1,b:t=1,c:e=1,d:s=1,x:n="x",reduire:r=!1}={}){if(i===0)return[...Ze({a:e,b:s,c:t,x:n,sommeAGauche:!1})];if(t===0)return[...Ye({a:e,b:s,c:i,x:n,sommeAGauche:!1})];if(e===0)return[...Ze({a:i,b:t,c:s,x:n})];if(s===0)return[...Ye({a:i,b:t,c:e,x:n})];const a=`${T(i)}${n}\\times ${at(T(e)+n)} + 
  ${at(T(i)+n)}\\times ${H(s)} +
  ${H(t)} \\times ${at(T(e)+n)}  +
  ${H(t)} \\times ${H(s)}`,o=`${T(i*e)}${n}^2 + 
  ${at(T(i*s)+n)} +
  ${at(T(t*e)+n)} +
  ${H(t*s)}`,c=`${T(i*e)}${n}^2
  ${Ce(i*s)}${n}
  ${Ce(t*e)}${n}
  ${xt(t*s)}`;return r&&o!==c?[a,o,c]:[a,o]}function Ze({a:i=1,b:t=1,c:e=1,x:s="x",sommeAGauche:n=!0}={}){return i===0?[n?`${T(t)} \\times ${H(e)}`:`${T(e)} \\times ${H(t)}`,`${T(t*e)}`]:t===0?[n?`${T(i)}${s}} \\times ${H(e)}`:`${T(e)} \\times ${at(T(i)+s)}`,`${T(i*e)}${s}`]:e===0?[0,0]:[n?`${T(i)}${s}\\times ${H(e)} +
    ${H(t)} \\times ${H(e)}`:`${T(e)} \\times ${at(T(i)+s)} +
      ${H(e)} \\times ${H(t)}`,`${T(i*e)}${s} + 
    ${at(T(t*e)??"")}`]}function Ye({a:i=1,b:t=1,c:e=1,x:s="x",sommeAGauche:n=!0,doubleX:r=!0}={}){const a=r?s+"^2":s,o=r?s:"";return i===0?[n?`${T(t)} \\times ${at(T(e)+s)}`:`${T(e)}${s} \\times ${H(t)}`,`${T(t*e)}${s}`]:t===0?[n?`${T(i)}${s}} \\times ${at(T(e)+s)}`:`${T(e)}${s} \\times ${at(T(i)+s)}`,`${T(i*e)}${s}`]:e===0?[0,0]:[n?`${T(i)}${s}\\times ${at(T(e)+o)} +
    ${H(t)} \\times ${at(T(e)+o)}`:`${T(e)}${o} \\times ${at(T(i)+s)} +
      ${at(T(e)+o)} \\times ${H(t)}`,`${T(i*e)}${a} + 
      ${at(T(t*e)+o)}`]}function pe(...i){return Ht(...i)}function gi(i,t){return i===0||t===0?0:Math.abs(i*t)/pe(i,t)}function Pr(i){return i.length===0?0:i.length===1?Math.abs(i[0]):i.reduce((t,e)=>gi(t,e))}function Gt(i){if(i===1||i===0)return[];const t=[],e=i<0?-1:1;for(let s=2;s<=Math.abs(i);s++)for(;i%s===0;)t.push(s),i/=s;return t[0]=e*t[0],t}function yi(i){if(i===1)return[[1,1]];const t=Gt(i),e=[];let s=0;for(let n=0;n<t.length;)if(t[n]===0)n++;else{e.push([t[n],1]),s++;for(let r=n+1;r<t.length;r++)t[r]===t[n]&&(e[s-1][1]++,t[r]=0);n++}return e}function zr(i,t=!0){let e="",s=[];if(t){s=yi(i);for(let n=0;n<s.length-1;n++)e+=`${s[n][0]}${s[n][1]>1?"^{"+s[n][1]+"}\\times ":"\\times "}`;e+=`${s[s.length-1][0]}${s[s.length-1][1]>1?"^{"+s[s.length-1][1]+"}":""}`}else{s=Gt(i);for(let n=0;n<s.length-1;n++)e+=`${s[n]}\\times `;e+=`${s[s.length-1]}`}return e}function xe(i){let t=2;const e=[1];for(;t<=i;)i%t===0&&e.push(t),t++;return e}function Cr(i){return xe(i).length===2&&i>1}function Ki(i,t){let e=t,s;if(Number.isInteger(i)&&Number.isInteger(t)){for(;e%i!==0;)e+=1;return e}else return R(Math.floor(t/i),t/i)?t:(s=t/i-Math.floor(t/i),t-s*i+i)}function Dr(i,t){const e=Ki(i,t);return e!==t?e-i:t}function Fr(i){const t=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919,7927,7933,7937,7949,7951,7963,7993,8009,8011,8017,8039,8053,8059,8069,8081,8087,8089,8093,8101,8111,8117,8123,8147,8161,8167,8171,8179,8191,8209,8219,8221,8231,8233,8237,8243,8263,8269,8273,8287,8291,8293,8297,8311,8317,8329,8353,8363,8369,8377,8387,8389,8419,8423,8429,8431,8443,8447,8461,8467,8501,8513,8521,8527,8537,8539,8543,8563,8573,8581,8597,8599,8609,8623,8627,8629,8641,8647,8663,8669,8677,8681,8689,8693,8699,8707,8713,8719,8731,8737,8741,8747,8753,8761,8779,8783,8803,8807,8819,8821,8831,8837,8839,8849,8861,8863,8867,8887,8893,8923,8929,8933,8941,8951,8963,8969,8971,8999,9001,9007,9011,9013,9029,9041,9043,9049,9059,9067,9091,9103,9109,9127,9133,9137,9151,9157,9161,9173,9181,9187,9199,9203,9209,9221,9227,9239,9241,9257,9277,9281,9283,9293,9311,9319,9323,9337,9341,9343,9349,9371,9377,9391,9397,9403,9413,9419,9421,9431,9433,9437,9439,9461,9463,9467,9473,9479,9491,9497,9511,9521,9533,9539,9547,9551,9587,9601,9613,9619,9623,9629,9631,9643,9649,9661,9677,9679,9689,9697,9719,9721,9733,9739,9743,9749,9767,9769,9781,9787,9791,9803,9811,9817,9829,9833,9839,9851,9857,9859,9871,9883,9887,9901,9907,9923,9929,9931,9941,9949,9967,9973],e=[];let s=0;for(;t[s]<i;)e.push(t[s]),s++;return e}function Ke(i){const t=[],e=Math.sqrt(i+1),s=[];for(let n=0;n<i+1;n++)t.push(!0);for(let n=2;n<=e;n++)if(t[n])for(let r=n*n;r<i+1;r+=n)t[r]=!1;for(let n=2;n<i+1;n++)t[n]&&s.push(n);return s}function Ir(i,t){const e=Ke(i-1),s=Ke(t);return s.splice(0,e.length),s}function Er(i){const t=[],e=Gt(i);for(const s in e)t.push(e[s]);return t}function Rr(i=300){const t=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293];for(let e=307;e<=i;e++)Ei(e)&&t.push(e);return t}function W(i){let t="";if(Li(i)===1)return i;const e=Gt(i);for(const s in e)t+=H(e[s])+"\\times";return t=t.substr(0,t.length-6),t}function Vr(i,t=[],e=!0){if(i<2)throw Error(`Impossible de trouver un nombre premier avec ${i}`);let s=e?2:i+1;do{if(pe(i,s)===1&&!t.includes(s))return s;s++}while(!0)}function Gr([[i,t],[e,s]]){let n="";return n+=`$${i}\\times${s}=${t}\\times${e}$`,n}function jr(i,t,e,s=0){let n="";if(typeof i=="number"&&typeof t=="number"&&typeof e=="number"){if(i===0)return n="=erreur : division par zéro",n;const r=new E(t).mul(e).div(i);return n+=`\\dfrac{${F(t,s)}\\times${F(e,s)}}{${F(i,s)}}`,r.eq(r.toDP(s))?n+="=":n+="\\approx",n+=`${F(r,s)}`,n}else return`\\dfrac{${t} \\times${e}}{${i}}`}function Ft(i){if(i===1)return[1,1];const t=yi(i);let e=1,s=1;for(let n=0;n<t.length;n++)t[n][1]%2===0?s*=t[n][0]**(t[n][1]>>1):(t[n][1]>1&&(s*=t[n][0]**(t[n][1]-1>>1)),e*=t[n][0]);return[s,e]}function Tr(i){let t=0,e=0;for(let s=0;s<i.length;s++)i[s]>0?t+=i[s]:e+=i[s];return[t,e]}const bi={format:Ri,evaluate:Vi};function Lr(i){const t=Ft(i);return t[1]===1?`${t[0]}`:t[0]===1?`\\sqrt{${t[1]}}`:`${t[0]}\\sqrt{${t[1]}}`}function Or(i,t="green",e="red",s="black",n){return typeof i=="string"&&window.notify("texNombreCouleur appelé avec un string à la place d'un nombre",{nombre:i}),i instanceof E?i.isZero()?et(F(0,n),s):i.isNeg()?et(F(i,n),e):et(F(i,n),t):i>0?et(F(i,n),t):i<0?et(F(i,n),e):et(F(0,n),s)}function Ur(i){return Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format(i).toString().replace(/\s+/g,"\\thickspace ")}function F(i,t=8,e=!1,s=!1){return typeof i=="string"&&(window.notify("texNombre appelé avec un string à la place d'un nombre",{nombre:i}),i=Number(i)),$i(i,t,"texNombre",e,s).replace(",","{,}").replace(/\s+/g,"\\,")}function Ar(i){typeof i=="string"&&window.notify("texNombre2 appelé avec un string à la place d'un nombre",{nombre:i});let t=bi.format(i,{notation:"auto",lowerExp:-12,upperExp:12,precision:12}).replace(".",",");const e=t.indexOf(",");let s;e!==-1?s=t.substring(0,e):s=t;let n="";e!==-1&&(n=t.substring(e+1));for(let r=s.length-3;r>0;r-=3)s=s.substring(0,r)+"\\,"+s.substring(r);for(let r=3;r<n.length;r+=5)n=n.substring(0,r)+"\\,"+n.substring(r),r+=12;return n===""?t=s:t=s+"{,}"+n,t}function Hr(i){typeof i=="string"&&window.notify("texNombre3 appelé avec un string à la place d'un nombre",{nombre:i});let t=bi.format(i,{notation:"auto",lowerExp:-12,upperExp:12,precision:12}).replace(".",",");const e=t.indexOf(",");let s;e!==-1?s=t.substring(0,e):s=t;let n="";e!==-1&&(n=t.substring(e+1));for(let r=s.length-3;r>0;r-=3)s=s.substring(0,r)+Xe()+s.substring(r);for(let r=3;r<=n.length;r+=3)n=n.substring(0,r)+Xe()+n.substring(r),r+=12;return n===""?t=s:t=s+","+n,t}function Wr(i){return isNaN(i)?(window.notify("nombreAvecEspace : argument NaN ou undefined",{nb:i}),"NaN"):Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format(i).toString().replace(/\s+/g," ")}function Br(i,t){return t<-6?E.set({toExpNeg:t-1}):t>20&&E.set({toExpPos:t+1}),F(new E(i).mul(E.pow(10,t)),10)}function ie(i,t,e,s){return e===void 0&&(e=!1),s===void 0&&(s=!1),t===void 0&&(t=8),typeof i=="string"&&window.notify("stringNombre appelé avec un string à la place d'un nombre",{nombre:i}),$i(i,t,"stringNombre",e,s)}function $i(i,t,e,s=!1,n){function r(u,l,h,f){let d,x;const v=l+h;u instanceof E?(E.set({toExpNeg:-h-1}),d=u.isNeg(),u.abs().gte(1),s?x=u.toFixed(h).replace(".",","):x=u.toDP(h).toString().replace(".",",")):(d=u<0,Math.abs(u)<1?s?x=Intl.NumberFormat("fr-FR",{maximumFractionDigits:h,minimumFractionDigits:h}).format(u):x=Intl.NumberFormat("fr-FR",{maximumFractionDigits:h}).format(u).replaceAll(/\s+/g," "):s&&(n&&Number.isInteger(u)||!Number.isInteger(u))?x=Intl.NumberFormat("fr-FR",{maximumSignificantDigits:v,minimumSignificantDigits:Math.min(v,15)}).format(u).replaceAll(/\s+/g," "):x=Intl.NumberFormat("fr-FR",{maximumSignificantDigits:Math.min(v,15)}).format(u).replaceAll(/\s+/g," "));const p=x.indexOf(",");let $;p!==-1?$=x.substring(0,p):$=x;let g="";if(p!==-1&&(g=x.substring(p+1)),u instanceof E){d&&($=$.substring(1));for(let y=$.length-3;y>0;y-=3)$=$.substring(0,y)+" "+$.substring(y);d&&($="-"+$)}for(let y=3;y<g.length;y+=f==="texNombre"?5:4)g=g.substring(0,y)+(f==="texNombre"?"\\,":" ")+g.substring(y);return g===""?x=$:x=$+","+g,x}const a=function(u){if(Math.abs(u)>1e-10&&Math.abs(u)<1e11){let l=u.toFixed(18);l.includes(".")&&(l=l.split(".")[1]);const h=+("."+l);let f=1;for(let d=1;d<l.length;d++){const x=bt(+("."+l.substring(0,d+1)),d);if(Math.abs(x-h)>1e-10)f++;else return f}return f}else return window.notify(`trouveLaPrecision de ${u} n'est pas possible : il ne peut pas être transformé en écriture décimale. Il faut adapter le code de l'exercice ou verifier que ce nombre n'est pas un bug`,{x:u}),10};if(!(i instanceof E)&&typeof i!="number")if(i instanceof w)i=i.toNumber();else if(typeof i=="string"){const u=i.replaceAll(",",".")??"";i!==""?i=new E(u):window.notify(`TrouveLaPrecision : problème avec ce nombre : ${i}`,{nb:i})}else typeof i!="number"&&(window.notify(`afficherNombre a reçu un argument de type inconnu come nombre : ${i}`,{nombreEntrant:i}),i=Number(i),isNaN(i)&&(window.notify("Et ce paramètre n'est pas convertible en nombre ! il faut donc vérifier l'exercice qui comporte un bug !",{nb:i}),i=0));if(t===void 0&&(i instanceof E?t=i.e<0?i.precision()+-i.e:i.precision(!0):Number.isInteger(i)||Math.round(Math.log10(Number(i)))<-10?t=0:t=a(Number(i))),Number.isNaN(i)&&!(i instanceof E))return window.notify("AfficherNombre : Le nombre n'en est pas un",{nb:i,precision:t,fonction:e}),"";if(i instanceof E){if(i.isZero())return"0"}else if(Number(i)===0)return"0";let o;return i instanceof E?(i.abs().lt(1)?o=0:o=i.abs().floor().toFixed(0).length,i.isInteger()&&!n?t=0:typeof t!="number"?t=15-o:t<0&&(t=0)):(Math.abs(Number(i))<1?o=0:o=Math.floor(Math.abs(Number(i))).toFixed(0).length,Number.isInteger(i)&&!s?t=0:typeof t!="number"?t=15-o:t<0&&(t=0)),o+t>15&&!(i instanceof E)&&window.notify(e+` : ${ln} le nombre passé à la fonction a trop de chiffres significatifs, soit c'est un bug à corriger, soit il faut utiliser un Decimal !`,{nb:i,precision:t}),r(Number(i),o,t,e)}function Jr(i){if(i instanceof E)return i.isInteger()?F(i,0):F(i,2,!0);const t=Number(i);return t.toString()===t.toFixed(0)?F(i,0):F(i,2,!0)}function Xr(i){let t=0,e=new E(i);if(e.abs().gte(10)){for(;t<50&&e.abs().gt(10);)e=e.div(10),t++;return[e.toNumber(),t]}else if(e.abs().lt(1)){for(;t<50&&e.abs().lt(1);)e=e.mul(10),t++;return[e.toNumber(),-1*t]}else return[i,0]}function Qr(i){return i<10?`0${i}`:i.toString()}function Zr(i){return i*180/Math.PI}function Et(i){return i*Math.PI/180}function Yr(i){return Math.cos(Et(i))}function Kr(i){return Math.sin(Et(i))}function _r(i){return Math.tan(Et(i))}function _i(i){return i.degres==="0"?i:new Mt({degres:"-"+i.degres,cos:i.cos,sin:i.sin==="0"?i.sin:qi(i.sin),tan:i.tan==="0"?i.tan:"-"+i.tan,radians:"-"+i.radians})}function ts(i){switch(i){case"\\dfrac{\\pi}{4}":return i;case"\\dfrac{\\pi}{6}":return"\\dfrac{\\pi}{3}";case"\\dfrac{\\pi}{3}":return"\\dfrac{\\pi}{6}";case"\\dfrac{\\pi}{2}":return"0";case"0":return"\\dfrac{\\pi}{2}"}}function es(i){switch(i){case"\\dfrac{\\pi}{4}":return"\\dfrac{3\\pi}{4}";case"\\dfrac{\\pi}{6}":return"\\dfrac{5\\pi}{6}";case"\\dfrac{\\pi}{3}":return"\\dfrac{2\\pi}{3}";case"\\dfrac{\\pi}{2}":return"\\dfrac{\\pi}{2}";case"0":return"\\pi"}}function is(i){switch(i.tan){case"\\infin":case"-\\infin":return"0";case"1":return"1";case"\\sqrt{3}":return"\\dfrac{\\sqrt{3}}{3}";case"\\dfrac{\\sqrt{3}}{3}":return"\\sqrt{3}"}}function ss(i){return new Mt({degres:(90-parseInt(i.degres)).toString(),cos:i.sin,sin:i.cos,tan:is(i),radians:ts(i.radians)})}function ns(i){return new Mt({degres:(180-parseInt(i.degres)).toString(),cos:i.cos==="0"?"0":qi(i.cos),sin:i.sin,tan:i.tan==="\\infin"?"\\infin":"-"+i.tan,radians:es(i.radians)})}function qi(i){if(Array.isArray(i)){const t=[];for(const e of i)t.push("-"+e);return t}else return"-"+i}function ta(i,t){function e(n){return n.split("\\dfrac{")[1].split("}{")[0]}const s=t.startsWith("-")?"-":"";if(s==="-"&&(t=t.slice(1)),t.includes("{2}"))if(Number.isInteger(i)&&i%2===0){i/=2;const n=e(t);return n==="1"?`${s}${i}`:`${s}${i!==1?i:""}${n}`}else return e(t)==="1"?`${s}\\dfrac{${i}}{2}`:`${s}\\dfrac{${i}${e(t)}}{2}`;else{const n=parseFloat(t);return`${s}${F(i*n)}`}}function _e(i){return i[0]==="-"?`\\left(${i}\\right)`:i}function ea(i){if(Array.isArray(i)){const t=[];for(const e of i)t.push(_e(e));return t}else return _e(i)}class Mt{degres;cos;sin;tan;radians;constructor({degres:t,cos:e=void 0,sin:s=void 0,tan:n=void 0,radians:r=void 0}){this.degres=t;const o=[{degres:"90",cos:"0",sin:"1",tan:"\\infin",radians:"\\dfrac{\\pi}{2}"},{degres:"45",cos:"\\dfrac{\\sqrt{2}}{2}",sin:"\\dfrac{\\sqrt{2}}{2}",tan:"1",radians:"\\dfrac{\\pi}{4}"},{degres:"60",cos:["\\dfrac{1}{2}","0.5"],sin:"\\dfrac{\\sqrt{3}}{2}",tan:"\\sqrt{3}",radians:"\\dfrac{\\pi}{3}"},{degres:"30",sin:["\\dfrac{1}{2}","0.5"],cos:"\\dfrac{\\sqrt{3}}{2}",tan:"\\dfrac{\\sqrt{3}}{3}",radians:"\\dfrac{\\pi}{6}"},{degres:"0",cos:"1",sin:"0",tan:"0",radians:"0"}].find(c=>c.degres===(parseInt(t)%360).toString());o===void 0?((e===void 0||s===void 0||n===void 0||r===void 0)&&window.notify("Il faut fournir les valeurs du cosinus, du sinus, de la tangente et de la mesure en radians",{cos:e,sin:s,tan:n,radians:r}),this.cos=e??"",this.sin=s??"",this.tan=n??"",this.radians=r??""):(this.cos=e??o.cos,this.sin=s??o.sin,this.tan=n??o.tan,this.radians=r??o.radians)}}const rs=[new Mt({degres:"90",cos:"0",sin:"1",tan:"\\infin",radians:"\\dfrac{\\pi}{2}"}),new Mt({degres:"45",cos:"\\dfrac{\\sqrt{2}}{2}",sin:"\\dfrac{\\sqrt{2}}{2}",tan:"1",radians:"\\dfrac{\\pi}{4}"}),new Mt({degres:"60",cos:["\\dfrac{1}{2}","0.5"],sin:"\\dfrac{\\sqrt{3}}{2}",tan:"\\sqrt{3}",radians:"\\dfrac{\\pi}{3}"}),new Mt({degres:"30",sin:["\\dfrac{1}{2}","0.5"],cos:"\\dfrac{\\sqrt{3}}{2}",tan:"\\dfrac{\\sqrt{3}}{3}",radians:"\\dfrac{\\pi}{6}"}),new Mt({degres:"0",cos:"1",sin:"0",tan:"0",radians:"0"})];function as(i,t){const e=360/parseInt(i);return i==="0"?(2*t*180).toString():((e*t+1)*parseInt(i)).toString()}function os(i,t){const e=360/parseInt(i);return i==="0"?`${2*t}\\pi`:`\\dfrac{${e*t+1}\\pi}{${e/2}}`}function cs(i,t){return new Mt({degres:as(i.degres,t),cos:i.cos,sin:i.sin,tan:i.tan,radians:os(i.degres,t)})}function ia({modulos:i=[-1,1]}){let t=rs.slice();const e=t.slice(),s=t.length;for(let a=0;a<s;a++)t.push(_i(t[a]),ss(t[a]),ns(t[a]));t=[...new Map(t.map(a=>[a.degres,a])).values()];const n=t.slice();for(let a=0;a<s;a++)for(const o of i)o!==0&&t.push(cs(t[a%s],o));const r=t.slice();return{liste1:e,liste2:n,liste3:r}}class B extends V{nom;x;y;constructor(t,e,s,n="above"){super(),this.typeObjet="point",this.x=0,this.y=0,this.nom=" ",arguments.length===1?this.nom=String(t):arguments.length===2?Number.isNaN(t)||Number.isNaN(e)?window.notify("Point : les coordonnées ne sont pas valides",{arg1:t,arg2:e}):(this.x=Number(t),this.y=e):(Number.isNaN(t)||Number.isNaN(e)?window.notify("Point : les coordonnées ne sont pas valides",{arg1:t,arg2:e}):(this.x=Number(t),this.y=e),this.nom=String(s)),this.x=D(this.x,2),this.y=D(this.y,2),this.positionLabel=n,this.bordures=[this.x,this.y,this.x,this.y]}xSVG(t){return D(this.x*t,1)}ySVG(t){return D(-this.y*t,1)}}function Nt(i,t,e="",s="above"){return new B(i,t,e,s)}function us(i){return i instanceof B}function ls(i){return i.every(us)}class Zt{roughSvg;div;svg;constructor(t,e,s){this.roughSvg=t,this.div=e,this.svg=s}line(t,e,s,n,{color:r="#000",epaisseur:a=2,roughness:o=1}={}){return this.roughSvg.line(t,e,s,n,{roughness:o,disableMultiStroke:!0,strokeWidth:a,stroke:r}).outerHTML}arc(t,e,s,n,r,a,o,{color:c="#000",epaisseur:u=1,roughness:l=1,bowing:h=.5}={}){return this.roughSvg.arc(t,e,s,n,r,a,o,{roughness:l,bowing:h,disableMultiStroke:!0,strokeWidth:u,stroke:c}).outerHTML}circle(t,e,s,{color:n="#000",epaisseur:r=1,roughness:a=1.5,bowing:o=2.5}={}){return this.roughSvg.circle(t,e,s*2,{roughness:a,bowing:o,disableMultiStroke:!0,strokeWidth:r,stroke:n}).outerHTML}polygon(t=[],{color:e="#000",epaisseur:s=1,roughness:n=1.5,bowing:r=2.5}={}){return this.roughSvg.polygon(t,{roughness:n,bowing:r,disableMultiStroke:!0,strokeWidth:s,stroke:e}).outerHTML}linearPath(t=[],{color:e="#000",epaisseur:s=1,roughness:n=1.5,bowing:r=2.5}={}){return this.roughSvg.linearPath(t,{roughness:n,bowing:r,disableMultiStroke:!0,strokeWidth:s,stroke:e}).outerHTML}ellipse(t,e,s,n,r,a,o,{color:c="#000",epaisseur:u=1,roughness:l=1,bowing:h=.5}={}){return this.roughSvg.ellipse(t,e,s,n,{roughness:l,bowing:h,disableMultiStroke:!0,strokeWidth:u,stroke:c}).outerHTML}rectangle(t,e,s,n,r,a,o,{color:c="#000",epaisseur:u=1,roughness:l=1,bowing:h=.5}={}){return this.roughSvg.rectangle(t,e,s,n,{roughness:l,bowing:h,disableMultiStroke:!0,strokeWidth:u,stroke:c}).outerHTML}curve(t=[],{color:e="#000",epaisseur:s=1,roughness:n=1.5,bowing:r=2.5}={}){return this.roughSvg.curve(t,{roughness:n,bowing:r,disableMultiStroke:!0,strokeWidth:s,stroke:e}).outerHTML}destroy(){this.div.removeChild(this.svg)}static create(){const t=document.querySelector("div#appMathalea");if(!t)return null;const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.width="1024",e.style.height="1024",e.setAttribute("viewBox","0 0 0 0"),t.appendChild(e);const s=Ti.svg(e);return new Zt(s,t,e)}}const De={gauche:"west",milieu:"center",droite:"east"},vi={gauche:"start",milieu:"middle",droite:"end"};function sa({points:i,color:t,taille:e,largeur:s,hauteur:n,couleurDeRemplissage:r}={points:[],color:"black",taille:8,largeur:10,hauteur:10,couleurDeRemplissage:""}){const a=.25*Math.log10(e);let o,c,u;const l=[];let h;Array.isArray(i[0])?h=i[0]:h=i;for(const f of h)switch(f instanceof ft?u=f.c2d:u=f,o=D(u.x),c=D(u.y),u.positionLabel){case"left":l.push(pt(u.nom,o-a,c,t,s,n,r,e));break;case"right":l.push(pt(u.nom,o+a,c,t,s,n,r,e));break;case"below":l.push(pt(u.nom,o,c-a,t,s,n,r,e));break;case"above":l.push(pt(u.nom,o,c+a,t,s,n,r,e));break;case"above right":l.push(pt(u.nom,o+a,c+a,t,s,n,r,e));break;case"below left":l.push(pt(u.nom,o-a,c-a,t,s,n,r,e));break;case"below right":l.push(pt(u.nom,o+a,c-a,t,s,n,r,e));break;default:l.push(pt(u.nom,o-a,c+a,t,s,n,r,e));break}return l}function na(...i){const e=[...i];let s;typeof e[e.length-1]=="string"?(s=z(String(e[e.length-1])),e.length--):s=z("black");const n=[];for(const r of e){let a;r instanceof ft?a=r.c2d:a=r;let o,c;if(a instanceof Q||a instanceof B)switch(o=a.x,c=a.y,a.positionLabel){case"left":n.push(Y(a.nom,o-10/b.pixelsParCm,c,0,s[0],1,"milieu",!0,1));break;case"right":n.push(Y(a.nom,o+10/b.pixelsParCm,c,0,s[0],1,"milieu",!0,1));break;case"below":n.push(Y(a.nom,o,c-10/b.pixelsParCm,0,s[0],1,"milieu",!0,1));break;case"above":n.push(Y(a.nom,o,c+10/b.pixelsParCm,0,s[0],1,"milieu",!0,1));break;case"above left":n.push(Y(a.nom,o-10/b.pixelsParCm,c+10/b.pixelsParCm,0,s[0],1,"milieu",!0,1));break;case"above right":n.push(Y(a.nom,o+10/b.pixelsParCm,c+10/b.pixelsParCm,0,s[0],1,"milieu",!0,1));break;case"below left":n.push(Y(a.nom,o-10/b.pixelsParCm,c-10/b.pixelsParCm,0,s[0],1,"milieu",!0,1));break;case"below right":n.push(Y(a.nom,o+10/b.pixelsParCm,c-10/b.pixelsParCm,0,s[0],1,"milieu",!0,1));break;default:n.push(Y(a.nom,o,c,0,s[0],1,"milieu",!0,1));break}}return n}class Ve extends V{texte;point;orientation;color;scale;ancrageDeRotation;mathOn;opacite;gras;opaciteDeRemplissage;bordures;couleurDeRemplissage;contour;taille;constructor(t,e,s=0,n="black",r=1,a="milieu",o=!1,c=1){super(),typeof s!="number"&&(s==="milieu"||typeof s=="string")&&(a=s,s=0),["milieu","gauche","droite"].includes(a)||(a="milieu"),this.ancrageDeRotation=a,this.orientation=s,this.color=z(n),this.scale=r,this.taille=Math.round(14*r),this.opacite=c,this.couleurDeRemplissage=z(n),this.mathOn=o,this.point=e,this.gras=!1,this.contour=!1,this.opaciteDeRemplissage=c,typeof t!="string"&&(Number.isNaN(t)||(t=ie(t,3)));const u=Math.PI*s/180,l=Math.cos(u),h=Math.sin(u),f=.25,d=.3*r,x=t.length*f*r;a==="milieu"?this.bordures=[e.x-x*l,e.y-x*h-d,e.x+x*l,e.y+x*h+d]:a==="gauche"?this.bordures=[e.x,e.y-2*(x*h)-d,e.x+2*(x*l),e.y+d]:this.bordures=[e.x-2*x*l,e.y-d,e.x,e.y+2*(x*h)+d],typeof t!="string"&&(t=String(t)),t=t.replaceAll("$$","$"),this.texte=t}svg(t){if(this.texte.charAt(0)==="$")return this.point.positionLabel||(this.point.positionLabel="above"),tt(this.texte.substring(1,this.texte.length-1),this.point.x,this.point.y,{color:this.color[0],orientation:this.orientation,letterSize:"normalsize"}).svg();{let e="",s="";this.mathOn&&(s=' font-family= "Book Antiqua"; font-style= "italic" '),this.contour?s+=` style="font-size: ${this.taille}px;fill: ${this.couleurDeRemplissage[0]};fill-opacity: ${this.opaciteDeRemplissage};stroke: ${this.color[0]};stroke-width: 0.5px;stroke-linecap: butt;stroke-linejoin:miter;stroke-opacity: ${this.opacite}" `:s+=` style="font-size:${this.taille}px;fill:${this.color[0]};fill-opacity:${this.opacite};${this.gras?"font-weight:bolder":""}" `;const n=vi[this.ancrageDeRotation];return e=`<text ${s} x="${this.point.xSVG(t)}" y="${this.point.ySVG(t)}" text-anchor = "${n}" dominant-baseline = "central" fill="${this.couleurDeRemplissage[0]}" transform="rotate(${String(this.orientation)} ${this.point.xSVG(t)} ${this.point.ySVG(t)})" id="${this.id}" >${this.texte}</text>
 `,e}}tikz(){if(this.texte.charAt(0)==="$"){this.point.positionLabel||(this.point.positionLabel="above");let t="";const e=De[this.ancrageDeRotation];return t=`\\draw [color=${this.color[1]}] (${String(D(this.point.x))},${String(D(this.point.y))}) node[anchor = ${e},scale=${String(this.scale)}, rotate = ${String(-this.orientation)}] {${this.texte}};`,t}else{let t="";const e=De[this.ancrageDeRotation];return t=`\\draw [color=${this.color[1]}] (${D(this.point.x)},${D(this.point.y)}) node[anchor = ${e},scale=${String(this.scale)}, rotate = ${String(-this.orientation)}] {${this.texte}};`,t}}}function ct(i,t,e=0,s="black",n=1,r="milieu",a=!1,o=1){return new Ve(i,t,e,s,n,r,a,o)}class hs extends V{gras;texte;point;orientation;color;scale;ancrageDeRotation;mathOn;scaleFigure;contour;couleurDeRemplissage;opaciteDeRemplissage;bordures;taille;constructor(t,e,s=0,n="black",r=1,a="milieu",o=!1,c){super(),typeof s!="number"&&(s==="milieu"||typeof s=="string")&&(a=s,s=0),["milieu","gauche","droite"].includes(a)||(a="milieu"),this.color=z(n),this.contour=!1,this.mathOn=o,this.gras=!1,this.point=e,this.scale=r,this.scaleFigure=c,this.taille=10*r,this.opacite=1,this.couleurDeRemplissage=z(n),this.opaciteDeRemplissage=this.opacite,this.bordures=[e.x-t.length*.2,e.y-.4,e.x+t.length*.2,e.y+.4],this.texte=t,this.orientation=s,this.ancrageDeRotation=a}svg(t){if(this.texte.charAt(0)==="$")return le(this.texte.substring(1,this.texte.length-2),this.point,this.color[0],this.texte.length*8,10,"",this.taille*.8).svg(t);{let e="";return this.mathOn&&(e=' font-family= "Book Antiqua"; font-style= "italic" '),this.contour?e+=` style="font-size: ${this.taille}px;fill: ${this.couleurDeRemplissage[0]};fill-opacity: ${this.opaciteDeRemplissage};stroke: ${this.color[0]};stroke-width: 0.5px;stroke-linecap: butt;stroke-linejoin:miter;stroke-opacity: ${this.opacite}" `:e+=` style="font-size:${this.taille}px;fill:${this.color[0]};fill-opacity:${this.opacite};${this.gras?"font-weight:bolder":""}" `,`<text ${e} x="${this.point.xSVG(t)}" y="${this.point.ySVG(t)}" text-anchor = "${vi[this.ancrageDeRotation]}" dominant-baseline = "central" fill="${this.color[0]}" transform="rotate(${String(this.orientation)} ${this.point.xSVG(t)} ${this.point.ySVG(t)})" id="${this.id}" >${this.texte}</text>
 `}}tikz(){let t=this.texte;return this.mathOn&&t[0]!=="$"&&(t="$"+this.texte+"$"),`\\draw ${this.color[0]==="black"?"":`[color=${this.color[1]}]`} (${String(D(this.point.x))},${String(D(this.point.y))}) node[anchor = ${De[this.ancrageDeRotation]}, rotate = ${String(-this.orientation)}, scale=${(this.scale*this.scaleFigure*1.25).toFixed(2)}] {${t}};`}}function fs(i,t,e=0,s="black",n=1,r="milieu",a=!1,o=1){return new hs(i,t,e,s,n,r,a,o)}function ra(i,t,e,s=0,n="black",r=1,a="milieu",o=!1,c=1){return fs(i,m(D(t,2),D(e,2),"","center"),s,n,r,a,o,c)}function Y(i,t,e,s=0,n="black",r=1,a="milieu",o=!1,c){return typeof i=="number"&&(i=String(i)),typeof s!="number"&&(a=s,s=0),a==="middle"&&(a="milieu"),["milieu","droite","gauche"].includes(a)||(a="milieu"),i[0]==="$"?tt(i.substring(1,i.length-1),t,e,{color:n,backgroundColor:"white",letterSize:"normalsize"}):new Ve(i,m(t,e,""),s,n,r,a,o,c)}function le(i,t,e="black",s=20,n=12,r="white",a=8){let o,c;const u=b.pixelsParCm,l=10*Math.log10(a);switch(t.positionLabel){case"above":o=t.x,c=t.y+l/u;break;case"below":o=t.x,c=t.y-l/u;break;case"left":o=t.x-l/u,c=t.y;break;case"right":o=t.x+l/u,c=t.y;break;case"above right":o=t.x+l/u,c=t.y+l/u;break;case"above left":o=t.x-l/u,c=t.y+l/u;break;case"below right":o=t.x+l/u,c=t.y-l/u;break;case"below left":o=t.x-l/u,c=t.y-l/u;break;case"center":o=t.x,c=t.y;break;default:o=t.x,c=t.y;break}return pt(i,o,c,e,s,n,r,a)}class ds extends V{x;y;largeur;hauteur;colorBackground;texte;bordures;taille;orientation;constructor(t,e,s,n,r,a,o="",c=8){if(super(),this.x=e,this.y=s,this.largeur=r*Math.log10(2*c),this.hauteur=a*Math.log10(c),this.colorBackground=o,this.color=z(n),this.texte=t,this.orientation=0,this.bordures=[this.x-(this.texte.length??0)*.15,this.y-.02*this.hauteur,this.x+(this.texte.length??0)*.15,this.y+.02*this.hauteur],c>19?this.taille="\\huge":c>16?this.taille="\\LARGE":c>13?this.taille="\\Large":c>11?this.taille="\\large":c<6?this.taille="\\tiny":c<8?this.taille="\\scriptsize":c<9?this.taille="\\footnotesize":c<10?this.taille="\\small":this.taille="\\normalsize",typeof this.texte!="string")throw Error(`Vous n'avez pas passer un string à latexParCoordonnees() : ${this.texte}`);this.texte[0]==="$"&&this.texte[this.texte.length-1]==="$"&&(this.texte=this.texte.substring(1,this.texte.length-2))}svg(){return{latex:this.texte,x:this.x,y:this.y,opacity:this.opacite,orientation:this.orientation,letterSize:this.taille.substring(1),color:this.color[0],backgroundColor:this.colorBackground}}tikz(){let t;return this.colorBackground!==""&&this.colorBackground!=="none"?t=`\\draw (${this.x},${this.y}) node[anchor = center] {\\colorbox ${z(this.colorBackground)[1]}{${this.taille}  \\color${this.color[1]}{$${this.texte}$}}};`:t=`\\draw (${this.x},${this.y}) node[anchor = center] {${this.taille} \\color${this.color[1]}{$${this.texte}$}};`,t}}function pt(i,t,e,s="black",n=50,r=20,a="",o=8){return i===""&&(i="\\phantom{ }"),new ds(i,t,e,s,n,r,a,o)}class ps extends V{texte;x;y;color;largeur;hauteur;colorBackground;taille="footnotesize";options;bordures;style;constructor(t,e,s,n,r,a,o,c=8,u){if(super(),this.x=e,this.y=s,this.largeur=r,this.hauteur=a,this.colorBackground=z(o),this.color=z(n),this.texte=t,this.style="",this.bordures=[e-this.texte.length*.2,s-.02*this.hauteur,e+this.texte.length*.2,s+.02*this.hauteur],c>19?this.taille="\\huge":c>16?this.taille="\\LARGE":c>13?this.taille="\\Large":c>11?this.taille="\\large":c<6?this.taille="\\tiny":c<8?this.taille="\\scriptsize":c<9?this.taille="\\footnotesize":c<10?this.taille="\\small":this.taille="\\normalsize",u.anchor!==void 0&&u.anchor!=="")switch(u.anchor){case"center":{let l=0;u.dy===void 0||u.dy===""||u.dy.indexOf("%")<0?l=0:l=parseInt(u.dy.substr(0,u.dy.indexOf("%")));let h=0;u.dx===void 0||u.dx===""||u.dx.indexOf("%")<0?h=0:h=parseInt(u.dx.substr(0,u.dx.indexOf("%"))),this.style=`position:fixed;top: 50%;left: 50%;transform: translate(${-50+h}%, ${-50+l}%);`;break}case"above":this.style="position:fixed;bottom:0;";break;case"left":this.style="position:fixed;right:0;";break;case"right":this.style="position:fixed;left:0;";break;case"below":this.style="position:fixed;top:0;";break}o!==""&&(this.style+=`background-color: ${this.colorBackground[0]};`)}svg(t){const e=this.largeur/2;return`<foreignObject style=" overflow: visible; line-height: 0;" x="${this.x*t-e}" y="${-this.y*t-0-this.hauteur/2}"  width="${this.largeur}" height="${this.hauteur}" id="${this.id}" ><div style="width:${this.largeur}px;height:${this.hauteur}px;position:fixed!important; text-align:center">
      <div style='${this.style}'>
      $${this.taille} \\color{${this.color[0]}}{${this.texte}}$
      </div></div></foreignObject>`}tikz(){let t;return this.colorBackground[1]!==""?t=`\\draw (${this.x},${this.y}) node[anchor = center] {\\colorbox ${this.colorBackground[1]}{${this.taille}  \\color${this.color[1]}{$${this.texte}$}}};`:t=`\\draw (${this.x},${this.y}) node[anchor = center] {${this.taille} \\color${this.color[1]}{$${this.texte}$}};`,t}}function aa(i,t,e,s="black",n=50,r=20,a="white",o=8,c){return i===""&&(i="\\phantom{ }"),new ps(i,t,e,s,n,r,a,o,c)}class xs extends V{letterSize;latex;x;y;opacity;orientation;bordures;col;backgroundCol;constructor(t,e,s,{color:n="black",backgroundColor:r="",letterSize:a="normalsize",orientation:o=0,opacity:c=1}){super(),this.col=n,this.backgroundCol=r,this.letterSize=a,this.orientation=o,this.opacity=c,this.latex=t,this.x=e,this.y=s;const u=.25;this.bordures=[e-u,s-u,e+u,s+u]}svg(){return{latex:this.latex,x:this.x,y:this.y,opacity:this.opacity,orientation:this.orientation,letterSize:this.letterSize,color:this.col.replace("#",""),backgroundColor:this.backgroundCol.replace("#","")}}tikz(){return this.backgroundCol.startsWith("#")?this.backgroundCol=`[HTML]{${this.backgroundCol.substring(1)}}`:this.backgroundCol=`${this.backgroundCol}`,this.col.startsWith("#")?this.col=`[HTML]{${this.col.substring(1)}}`:this.col=this.col.startsWith("{")&&this.col.endsWith("}")?this.col:`{${this.col}}`,this.backgroundCol!==""&&this.backgroundCol!=="none"?`\\draw (${this.x},${this.y}) node[anchor = center, rotate=${this.orientation}] {\\colorbox{${this.backgroundCol}} {\\${this.letterSize}  \\color${this.col}{$${this.latex}$}}};`:`\\draw (${this.x},${this.y}) node[anchor = center, rotate=${this.orientation}] {\\${this.letterSize} \\color${this.col}{$${this.latex}$}};`}}function tt(i,t,e,{color:s,backgroundColor:n,letterSize:r,orientation:a,opacity:o}){return s=s??"black",n=n==null||n===""||n==="none"?"":n,r=r??"normalsize",a=a??0,o=o??1,new xs(i,t,e,{color:s,backgroundColor:n,letterSize:r,orientation:a,opacity:o})}function ms(i){return i>1.9?"huge":i>1.6?"LARGE":i>1.3?"Large":i>1.1?"large":i<.6?"tiny":i<.8?"scriptsize":i<.9?"footnotesize":i<1?"small":"normalsize"}function L(i,t,e="",s="above",n="black"){if(i instanceof B){const r=i.x+t.x,a=i.y+t.y;return i instanceof Q?m(r,a,e,s):Nt(r,a,e,s)}if(i instanceof vt){const r=[];for(let a=0;a<i.listePoints.length;a++)r[a]=L(i.listePoints[a],t),r[a].nom=i.listePoints[a].nom+"'";return X(r,n)}if(i instanceof K){const r=L(m(i.x1,i.y1),t),a=L(m(i.x2,i.y2),t);return st(r,a,n)}if(i instanceof lt){const r=L(i.extremite1,t),a=L(i.extremite2,t),o=N(r,a,n);return o.styleExtremites=i.styleExtremites,o}return i}function Yt(i,t,e,s="",n="above",r="black"){if(i instanceof B){const a=i.x+e.x-t.x,o=i.y+e.y-t.y;return i instanceof Q?m(a,o,s,n):Nt(a,o,s,n)}if(i instanceof vt){const a=[];for(let o=0;o<i.listePoints.length;o++)a[o]=Yt(i.listePoints[o],t,e),a[o].nom=i.listePoints[o].nom+"'";return X(a,r)}if(i instanceof K){const a=Yt(m(i.x1,i.y1),t,e),o=Yt(m(i.x2,i.y2),t,e);return st(a,o,r)}if(i instanceof lt){const a=Yt(i.extremite1,t,e),o=Yt(i.extremite2,t,e),c=N(a,o,r);return c.styleExtremites=i.styleExtremites,c}return t}function P(i,t,e,s="",n="above",r="black"){if(i instanceof B){const u=t.x+(i.x-t.x)*Math.cos(e*Math.PI/180)-(i.y-t.y)*Math.sin(e*Math.PI/180),l=t.y+(i.x-t.x)*Math.sin(e*Math.PI/180)+(i.y-t.y)*Math.cos(e*Math.PI/180);return i instanceof Q?m(u,l,s,n):Nt(u,l,s,n)}if(i instanceof vt){const u=[];for(let l=0;l<i.listePoints.length;l++)u[l]=P(i.listePoints[l],t,e),u[l].nom=i.listePoints[l].nom+"'";return X(u,r)}if(i instanceof K){const u=P(m(i.x1,i.y1),t,e),l=P(m(i.x2,i.y2),t,e);return st(u,l,"",r)}if(i instanceof lt){const u=P(i.extremite1,t,e),l=P(i.extremite2,t,e),h=N(u,l,r);return h.styleExtremites=i.styleExtremites,h}const a=i.x*Math.cos(e*Math.PI/180)-i.y*Math.sin(e*Math.PI/180),o=i.x*Math.sin(e*Math.PI/180)+i.y*Math.cos(e*Math.PI/180);return I(a,o)}class gs extends V{constructor(t,e,s,n="black"){super(),this.objets=[];const r=U(t,e,20*s);r.color=z(n);const a=P(t,e,20*s),o=j(a,e,-5*s,.95),c=j(a,e,-5*s,1.05),u=N(a,o,n),l=N(a,c,n);this.objets.push(r,u,l);const h=wt(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[h.xmin,h.ymin,h.xmax,h.ymax]}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function oa(i,t,e,s="black"){return new gs(i,t,e,s)}function G(i,t,e,s="",n="above",r="black"){if(i instanceof B){const u=t.x+e*(i.x-t.x),l=t.y+e*(i.y-t.y);return i instanceof Q?m(u,l,s,n):Nt(u,l,s,n)}if(i instanceof vt){const u=[];for(let l=0;l<i.listePoints.length;l++)u[l]=G(i.listePoints[l],t,e),u[l].nom=i.listePoints[l].nom+"'";return X(u,r)}if(i instanceof K){const u=G(m(i.x1,i.y1),t,e),l=G(m(i.x2,i.y2),t,e);return st(u,l,"",r)}if(i instanceof lt){const u=G(i.extremite1,t,e),l=G(i.extremite2,t,e),h=N(u,l,r);return h.styleExtremites=i.styleExtremites,h}const a=i.x,o=i.y;return I(a*e,o*e)}function Vt(i,t,e="",s="above",n="black"){let r,a;const o=t.a,c=t.b,u=t.c,l=1/(o*o+c*c);if(i instanceof B)return o===0?(r=i.x,a=-(i.y+2*u/c)):c===0?(a=i.y,r=-(i.x+2*u/o)):(r=l*((c*c-o*o)*i.x-2*o*c*i.y-2*o*u),a=l*((o*o-c*c)*i.y-2*o*c*i.x+o*o*u/c-c*u)-u/c),i instanceof Q?m(r,a,e,s):Nt(r,a,e,s);if(i instanceof vt){const v=[];for(let p=0;p<i.listePoints.length;p++)v[p]=Vt(i.listePoints[p],t),v[p].nom=i.listePoints[p].nom+"'";return X(v,n)}if(i instanceof K){const v=Vt(m(i.x1,i.y1),t),p=Vt(m(i.x2,i.y2),t);return st(v,p,n)}if(i instanceof lt){const v=Vt(i.extremite1,t),p=Vt(i.extremite2,t),$=N(v,p,n);return $.styleExtremites=i.styleExtremites,$}let h;R(c,0)?h=m(-u/o,0):h=m(0,-u/c);const f=L(h,i),d=Vt(f,t);return I(h,d)}function we(i,t,e="",s="above"){const n=t.a,r=t.b,a=t.c,o=1/(n*n+r*r);let c,u;if(i instanceof B)return n===0?(c=i.x,u=-a/r):r===0?(u=i.y,c=-a/n):(c=o*(r*r*i.x-n*r*i.y-n*a),u=o*(-n*r*i.x+n*n*i.y+n*n*a/r)-a/r),i instanceof Q?m(c,u,e,s):Nt(c,u,e,s);let l;R(r,0)?l=m(-a/n,0):l=m(0,-a/r);const h=L(l,i),f=we(h,t);return I(l,f)}function Ot(i,t,e,s="",n="above",r="black"){const a=t.a,o=t.b,c=t.c,u=1/(a*a+o*o);let l,h;if(i instanceof B)return a===0?(l=i.x,h=e*i.y+c*(e-1)/o):o===0?(h=i.y,l=e*i.x+c*(e-1)/a):(l=u*(o*o*i.x-a*o*i.y-a*c)*(1-e)+e*i.x,h=u*(a*a*i.y-a*o*i.x+a*a*c/o)*(1-e)+e*c/o+e*i.y-c/o),i instanceof Q?m(l,h,s,n):Nt(l,h,s,n);if(i instanceof vt){const v=[];for(let p=0;p<i.listePoints.length;p++)v[p]=Ot(i.listePoints[p],t,e),v[p].nom=i.listePoints[p].nom+"'";return new vt(v,r)}if(i instanceof K){const v=Ot(m(i.x1,i.y1),t,e),p=Ot(m(i.x2,i.y2),t,e);return new K(v,p,r)}if(i instanceof lt){const v=Ot(i.extremite1,t,e),p=Ot(i.extremite2,t,e);return new lt(v,p,r,i.styleExtremites)}let f;R(o,0)?f=m(-c/a,0):f=m(0,-c/o);const d=L(f,i),x=Ot(d,t,e);return new wi(f,x)}function j(i,t,e,s,n="",r="above",a="black"){if(i instanceof B){const u=Et(e),l=t.x+s*(Math.cos(u)*(i.x-t.x)-Math.sin(u)*(i.y-t.y)),h=t.y+s*(Math.cos(u)*(i.y-t.y)+Math.sin(u)*(i.x-t.x));return i instanceof Q?m(l,h,n,r):Nt(l,h,n,r)}if(i instanceof vt){const u=[];for(let l=0;l<i.listePoints.length;l++)u[l]=j(i.listePoints[l],t,e,s),u[l].nom=i.listePoints[l].nom+"'";return X(u,a)}if(i instanceof K){const u=j(m(i.x1,i.y1),t,e,s),l=j(m(i.x2,i.y2),t,e,s);return st(u,l,a)}if(i instanceof lt){const u=j(i.extremite1,t,e,s),l=j(i.extremite2,t,e,s),h=N(u,l,a);return h.styleExtremites=i.styleExtremites,h}const o=P(i,t,e);return G(o,t,s)}class wi{nom;x;y;constructor(t,e,s=""){arguments.length===1?(this.nom=String(t),this.x=0,this.y=0):(typeof t=="number"||t instanceof w?(this.x=t instanceof w?t.valeurDecimale:Number(t),this.y=e instanceof w?e.valeurDecimale:Number(e)):t instanceof B&&e instanceof B?(this.x=e.x-t.x,this.y=e.y-t.y):(window.notify("Vecteur : (attendus : A et B) les arguments de sont pas des points valides",{arg1:t,arg2:e}),this.x=0,this.y=0),this.nom=s)}norme(){return Math.sqrt(this.x**2+this.y**2)}oppose(){this.x=-this.x,this.y=-this.y}xSVG(t){return this.x*t}ySVG(t){return-this.y*t}representant(t,e="black"){const s=m(t.x+this.x,t.y+this.y),n=N(t,s,e,"->");return n.tailleExtremites=5,n}representantNomme(t,e,s=1,n="black"){let r,a;const o=m(t.x+this.x,t.y+this.y),c=Pt(t,o);r=N(t,o,n);const u=r.angleAvecHorizontale;a=j(this,t,90,.5/this.norme()),Math.abs(u)>90&&(r=N(o,t,n),a=j(this,t,-90,.5/this.norme()));const l=L(c,a);return bs(e,l.x,l.y,s,0,n)}}function I(i,t,e=""){return new wi(i,t,e)}class ys extends V{nom;x;y;angle;taille;constructor(t,e,s,n=1,r=0,a="black"){super(),this.nom=t,this.x=e,this.y=s,this.color=z(a),this.angle=r,this.taille=n;const o=Y(this.nom,this.x,this.y,-this.angle,a,this.taille,"milieu",!0),c=m(this.x,this.y),u=m(c.x+.25*this.nom.length,c.y),l=j(u,c,90+this.angle,1.5),h=P(L(l,I(u,c)),l,this.angle),f=j(h,l,180,1.5),d=N(h,f,a);d.styleExtremites="->",d.tailleExtremites=3,this.objets=[o,d];const x=wt(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[x.xmin,x.ymin,x.xmax,x.ymax]}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function bs(i,t,e,s=1,n=0,r="black"){return i==="i"?tt("\\vec{\\imath}",t,e,{color:r}):i==="j"?tt("\\vec{\\jmath}",t,e,{color:r}):new ys(i,t,e,s,n,r)}class lt extends V{tailleExtremites;styleExtremites;angleAvecHorizontale;x1;y1;x2;y2;extremite1;extremite2;longueur;constructor(...t){super(),this.bordures=[0,0,0,0],this.typeObjet="segment",typeof t[0]=="number"?this.styleExtremites=t[5]||"":this.styleExtremites=String(t[3])||"",this.tailleExtremites=4,t[0]instanceof B||t[0]instanceof ft?(t[1]instanceof B||t[1]instanceof ft?(this.x1=t[0].x,this.y1=t[0].y,this.x2=t[1].x,this.y2=t[1].y):(window.notify(`Segment : (attendus : A et B${arguments.length===3?' et "couleur"':""}) les arguments de sont pas des points valides`,{...t}),this.x1=0,this.y1=0,this.x2=0,this.y2=0),this.color=z(t[2]?.toString()||"black"),this.styleExtremites=t[3]?.toString()||""):((Number.isNaN(t[0])||Number.isNaN(t[1])||Number.isNaN(t[2])||Number.isNaN(t[3]))&&window.notify('Segment : (attendus : x1, y1, x2, y2 et "couleur") les arguments de sont pas des nombres valides',{...t}),this.x1=Number(t[0]),this.y1=Number(t[1]),this.x2=Number(t[2]),this.y2=Number(t[3]),this.color=z(t[4]||"black"),this.styleExtremites=t[5]||""),this.x1=D(this.x1,2),this.y1=D(this.y1,2),this.x2=D(this.x2,2),this.y2=D(this.y2,2),this.epaisseur=1,this.opacite=1,this.pointilles=0,this.bordures=[Number(Math.min(this.x1,this.x2)),Number(Math.min(this.y1,this.y2)),Number(Math.max(this.x1,this.x2)),Number(Math.max(this.y1,this.y2))],this.extremite1=m(this.x1,this.y1),this.extremite2=m(this.x2,this.y2),this.longueur=Math.sqrt((this.x2-this.x1)**2+(this.y2-this.y1)**2),this.angleAvecHorizontale=this.longueur<1e-8?0:it(m(this.x1+1,this.y1),this.extremite1,this.extremite2,5)}svg(t){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `);let e=this.codeExtremitesSVG(t);const s=m(this.x1,this.y1),n=m(this.x2,this.y2);return e+=`
	<line x1="${s.xSVG(t)}" y1="${s.ySVG(t)}" x2="${n.xSVG(t)}" y2="${n.ySVG(t)}" stroke="${this.color[0]}" ${this.style} />`,this.styleExtremites.length>0?e=`<g id="${this.id}">${e}</g>`:e=e.replace("/>",`id="${this.id}" />`),e}tikz(){let t="";const e=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color =${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.opacite!==1&&e.push(`opacity = ${this.opacite}`),this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;case 5:e.push(" dashed ");break}let s="";if(this.styleExtremites.length>0){const n={"|":"Bar",">":"Stealth","<":"Stealth"},r=Math.max(2,Math.round(this.tailleExtremites));Math.max(4,Math.round(this.tailleExtremites*2));let a="",o="";this.styleExtremites.length===3?(a=n[this.styleExtremites[0]]||"",o=n[this.styleExtremites[2]]||""):this.styleExtremites.length===2?(this.styleExtremites[0]in n&&(a=n[this.styleExtremites[0]]),this.styleExtremites[1]in n&&(o=n[this.styleExtremites[1]])):this.styleExtremites.length===1&&this.styleExtremites[0]in n&&(o=n[this.styleExtremites[0]]);const c=a?`{${a}[width=${r}mm]}`:"",u=o?`{${o}[width=${r}mm]}`:"";c&&u?s=`${c}-${u}`:c?s=`${c}-`:u&&(s=`-${u}`),s&&e.push(s)}return e.length>0&&(t="["+e.join(",")+"]"),`\\draw${t} (${this.x1},${this.y1})--(${this.x2},${this.y2});`}svgml(t,e){const s=Zt.create();if(s!=null){const n=m(this.x1,this.y1),r=m(this.x2,this.y2);let a=this.codeExtremitesSVG(t);return a+=s.line(n.xSVG(t),n.ySVG(t),r.xSVG(t),r.ySVG(t),{color:this.color[0],epaisseur:this.epaisseur,roughness:e*2}),this.styleExtremites.length>0?a=`<g id="${this.id}">${a}</g>`:a=a.replace("/>",`id="${this.id}" />`),s.destroy(),a}else return""}tikzml(t){const e=m(this.x1,this.y1),s=m(this.x2,this.y2);let n="";const r=[];return this.color[1].length>1&&this.color[1]!=="black"&&r.push(`color =${this.color[1]}`),this.epaisseur!==1&&r.push(`line width = ${this.epaisseur}`),this.opacite!==1&&r.push(`opacity = ${this.opacite}`),this.styleExtremites.length>1&&(this.styleExtremites.includes("[")||this.styleExtremites.includes("]")?r.push("{"+this.styleExtremites+"}"):r.push(this.styleExtremites)),r.push(`decorate,decoration={random steps , amplitude = ${t}pt}`),n="["+r.join(",")+"]",`\\draw${n} (${e.x},${e.y})--(${s.x},${s.y});`}codeExtremitesSVG(t){let e="";const s=m(this.x1,this.y1),n=m(this.x2,this.y2),r=this.tailleExtremites;if(this.styleExtremites.length>1){const a=this.styleExtremites.slice(-1);if(a==="|"){const c=C(n,s,r/b.pixelsParCm),u=P(c,n,90),l=P(c,n,-90);e+=`<line x1="${u.xSVG(t)}" y1="${u.ySVG(t)}" x2="${l.xSVG(t)}" y2="${l.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(a===">"){const c=C(n,s,r/b.pixelsParCm),u=j(n,c,90,.7),l=j(n,c,-90,.7);e+=`<line x1="${n.xSVG(t)}" y1="${n.ySVG(t)}" x2="${u.xSVG(t)}" y2="${u.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,e+=`
	<line x1="${n.xSVG(t)}" y1="${n.ySVG(t)}" x2="${l.xSVG(t)}" y2="${l.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(a==="<"){const c=C(n,s,-r/b.pixelsParCm),u=j(n,c,90,.7),l=j(n,c,-90,.7);e+=`<line x1="${n.xSVG(t)}" y1="${n.ySVG(t)}" x2="${u.xSVG(t)}" y2="${u.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,e+=`
	<line x1="${n.xSVG(t)}" y1="${n.ySVG(t)}" x2="${l.xSVG(t)}" y2="${l.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(a==="["){const c=C(n,s,r/b.pixelsParCm),u=j(c,n,90,1),l=j(c,n,-90,1),h=j(n,u,-90,.3),f=j(n,l,90,.3);e+=`<polyline points="${f.xSVG(t)},${f.ySVG(t)} ${l.xSVG(t)},${l.ySVG(t)} ${u.xSVG(t)},${u.ySVG(t)} ${h.xSVG(t)},${h.ySVG(t)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}if(a==="]"){const c=C(n,s,r/b.pixelsParCm),u=j(c,n,90,1),l=j(c,n,-90,1),h=j(n,u,90,.3),f=j(n,l,-90,.3);e+=`<polyline points="${f.xSVG(t)},${f.ySVG(t)} ${l.xSVG(t)},${l.ySVG(t)} ${u.xSVG(t)},${u.ySVG(t)} ${h.xSVG(t)},${h.ySVG(t)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}const o=this.styleExtremites[0];if(o==="["){const c=C(s,n,r/b.pixelsParCm),u=j(c,s,90,1),l=j(c,s,-90,1),h=j(s,u,90,.3),f=j(s,l,-90,.3);e+=`<polyline points="${f.xSVG(t)},${f.ySVG(t)} ${l.xSVG(t)},${l.ySVG(t)} ${u.xSVG(t)},${u.ySVG(t)} ${h.xSVG(t)},${h.ySVG(t)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}if(o==="]"){const c=C(s,n,r/b.pixelsParCm),u=j(c,s,90,1),l=j(c,s,-90,1),h=j(s,u,-90,.3),f=j(s,l,90,.3);e+=`<polyline points="${f.xSVG(t)},${f.ySVG(t)} ${l.xSVG(t)},${l.ySVG(t)} ${u.xSVG(t)},${u.ySVG(t)} ${h.xSVG(t)},${h.ySVG(t)}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" stroke-width="${this.epaisseur}" />`}if(o==="<"){const c=C(s,n,r/b.pixelsParCm),u=j(s,c,90,.7),l=j(s,c,-90,.7);e+=`<line x1="${s.xSVG(t)}" y1="${s.ySVG(t)}" x2="${u.xSVG(t)}" y2="${u.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,e+=`
	<line x1="${s.xSVG(t)}" y1="${s.ySVG(t)}" x2="${l.xSVG(t)}" y2="${l.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(o===">"){const c=C(s,n,-r/b.pixelsParCm),u=j(s,c,90,.7),l=j(s,c,-90,.7);e+=`<line x1="${s.xSVG(t)}" y1="${s.ySVG(t)}" x2="${u.xSVG(t)}" y2="${u.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`,e+=`
	<line x1="${s.xSVG(t)}" y1="${s.ySVG(t)}" x2="${l.xSVG(t)}" y2="${l.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}if(o==="|"){const c=C(s,n,r/b.pixelsParCm),u=P(c,s,90),l=P(c,s,-90);e+=`<line x1="${u.xSVG(t)}" y1="${u.ySVG(t)}" x2="${l.xSVG(t)}" y2="${l.ySVG(t)}" stroke="${this.color[0]}" stroke-width="${this.epaisseur}" />`}}return e}estSecant(t){if(Math.abs(this.x1-this.x2)<.01&&Math.abs(this.y1-this.y2)<.01)return m(this.x1,this.y1).estSur(t);const e=st(this.extremite1,this.extremite2);if(t instanceof Se){const n=ai(e,t,"",1),r=ai(e,t,"",2);return n instanceof Q&&n.estSur(this)||r instanceof Q&&r.estSur(this)}let s;if(t instanceof K)s=ne(e,t);else{const n=st(t.extremite1,t.extremite2);s=ne(e,n),typeof s=="boolean"&&(s=t.extremite1.estSur(this)||t.extremite2.estSur(this)||this.extremite1.estSur(N(t.extremite1,t.extremite2))||this.extremite2.estSur(N(t.extremite1,t.extremite2)))}return typeof s=="boolean"?s:s.estSur(t)&&s.estSur(this)}}function N(...i){return new lt(...i)}function ca(...i){const t=N(...i);return t.styleExtremites="|-|",t}class Ge extends lt{constructor(t,e,s="black",n=!1){super(t,e),this.opacite=1,this.pointilles=0,this.epaisseur=1;const r=C(e,t,-10);this.x2=r.x,this.y2=r.y,this.color=z(s),n&&(this.styleExtremites="|-")}}function $s(i,t,e="black",s=!1){return new Ge(i,t,e,s)}function A(i,t,e=2){return D(Math.sqrt((t.x-i.x)**2+(t.y-i.y)**2),e??6)}function qs(i){return Math.sqrt(i.x**2+i.y**2)}class vs extends V{amplitude;constructor(t,e,s=1,n=.5,r="black"){super(),this.typeObjet="cordelette",this.A=t,this.B=e,this.tailleExtremites=0,this.color=z(r),this.amplitude=s,this.bordures=[Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)]}svg(t){const e=Zt.create();if(e!=null){const s=this.A,n=this.B,r=Math.sqrt((n.x-s.x)**2+(n.y-s.y)**2),a=Math.max(2,Math.floor(r/.2)),c=this.genererPointsCordelette(s,n,a).map(l=>[l.x*t,-l.y*t]),u=e.curve(c,{color:this.color[0],epaisseur:this.epaisseur,roughness:this.amplitude*.5,bowing:1});return e.destroy(),u}else return""}genererPointsCordelette(t,e,s){const n=[t],r={x:e.x-t.x,y:e.y-t.y},a={x:-r.y,y:r.x},o=Math.sqrt(a.x**2+a.y**2);o>0&&(a.x/=o,a.y/=o);const c=Math.sqrt(r.x**2+r.y**2),u=1,l=2.3,h=3.7,f=1,d=.6,x=.3,v=(t.x+t.y+e.x+e.y)*1e3,p=$=>{const g=Math.sin($*Math.PI),y=v*.001,q=v*.0013,k=v*.0017;return(f*Math.sin($*Math.PI*u+y)+d*Math.sin($*Math.PI*l+q)+x*Math.sin($*Math.PI*h+k))*g};for(let $=1;$<s;$++){const g=$/s,y={x:t.x+g*r.x,y:t.y+g*r.y},q=this.amplitude*.05*c,k=p(g)*q,M=Math.sin(g*Math.PI)*this.amplitude*.02*c,S=Nt(y.x+k*a.x,y.y+k*a.y-M);n.push(S)}return n.push(e),n}tikz(){const t=this.A,e=this.B,s=Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),n=Math.max(2,Math.floor(s/.2)),r=this.genererPointsCordelette(t,e,n),a=[];this.color[1]!=="black"&&a.push(this.color[1]),this.epaisseur!==1&&a.push(`line width=${this.epaisseur}`),this.opacite!==1&&a.push(`opacity=${this.opacite}`);const o=a.length>0?`[${a.join(", ")}]`:"",c=r.map(u=>`(${u.x.toFixed(3)},${u.y.toFixed(3)})`).join(" ");return`\\draw${o} plot[smooth] coordinates {${c}};`}}function ua(i,t,e=1,s=.5,n="black"){return new vs(i,t,e,s,n)}const Ut={matrix:pi,multiply:fe,norm:hi,cross:di,dot:fi};function ti(i,t,e){let s,n;const r=Ut.norm(t.matrice),a=Ut.multiply(t.matrice,1/r),o=a._data[0],c=a._data[1],u=a._data[2],l=Math.cos(e*Math.PI/180),h=Math.sin(e*Math.PI/180),f=1-l,d=Ut.matrix([[o*o*f+l,o*c*f-u*h,o*u*f+c*h],[o*c*f+u*h,c*c*f+l,c*u*f-o*h],[o*u*f-c*h,c*u*f+o*h,u*u*f+l]]);if(i instanceof ft)return s=Ut.matrix([i.x,i.y,i.z]),n=Ut.multiply(d,s),se(n._data[0],n._data[1],n._data[2]);if(i instanceof re)return s=i,n=Ut.multiply(d,s.matrice),gt(n._data[0],n._data[1],n._data[2])}function mt(i,t,e,s){const n=t.directeur,r=t.origine;if(i instanceof ft){const a=gt(r,se(0,0,0)),o=gt(se(0,0,0),r),c=qt(i,a),u=ti(c,n,e);return qt(u,o)}if(i instanceof re)return ti(i,n,e);if(i instanceof Me){const a=i.listePoints.map(o=>mt(o,t,e));return je(a,s??i.color)}}class ws extends V{constructor(t,e,s,n,r){super(),this.epaisseur=n,this.color=z(r),this.c2d=[];let a,o,c;a=qt(t.origine,e);for(let f=0;f<s;f+=5)o=mt(a,t,5),c=N(a.c2d,o.c2d,r),c.epaisseur=this.epaisseur,this.c2d.push(c),a=o;o=mt(a,t,5),c=N(a.c2d,o.c2d,r),c.epaisseur=this.epaisseur,this.c2d.push(c);const u=ke(o,t.directeur),l=mt(a,u,30),h=mt(a,u,-30);c=N(o.c2d,l.c2d,r),c.epaisseur=this.epaisseur,this.c2d.push(c),c=N(o.c2d,h.c2d,r),c.epaisseur=this.epaisseur,this.c2d.push(c)}}function la(i,t,e,s,n){return new ws(i,t,e,s,n)}function qt(i,t){if(i instanceof ft){const e=i.x+t.x,s=i.y+t.y,n=i.z+t.z;return se(e,s,n)}else if(i instanceof Me){const e=[];for(let s=0;s<i.listePoints.length;s++)e.push(qt(i.listePoints[s],t));return je(e,i.color)}return window.notify("translation3d ne peut être appliqué qu'à un point3d ou un polygone3d",i),i}function Fe(i,t,e,s){let n;const r=[];if(i instanceof ft)return n=gt(t,i),n.x*=e,n.y*=e,n.z*=e,qt(t,n);if(i instanceof re)return n=gt(i.x,i.y,i.z),n.x*=e,n.y*=e,n.z*=e,n;if(i instanceof Me){for(let a=0;a<i.listePoints.length;a++)r.push(Fe(i.listePoints[a],t,e));return je(r,i.color)}return window.notify("homothetie3d ne peut être appliqué qu'à un point3d, un vecteur3d ou un polygone3d",i),i}class ha extends V{constructor(t,e,s,n="black",r=1){super();const a=gt(e,t),o=gt(e,s),c=a.norme,u=o.norme,l=Fe(t,e,r*.5/c),h=Fe(s,e,r*.5/u),f=gt(e,l),d=gt(e,h),x=e.x+f.x+d.x,v=e.y+f.y+d.y,p=e.z+f.z+d.z,$=se(x,v,p),g=me(l,$,n),y=me($,h,n),q=wt([g.c2d,y.c2d]);this.bordures=[q.xmin,q.ymin,q.xmax,q.ymax],this.svg=function(k){return g.c2d.svg(k)+y.c2d.svg(k)},this.tikz=function(){return g.c2d.tikz()+y.c2d.tikz()}}}const Jt={matrix:pi,multiply:fe,norm:hi,cross:di,dot:fi};class ft{x;y;z;isVisible;label;typeObjet;c2d;constructor(t,e,s,n,r,a){const o=b.anglePerspective*Math.PI/180,c=b.coeffPerspective,u=Jt.matrix([[1,c*Math.cos(o),0],[0,c*Math.sin(o),1]]);this.x=t,this.y=e,this.z=s,this.isVisible=n,this.label=r,this.typeObjet="point3d";const l=Jt.matrix([this.x,this.y,this.z]),h=Jt.multiply(u,l);this.c2d=m(D(h._data[0],2),D(h._data[1],2),this.label,a)}}function se(i,t,e=0,s=!0,n="",r="above left"){return new ft(i,t,e,s,n,r)}class re{x=0;y=0;z=0;matrice;norme;c2d;representant;constructor(...t){const e=b.anglePerspective*Math.PI/180,s=b.coeffPerspective,n=Jt.matrix([[1,s*Math.cos(e),0],[0,s*Math.sin(e),1]]);t.length===2?(this.x=t[1].x-t[0].x,this.y=t[1].y-t[0].y,this.z=t[1].z-t[0].z):t.length===3?(this.x=t[0],this.y=t[1],this.z=t[2]):t.length===1&&(this.x=t[0]._data[0],this.y=t[0]._data[1],this.z=t[0]._data[2]),this.matrice=Jt.matrix([this.x,this.y,this.z]),this.norme=Math.sqrt(this.x**2+this.y**2+this.z**2);const r=Jt.multiply(n,this.matrice);this.c2d=I(r._data[0],r._data[1]),this.representant=function(a){const o=qt(a,this);return I(a.c2d,o.c2d).representant(a.c2d)}}}function gt(...i){return new re(...i)}class ks{extremite1;extremite2;color;isVisible;c2d;constructor(t,e,s,n){this.extremite1=t,this.extremite2=e,this.color=Array.isArray(s)?s[0]:s,this.isVisible=n,!t.isVisible||!e.isVisible||!this.isVisible?this.isVisible=!1:this.isVisible=!0,this.c2d=N(t.c2d,e.c2d,this.color),this.isVisible?this.c2d.pointilles=0:this.c2d.pointilles=2}}function me(i,t,e="black",s=!0){return new ks(i,t,e,s)}class Ms{directeur=gt(0,0,1);origine;point;c2d;constructor(t,e){e.constructor===re?this.directeur=e:e.constructor===ft&&(this.directeur=gt(t,e)),this.origine=t;const s=qt(this.origine,this.directeur);this.point=s,this.c2d=st(this.origine.c2d,s.c2d),this.c2d.isVisible=!1}}function ke(i,t){return new Ms(i,t)}function fa(i,t,e,s="direct",n=!1,r="black",a=b.anglePerspective){let o;const c=[],u=[];s==="direct"?o=1:o=-1;const l=ke(i,t);c.push(mt(qt(i,e),l,a)),u.push(c[0].c2d);for(let f=1;f<19;f++)c.push(mt(c[f-1],l,10*o)),u.push(c[f].c2d);const h=ge(u,r);return n&&(h.pointilles=2,h.opacite=.9),h}function da(i,t,e,s,n,r,a){const o=[],c=[],u=ke(i,t);o.push(mt(qt(i,e),u,r)),c.push(o[0].c2d);const l=Math.floor((a-r)/10);for(let f=1;f<=l;f++)o.push(mt(o[f-1],u,10)),c.push(o[f].c2d);const h=ge(c,n);return s==="caché"&&(h.pointilles=2,h.opacite=.3),h}function pa(i,t,e,s=!0,n="black",r=!1){const a=[],o=[],c=[],u=ke(i,t);a.push(mt(qt(i,e),u,b.anglePerspective)),c.push(a[0]),o.push(a[0].c2d);for(let h=1;h<36;h++)a.push(mt(a[h-1],u,10)),c.push(a[h]),o.push(a[h].c2d);const l=X(o,n);return l.isVisible=s,r&&(l.pointilles=2),[l,c,o]}class Me{listePoints;color="black";listePoints2d;aretes;c2d;constructor(...t){Array.isArray(t[0])?(this.listePoints=t[0],typeof t[1]=="string"&&t[1]!==""&&(this.color=t[1])):(this.listePoints=t.filter(r=>r instanceof ft),this.color="black");const e=[];let s;const n=[];s=this.listePoints[0],this.listePoints2d=[s.c2d];for(let r=1;r<this.listePoints.length;r++)e.push(me(s,this.listePoints[r],this.color,s.isVisible&&this.listePoints[r].isVisible)),n.push(e[r-1].c2d),s=this.listePoints[r],this.listePoints2d.push(s.c2d);e.push(me(s,this.listePoints[0],this.color,s.isVisible&&this.listePoints[0].isVisible)),n.push(e[this.listePoints.length-1].c2d),this.aretes=e,this.c2d=n}}function je(...i){return new Me(...i)}function xa(i,t,e,s,n=1,r="black"){s===void 0&&(s=ut(0,Gi(A(i,t))));const a=C(i,t,s),o=j(i,a,90*(3-n*2),e/A(i,a));return{triangle:X([i,t,o],r),pied:a}}function ma(i,t,e,s,n=1,r="black"){const a=St(i,e),o=St(t,s);let c;return n===1?c=oi(a,o):c=oi(a,o,"",2),X([i,t,c],r)}function ga(i,t,e,s,n=1,r="black"){n===1?s*=-1:e*=-1;const a=C(i,t,1),o=P(a,i,e),c=C(t,i,1),u=P(c,t,s),l=st(i,o),h=st(t,u),f=ne(l,h,"C");return X([i,t,f],r)}function ya(i,t,e,s,n=1,r="black"){n===1?e=Math.abs(e)%180:e=-(Math.abs(e)%180);const a=C(i,t,s),o=P(a,i,e);return X([i,t,o],r)}function Ss(i){if(i.listePoints.length!==3)return!1;const t=i.listePoints[0],e=i.listePoints[1],s=i.listePoints[2];return 1/2*Math.abs((e.x-t.x)*(s.y-t.y)-(s.x-t.x)*(e.y-t.y))}function ei(i,t,e,s="black"){const n=Pt(t,e);return st(i,n,"",s)}function ba(i,t,e,s="",n="above"){const r=ei(t,i,e),a=ei(i,t,e),o=ne(r,a),c=o.x,u=o.y;return new Q(c,u,s,n)}function $a(i,t,e,s="black"){const n=st(t,e),r=we(i,n);return new K(r,i,"",s)}class Ns extends V{traceD;c;d;constructor(t,e,s,n="black"){super(),this.color=z(n),this.d=st(e,s);const r=we(t,this.d),a=P(t,r,-90);this.traceD=!1,e.x<s.x?(r.x>s.x||r.x<e.x)&&(this.d.pointilles=5,this.traceD=!0):s.x<e.x?(r.x<s.x||r.x>e.x)&&(this.traceD=!0,this.d.pointilles=5):e.y<s.y?(r.y>s.y||r.y<e.y)&&(this.traceD=!0,this.d.pointilles=5):s.y<e.y&&(r.y<s.y||r.y>e.y)&&(this.traceD=!0,this.d.pointilles=5),this.c=$t(t,r,a,n)}svg(t){return this.traceD?this.c.svg(t)+`
	`+this.d.svg(t):this.c.svg(t)}tikz(){return this.traceD?this.c.tikz()+`
	`+this.d.tikz():this.c.tikz()}}function qa(i,t,e,s="black"){return new Ns(i,t,e,s)}function va(i,t,e="black",s="×",n=!1){return new Si(i,t,e,s,n)}function wa(i,t,e,s="",n="above"){const r=ye(i,t),a=ye(t,e),o=ne(r,a),c=o.x,u=o.y;return new Q(c,u,s,n)}function Ps(i,t="",e="above"){let s=0,n=0,r=0;for(const c of i.listePoints)s+=c.x,n+=c.y,r++;const a=s/r,o=n/r;return new Q(a,o,t,e)}class zs extends V{listePoints;listePoints3d;nom;stringColor;constructor(...t){super(),this.epaisseur=1,this.pointilles=0,this.opacite=1,Array.isArray(t[0])?(this.listePoints=t[0].filter(a=>a instanceof B),this.listePoints3d=t[0].filter(a=>a instanceof ft),this.stringColor=String(t[1]),this.color=z(String(t[1]))):(this.listePoints=t.filter(a=>a instanceof B),this.listePoints3d=t.filter(a=>a instanceof ft),this.color=z("black"),this.stringColor="black");let e=1e3,s=-1e3,n=1e3,r=-1e3;for(const a of this.listePoints)a.typeObjet!=="point"&&window.notify("Polyline : argument invalide",{...t}),e=Math.min(e,a.x),s=Math.max(s,a.x),n=Math.min(n,a.y),r=Math.max(r,a.y);if(this.bordures=[e,n,s,r],this.nom="",this.listePoints.length<15){for(const a of this.listePoints)this.nom+=a.nom;for(const a of this.listePoints3d)this.nom+=a.label}}svg(t){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `);let e="";for(const s of this.listePoints){const n=s.xSVG(t),r=s.ySVG(t);e+=`${n},${r} `}for(const s of this.listePoints3d){const n=s.c2d.xSVG(t),r=s.c2d.ySVG(t);e+=`${n},${r} `}return`<polyline points="${e}" fill="none" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`}tikz(){const t=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&t.push(`color=${this.color[1]}`),this.epaisseur!==1&&t.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:t.push(" dash dot ");break;case 2:t.push(" densely dash dot dot ");break;case 3:t.push(" dash dot dot ");break;case 4:t.push(" dotted ");break;case 5:t.push(" dashed ");break}this.opacite!==1&&t.push(`opacity = ${this.opacite}`);let e="";t.length>0&&(e="["+t.join(",")+"]");let s="";for(const n of this.listePoints)s+=`(${D(n.x)},${D(n.y)})--`;return s=s.substr(0,s.length-2),`\\draw${e} ${s};`}svgml(t,e){let s="",n;for(let r=1;r<this.listePoints.length;r++)n=N(this.listePoints[r-1],this.listePoints[r],this.stringColor),n.epaisseur=this.epaisseur,n.opacite=this.opacite,s+=n.svgml(t,e);return s}tikzml(t){const e=[];this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.opacite!==1&&e.push(`opacity = ${this.opacite}`),e.push(`decorate,decoration={random steps , segment length=3pt, amplitude = ${t}pt}`);let s="";e.length>0&&(s="["+e.join(",")+"]");let n="";for(const r of this.listePoints)n+=`(${D(r.x)},${D(r.y)})--`;return n=n.substr(0,n.length-2),`\\draw${s} ${n};`}}function ge(...i){return new zs(...i)}class vt extends V{couleurDeRemplissage;opaciteDeRemplissage;couleurDesHachures;distanceDesHachures;epaisseurDesHachures;hachures;listePoints;nom;pointilles;_triangulation;_flat;_aire;stringColor;perimetre;constructor(...t){super(),this.epaisseurDesHachures=1,this.distanceDesHachures=10,this.couleurDeRemplissage=z("none"),this.opaciteDeRemplissage=.5,this.epaisseur=1,this.opacite=1,this.pointilles=0,this._triangulation=[],this._flat=[],this._aire=0,this.stringColor="black",Array.isArray(t[0])?(this.listePoints=t[0],t[1]&&(this.color=z(String(t[1])),this.stringColor=String(t[1])),t[2]?this.couleurDeRemplissage=z(String(t[2])):this.couleurDeRemplissage=z("none"),t[3]?(this.couleurDesHachures=z(String(t[3])),this.hachures=!0):(this.couleurDesHachures=z("black"),this.hachures=!1),this.nom=this.listePoints.map(o=>o.nom).join("")):(typeof t[t.length-1]=="string"&&(this.color=z(String(t[t.length-1])),this.stringColor=String(t[t.length-1]),t.splice(t.length-1,1)),this.listePoints=t.filter(o=>o instanceof B),this.nom=this.listePoints.map(o=>o.nom).join(""),this.couleurDeRemplissage=z("none"),this.couleurDesHachures=z("none"),this.hachures=!1);let e=1e3,s=-1e3,n=1e3,r=-1e3;this.bordures=[e,n,s,r];for(const o of this.listePoints)o.typeObjet!=="point"&&window.notify("Polygone : argument invalide",{...t}),e=Math.min(e,o.x),s=Math.max(s,o.x),n=Math.min(n,o.y),r=Math.max(r,o.y);this.bordures=[e,n,s,r];let a=0;for(let o=0;o<this.listePoints.length;o++)a+=A(this.listePoints[o],this.listePoints[(o+1)%this.listePoints.length]);this.perimetre=a}binomesXY(t){let e="";for(const s of this.listePoints)e+=`${s.xSVG(t)},${s.ySVG(t)} `;return e}get flat(){return this._flat.length===0&&(this._flat=Ds(this)),this._flat}get triangulation(){if(this._triangulation.length===0){const t=ji(this.flat);this._triangulation=[];for(let e=0;e<t.length;e+=3)this._triangulation.push([m(this.flat[t[e]*2],this.flat[t[e]*2+1]),m(this.flat[t[e+1]*2],this.flat[t[e+1]*2+1]),m(this.flat[t[e+2]*2],this.flat[t[e+2]*2+1])])}return this._triangulation}get aire(){if(this._aire===0){const t=this.triangulation;this._aire=0;for(let e=0;e<t.length;e++)this._aire+=Number(Ss(X(t[e])))}return this._aire}svg(t){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage=z("none")),Qt({motif:String(this.hachures),id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[0]||"black",couleurDeRemplissage:this.couleurDeRemplissage[0],opaciteDeRemplissage:this.opaciteDeRemplissage})+`<polygon points="${this.binomesXY(t)}" stroke="${this.color[0]}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(this.couleurDeRemplissage[0]===""||this.couleurDeRemplissage[0]===void 0?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),`<polygon points="${this.binomesXY(t)}" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`)}tikz(){const t=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&t.push(`color=${this.color[1]}`),this.epaisseur!==1&&t.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:t.push(" dash dot ");break;case 2:t.push(" densely dash dot dot ");break;case 3:t.push(" dash dot dot ");break;case 4:t.push(" dotted ");break;case 5:t.push(" dashed ");break}this.opacite!==1&&t.push(`opacity=${this.opacite}`),this.couleurDeRemplissage[1]!==""&&this.couleurDeRemplissage[1]!=="none"&&t.push(`preaction={fill,color = ${this.couleurDeRemplissage[1]}${this.opaciteDeRemplissage!==1?", opacity = "+this.opaciteDeRemplissage:""}}`),this.hachures&&(this.hachures="dotted"),this.hachures!=null&&typeof this.hachures=="string"&&t.push(Qt({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,couleurDesHachures:this.couleurDesHachures[1],couleurDeRemplissage:this.couleurDeRemplissage[1],opaciteDeRemplissage:this.opaciteDeRemplissage}));let e="";t.length>0&&(e="["+t.join(",")+"]");let s="";for(const r of this.listePoints)s+=`(${D(r.x)},${D(r.y)})--`;return`\\draw${e} ${s}cycle;`}svgml(t,e){let s="",n,r,a;for(let o=1;o<=this.listePoints.length;o++)a=this.listePoints[o%this.listePoints.length],r=this.listePoints[o-1],n=N(r,a,this.stringColor),n.epaisseur=this.epaisseur,n.opacite=this.opacite,s+=n.svgml(t,e);return s}tikzml(t){let e="",s,n,r;for(let a=1;a<=this.listePoints.length;a++)r=this.listePoints[a%this.listePoints.length],n=this.listePoints[a-1],s=N(n,r,this.stringColor),s.epaisseur=this.epaisseur,s.opacite=this.opacite,e+="	"+s.tikzml(t)+`
`;return e}}function X(...i){return new vt(...i)}function ki(...i){let t=.5;if(typeof i[i.length-1]=="number"&&(t=Number(i[i.length-1]),i.splice(i.length-1,1)),!ls(i))return window.notify("polygoneAvecNom : les arguments doivent être des objets PointAbstrait",{args:i}),[X(),ii(X())];const e=X(...i);let s="";i.forEach(r=>{s+=r.nom+","}),s=s.substring(0,s.length-1);const n=ii(e,s,t);return n.bordures=[0,0,0,0],n.bordures[0]=e.bordures[0]-1-t,n.bordures[1]=e.bordures[1]-1-t,n.bordures[2]=e.bordures[2]+1+t,n.bordures[3]=e.bordures[3]+1+t,[e,n]}function ka(i,t){t=typeof t=="string"&&t.includes(",")?t.split(","):t;for(let e=0;e<i.listePoints.length;e++)t[e]!==void 0&&(i.listePoints[e].nom=t[e])}function Cs(i,t,e,s="black"){const n=[i,t];for(let r=1;r<e-1;r++)n[r+1]=P(n[r-1],n[r],-180+360/e);return new vt(n,s)}function kt(i,t,e="black"){return Cs(i,t,4,e)}function Ma(i,t,e,s="black"){const n=[];n[0]=m(i.x+t,i.y);for(let r=1;r<e;r++)n[r]=P(n[r-1],i,-360/e);return X(n,s)}class Sa{xMin;xMax;yMin;yMax;forme;text;constructor({xMin:t,xMax:e,yMin:s,yMax:n}){this.xMin=t,this.xMax=e,this.yMin=s,this.yMax=n,this.forme=X([m(t,s),m(e,s),m(e,n),m(t,n)])}render(){return this.text?[this.forme,this.text]:this.forme}addColor({color:t,colorBackground:e,opacity:s,backgroudOpacity:n}){return this.forme.color=z(t??"black"),this.forme.opacite=s??1,this.forme.couleurDeRemplissage=z(e??"none"),this.forme.opaciteDeRemplissage=n??.7,this}addTextIn({textIn:t,color:e,opacity:s,size:n}){return typeof t!="string"&&window.notify("BoiteBuilder.addTextIn() requiert un texteIn de type string ",{textIn:t}),t.length>0&&(this.text=t.includes("\\")?pt(t,(this.xMin+this.xMax)/2,(this.yMin+this.yMax)/2,e??"black",50,0,"",(n??1)*10):Y(t,(this.xMin+this.xMax)/2,(this.yMin+this.yMax)/2,0,e??"black",n),this.text.opacite=s??1),this}}function Ds(i){const t=[];for(let e=0;e<i.listePoints.length;e++)t.push(i.listePoints[e].x,i.listePoints[e].y);return t}function Na(i,t,e,s){typeof e=="number"&&(e=he(t,e,ut(-180,180))),t.nom=i[0],e.nom=i[1];let n=P(e,t,90);n=C(t,n,s);const r=L(n,G(I(t,e),t,ut(-5,5,xi(-2,2))/10),i[3]),a=L(r,I(t,e),i[2]);return ki(t,e,a,r)}function Pa(i,t,e,s={avecCodageSegments:!0,avecCodagesAnglesDroits:!0}){const n=[],r=s.angleRotation??0,a=he(i,t,r),o=P(he(a,e,180+r),a,-90),c=P(he(i,e,r),i,90);if(s.nom)i.nom=s.nom[0],a.nom=s.nom[1],o.nom=s.nom[2],c.nom=s.nom[3];else{const u=ut(1,26),l=ut(1,26,[u]),h=ut(1,26,[u,l]),f=ut(1,26,[u,l,h]);i.nom=_t(u),a.nom=_t(l),o.nom=_t(h),c.nom=_t(f)}return n.push(...ki(i,a,o,c)),(s.avecCodageSegments||s.avecCodageSegments===void 0)&&n.push(jt("/","red",a,o,c,i),jt("||","blue",i,a,o,c)),(s.avecCodagesAnglesDroits||s.avecCodagesAnglesDroits===void 0)&&n.push($t(i,a,o),$t(c,o,a),$t(i,c,o),$t(a,i,c)),n}class Fs extends V{poly;dist;constructor(t,e="",s=.5,n="black",r=1){super(),this.poly=t,this.dist=s,this.objets=[];const a=e.includes(",")?e.split(","):e;for(let f=0;f<t.listePoints.length;f++)a.length>0&&(t.listePoints[f].nom=a[f]);const o=Ps(t);let c=1e3,u=-1e3,l=1e3,h=-1e3;for(const f of t.listePoints){const d=C(o,f,A(o,f)+s*20/b.pixelsParCm);d.positionLabel="center",this.objets.push(ct(f.nom,d,0,n,r,"milieu",!0)),c=Math.min(c,d.x-.5),u=Math.max(u,d.x+.5),l=Math.min(l,d.y-.5),h=Math.max(h,d.y+.5)}this.bordures=[c,l,u,h]}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function ii(i,t="",e=.5,s="black",n=1){return new Fs(i,t,e,s,n)}function za(i){switch(i){case 0:return"north east lines";case 1:return"horizontal lines";case 2:return"vertical lines";case 3:return"dots";case 4:return"crosshatch dots";case 5:return"fivepointed stars";case 6:return"sixpointed stars";case 7:return"bricks";case 8:return"checkerboard";case 9:return"grid";case 10:return"crosshatch";default:return"north east lines"}}function Qt({motif:i="north east lines",id:t="0",distanceDesHachures:e=10,epaisseurDesHachures:s=1,couleurDesHachures:n="black",couleurDeRemplissage:r="none",opaciteDeRemplissage:a=.5}){let o="";{switch(r.length<1&&(r="none"),i){case"north east lines":o+=`<pattern id="pattern${t}" width="${e}" height="${e}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="${e}" height="${e}" fill="${r}" fill-opacity="${a}"/>
            <line x1="0" y1="0" x2="0" y2="${e}" style="stroke:${n}; stroke-width:${s}" />
            </pattern>`;break;case"horizontal lines":o+=`<pattern id="pattern${t}" width="${e}" height="${e}"  patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="${e}" height="${e}" fill="${r}" fill-opacity="${a}"/>
            <line x1="0" y1="${e/2}" x2="${e}" y2="${e/2}" style="stroke:${n}; stroke-width:${s}" />
            </pattern>`;break;case"vertical lines":o+=`<pattern id="pattern${t}" width="${e}" height="${e}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
            <rect x="0" y="0" width="${e}" height="${e}" fill="${r}" fill-opacity="${a}"/>
            <line x1="0" y1="0" x2="0" y2="${e}" style="stroke:${n}; stroke-width:${s}" />
            </pattern>`;break;case"dots":o+=`<pattern id="pattern${t}" width="${e}" height="${e}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
            <circle cx="3" cy="3" r="${s}" fill="${n}" fill-opacity="${a}"/>
            <circle cx="8" cy="3" r="${s}" fill="${n}" fill-opacity="${a}"/>
            <circle cx="3" cy="8" r="${s}" fill="${n}" fill-opacity="${a}"/>
            <circle cx="8" cy="8" r="${s}" fill="${n}" fill-opacity="${a}"/>
            </pattern>`;break;case"crosshatch dots":o+=`<pattern id="pattern${t}" width="12" height="12" x="12" y="12" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <circle cx="2" cy="2" r="${s}" fill="${n}" fill-opacity="${a}"/>
          <circle cx="8" cy="2" r="${s}" fill="${n}" fill-opacity="${a}"/>
          <circle cx="5" cy="5" r="${s}" fill="${n}" fill-opacity="${a}"/>
          <circle cx="2" cy="8" r="${s}" fill="${n}" fill-opacity="${a}"/>
          <circle cx="8" cy="8" r="${s}" fill="${n}" fill-opacity="${a}"/>
          <circle cx="5" cy="11" r="${s}" fill="${n}" fill-opacity="${a}"/>
          <circle cx="11" cy="5" r="${s}" fill="${n}" fill-opacity="${a}"/>
          <circle cx="11" cy="11" r="${s}" fill="${n}" fill-opacity="${a}"/>
          </pattern>`;break;case"fivepointed stars":o+=`<pattern id="pattern${t}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polygon points="10,5 6.2,4.2 6.6,0.2 4.6,3.6 1,2 3.6,5 1,8 4.6,6.4 6.6,9.8 6.2,5.8 " stroke="${n}"  fill="${r}" fill-opacity="${a}" />
          </pattern>`;break;case"sixpointed stars":o+=`<pattern id="pattern${t}"  width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
        <polygon points="10,5 7.6,3.4 7.6,0.6 5,2 2.6,0.6 2.4,3.4 0,5 2.4,6.4 2.6,9.4 5,8 7.6,9.4 7.6,6.4 " stroke="${n}" fill="${r}" fill-opacity="${a}" />
        </pattern>`;break;case"crosshatch":o+=`<pattern id="pattern${t}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polygon points="2,2 7.6,7.6 7,8.4 9.8,8.4 9.8,5.6 9,6.2 3.4,0.6 " stroke="${n}"  fill="${r}" fill-opacity="${a}" />
          </pattern>`;break;case"bricks":o+=`<pattern id="pattern${t}" width="18" height="16" x="18" y="16" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <line x1="4" y1="2" x2="4" y2="4" stroke="${n}" fill="${r}" fill-opacity="${a}"  />
          <line x1="0" y1="4" x2="16" y2="4" stroke="${n}" fill="${r}" fill-opacity="${a}"   />
          <line x1="14" y1="4" x2="14" y2="12" stroke="${n}" fill="${r}" fill-opacity="${a}"   />
          <line x1="16" y1="12" x2="0" y2="12" stroke="${n}" fill="${r}" fill-opacity="${a}"   />
          <line x1="4" y1="12" x2="4" y2="16" stroke="${n}" fill="${r}" fill-opacity="${a}"   />
          </pattern>`;break;case"grid":o+=`<pattern id="pattern${t}" width="10" height="10" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polyline points="8,8 0,8 0,0 " fill="none" stroke="${n}" />
          </pattern>`;break;case"checkerboard":o+=`<pattern id="pattern${t}" width="8" height="8" x="8" y="8" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">
          <polygon points="4,4 8,4 8,0 4,0 "  fill="${n}" fill-opacity="${a}" />
          <polygon points="0,4 4,4 4,8 0,8 "  fill="${n}" fill-opacity="${a}" />
        
          </pattern>`;break;default:o+=`<pattern id="pattern${t}" width="${e}" height="${e}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">
        <rect x="0" y="0" width="${e}" height="${e}" fill="${r}" fill-opacity="${a}"/>
        <line x1="0" y1="0" x2="0" y2="${e}" style="stroke:${n}; stroke-width:${s}" />
        </pattern>`;break}return o}}function ce(i,t,e){return i.x===e[0].x&&i.y===e[0].y&&t.x===e[1].x&&t.y===e[1].y||i.x===e[1].x&&i.y===e[1].y&&t.x===e[0].x&&t.y===e[0].y}function Is(i,t){const e=t.findIndex(s=>s[0].x===i.x&&s[0].y===i.y||s[1].x===i.x&&s[1].y===i.y);if(e!==-1){const s=t[e];return t.splice(e,1),s[0].x===i.x&&s[0].y===i.y?{couple:[{x:s[0].x,y:s[0].y},{x:s[1].x,y:s[1].y}],couplesPointsRestants:t}:{couple:[{x:s[1].x,y:s[1].y},{x:s[0].x,y:s[0].y}],couplesPointsRestants:t}}else return{couple:null,couplesPointsRestants:t}}class Mi{xOrigine;yOrigine;poly;dots;carresOccupes;carresAdjacentsDispo;complexity;rectangle;constructor(t,e,s){this.xOrigine=e,this.yOrigine=s;const n=[{x:0,y:1},{x:1,y:0},{x:0,y:-1},{x:-1,y:0}];let r=0,a=0,o=0;do{for(this.carresOccupes=[{x:0,y:0}],r++,this.carresAdjacentsDispo=n.map(c=>({x:c.x,y:c.y}));this.carresOccupes.length<t;){const c=ut(0,this.carresAdjacentsDispo.length-1),u=this.carresAdjacentsDispo[c];this.carresAdjacentsDispo.splice(c,1),this.carresOccupes.push({x:u.x,y:u.y});for(const l of n){const h={x:u.x+l.x,y:u.y+l.y};this.carresOccupes.find(f=>h.x===f.x&&h.y===f.y)==null&&this.carresAdjacentsDispo.find(f=>h.x===f.x&&h.y===f.y)==null&&this.carresAdjacentsDispo.push(h)}}this.rectangle=this.findRectangle(),a=(this.rectangle.xMax-this.rectangle.xMin)*(this.rectangle.yMax-this.rectangle.yMin),o=this.aireExt(),this.translate(-this.rectangle.xMin,-this.rectangle.yMin),this.detoure()}while(a-o!==t&&r<100);this.complexity=o/a,this.poly=L(X(this.dots.map(c=>m(c.x,c.y))),I(e,s)),this.poly.color=z("red"),this.poly.couleurDeRemplissage=z("orange"),this.poly.epaisseur=2}ajouteCarres(t){let e=0,s=0,n=0;const r=[{x:0,y:1},{x:1,y:0},{x:0,y:-1},{x:-1,y:0}],a=this.carresOccupes.length+t;let o,c;const u=new Mi(a,this.xOrigine,this.yOrigine);do{for(o=JSON.parse(JSON.stringify(this.carresOccupes)),c=JSON.parse(JSON.stringify(this.carresAdjacentsDispo)),e++;o.length<a;){const l=ut(0,c.length-1),h=c[l];c.splice(l,1),o.push({x:h.x,y:h.y});for(const f of r){const d={x:h.x+f.x,y:h.y+f.y};o.find(x=>d.x===x.x&&d.y===x.y)==null&&c.find(x=>d.x===x.x&&d.y===x.y)==null&&c.push(d)}}u.carresOccupes=JSON.parse(JSON.stringify(o)),u.carresAdjacentsDispo=JSON.parse(JSON.stringify(c)),u.rectangle=u.findRectangle(),s=(u.rectangle.xMax-u.rectangle.xMin)*(u.rectangle.yMax-u.rectangle.yMin),n=u.aireExt(),u.translate(-u.rectangle.xMin,-u.rectangle.yMin),u.detoure()}while(s-n!==a&&e<100);return u.carresOccupes=JSON.parse(JSON.stringify(o)),u.carresAdjacentsDispo=JSON.parse(JSON.stringify(c)),u.complexity=n/s,u.poly=L(X(u.dots.map(l=>m(l.x,l.y))),I(u.xOrigine,u.yOrigine)),u.poly.color=z("red"),u.poly.couleurDeRemplissage=z("orange"),u.poly.epaisseur=2,u}findRectangle(){let t=1e3,e=-1e3,s=1e3,n=-1e3;for(const r of this.carresOccupes)t=Math.min(t,r.x),e=Math.max(e,r.x+1),s=Math.min(s,r.y),n=Math.max(n,r.y+1);return{xMin:t,xMax:e,yMin:s,yMax:n}}translate(t,e){for(const s of this.carresOccupes)s.x+=t,s.y+=e;for(const s of this.carresAdjacentsDispo)s.x+=t,s.y+=e;this.rectangle={xMin:this.rectangle.xMin+t,xMax:this.rectangle.xMax+t,yMin:this.rectangle.yMin+e,yMax:this.rectangle.yMax+e}}rotate(t){const e=t?[[0,-1],[1,0]]:[[0,1],[-1,0]];if(e==null)throw Error("La matrice ne peut pas être créée, ce qui est impossible");for(const s of this.carresOccupes){const n=e[0][0]*s.x+e[0][1]*s.y,r=e[1][0]*s.x+e[1][1]*s.y;s.x=n,s.y=r}for(const s of this.carresAdjacentsDispo){const n=e[0][0]*s.x+e[0][1]*s.y,r=e[1][0]*s.x+e[1][1]*s.y;s.x=n,s.y=r}this.rectangle=this.findRectangle(),this.translate(-this.rectangle.xMin,-this.rectangle.yMin),this.detoure(),this.poly=L(X(this.dots.map(s=>m(s.x,s.y))),I(this.xOrigine,this.yOrigine)),this.poly.color=z("red"),this.poly.couleurDeRemplissage=z("orange"),this.poly.epaisseur=2}isEmpty(t,e){return this.carresOccupes.find(s=>s.x===t&&s.y===e)==null}aireExt(){let t=0;const e=Math.min(...this.carresOccupes.map(a=>a.x)),s=Math.max(...this.carresOccupes.map(a=>a.x)),n=Math.min(...this.carresOccupes.map(a=>a.y)),r=Math.max(...this.carresOccupes.map(a=>a.y));for(let a=n;a<=r;a++){let o=e,c=s,u=!1;do this.isEmpty(o,a)&&this.isEmpty(c,a)?(t+=2,o++,c--):this.isEmpty(o,a)?(t++,o++):this.isEmpty(c,a)?(t++,c--):u=!0;while(!u)}return t}render(){const t=[];for(const e of this.carresOccupes){const s=kt(m(e.x+this.xOrigine,e.y+this.yOrigine),m(e.x+this.xOrigine+1,e.y+this.yOrigine));s.couleurDeRemplissage=z("orange"),s.color=z("black"),t.push(s)}return t}detoure(){const t=[];for(let a=this.rectangle.xMin;a<this.rectangle.xMax;a++){t[a]=[];for(let o=this.rectangle.yMin;o<this.rectangle.yMax;o++)t[a][o]=this.carresOccupes.find(c=>c.x===a&&c.y===o)==null?[!1,!1,!1,!1]:[!0,!0,!0,!0]}const e=function(a,o){return(a||o)&&!(a&&o)},s=[];for(let a=this.rectangle.xMin;a<this.rectangle.xMax;a++){s[a]=[];for(let o=this.rectangle.yMin;o<this.rectangle.yMax;o++)s[a][o]=[!1,!1,!1,!1],s[a][o][0]=o===0?t[a][o][0]:e(t[a][o][0],t[a][o-1][2]),s[a][o][1]=a===this.rectangle.xMax-1?t[a][o][1]:e(t[a][o][1],t[a+1][o][3]),s[a][o][2]=o===this.rectangle.yMax-1?t[a][o][2]:e(t[a][o][2],t[a][o+1][0]),s[a][o][3]=a===0?t[a][o][3]:e(t[a][o][3],t[a-1][o][1])}let n=[];for(let a=this.rectangle.xMin;a<this.rectangle.xMax;a++)for(let o=this.rectangle.yMin;o<this.rectangle.yMax;o++){if(s[a][o][0]){const c={x:a,y:o},u={x:a+1,y:o};n.some(l=>ce(c,u,l))||n.push([c,u])}if(s[a][o][1]){const c={x:a+1,y:o},u={x:a+1,y:o+1};n.some(l=>ce(c,u,l))||n.push([c,u])}if(s[a][o][2]){const c={x:a+1,y:o+1},u={x:a,y:o+1};n.some(l=>ce(c,u,l))||n.push([c,u])}if(s[a][o][3]){const c={x:a,y:o+1},u={x:a,y:o};n.some(l=>ce(c,u,l))||n.push([c,u])}}this.dots=[{x:n[0][0].x,y:n[0][0].y},{x:n[0][1].x,y:n[0][1].y}],n.shift();let r=n.length;for(;n.length>0&&r>0;){const{couple:a,couplesPointsRestants:o}=Is(this.dots[this.dots.length-1],n);r--;const c=a;n=o,c&&(c[1].x!==this.dots[0].x||c[1].y!==this.dots[0].y)&&this.dots.push({x:c[1].x,y:c[1].y})}this.dots=Rs(this.dots)}}function Es(i,t,e,s){return i===0?t===0?e===0&&s===0:s/t>0:t===0?i===0?e===0&&s===0:e/i>0:e*t===i*s&&i*e>0&&t*s>0}function Rs(i){for(let c=1;c<i.length-1;){const u=i[c-1],l=i[c],h=i[c+1],f=l.x-u.x,d=l.y-u.y,x=h.x-l.x,v=h.y-l.y;Es(f,d,x,v)?i.splice(c,1):c++}const t=i[i.length-1],e=i[0],s=i[1],n=e.x-t.x,r=e.x-t.y,a=s.x-e.x,o=s.y-e.y;return a===n&&o===r&&i.splice(0,1),i}class Q extends B{estDansPolygone(t){for(const e of t.triangulation)if(this.estDansTriangle(...e))return!0;return!1}estDansTriangle(t,e,s){const n=I(this,t),r=I(this,e),a=I(this,s),o=r.x*a.y-r.y*a.x,c=a.x*n.y-a.y*n.x,u=n.x*r.y-n.y*r.x;return Kt(o,0)&&Kt(c,0)&&Kt(u,0)||ue(o,0)&&ue(c,0)&&ue(u,0)}estDansPolygoneConvexe(t){const e=t.listePoints.length;if(e===3)return this.estDansTriangle(...t.listePoints);{const s=t.listePoints[0],n=t.listePoints[1],r=t.listePoints[e-1],a=X(...t.listePoints.slice(1));return this.estDansTriangle(s,n,r)?!0:this.estDansPolygoneConvexe(a)}}estDansQuadrilatere(t,e,s,n){return this.estDansTriangle(t,e,s)||this.estDansTriangle(t,s,n)}estSur(t){if(t instanceof K)return R(t.a*this.x+t.b*this.y+t.c,0,.01);if(t instanceof lt){const e=(t.extremite2.x-t.extremite1.x)*(this.y-t.extremite1.y)-(this.x-t.extremite1.x)*(t.extremite2.y-t.extremite1.y),s=(this.x-t.extremite1.x)*(t.extremite2.x-t.extremite1.x)+(this.y-t.extremite1.y)*(t.extremite2.y-t.extremite1.y),n=(t.extremite2.x-t.extremite1.x)**2+(t.extremite2.y-t.extremite1.y)**2;return R(e,0,.01)&&Kt(s,0)&&ue(s,n)}if(t instanceof Ge){const e=I(t.extremite1,this),s=I(t.extremite1,t.extremite2),n=e.x*s.x+e.y*s.y,r=e.x*s.y-e.y*s.x;return R(r,0,.01)&&Kt(n,0,.01)}if(t instanceof Se)return R(A(this,t.centre),t.rayon,.01)}}function m(i,t,e="",s="above"){return new Q(i,t,e,s)}function si(i){return new Q(i.x,i.y,i.nom,i.positionLabel)}class Vs extends V{couleurDeRemplissage;rayon;x;y;opaciteDeRemplissage;constructor(t,e,{rayon:s=.05,couleur:n="black",couleurDeRemplissage:r="black",opacite:a=1,opaciteDeRemplissage:o=1}={}){super(),(isNaN(t)||isNaN(e))&&window.notify("Plot : les coordonnées ne sont pas valides",{x:t,y:e}),this.color=z(n),this.couleurDeRemplissage=z(r),this.rayon=s,this.x=t,this.y=e,this.bordures=[t-s,e-s,t+s,e+s],this.opacite=a,this.opaciteDeRemplissage=o}svg(t){return this.couleurDeRemplissage[0]===""?`
	 <circle cx="${this.x*t}" cy="${-this.y*t}" r="${this.rayon*t}" stroke="${this.color[0]}" stroke-opacity="${this.opacite||1}"/>`:`
	 <circle cx="${this.x*t}" cy="${-this.y*t}" r="${this.rayon*t}" stroke="${this.color[0]}" fill="${this.couleurDeRemplissage[0]}" stroke-opacity="${this.opacite||1}" fill-opacity="${this.opaciteDeRemplissage||1}"/>`}tikz(){const t=[];this.color[1].length>1&&this.color[1]!=="black"&&t.push(`color=${this.color[1]}`),this.epaisseur!==1&&t.push(`line-width=${this.epaisseur}`),this.opacite!==1&&t.push(`opacity=${this.opacite}`),this.opaciteDeRemplissage!==1&&t.push(`fill opacity=${this.opaciteDeRemplissage}`),this.couleurDeRemplissage[1]!==""&&this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&t.push(`fill=${this.couleurDeRemplissage[1]}`);let e="";return t.length>0&&(e="["+t.join(",")+"]"),`
	 \\filldraw${e} (${this.x},${this.y}) circle (${this.rayon});`}}function ni(i,t,{rayon:e=.05,couleur:s="black",couleurDeRemplissage:n="black",opacite:r=1,opaciteDeRemplissage:a=1}={}){return new Vs(D(i),D(t),{rayon:e,couleur:s,couleurDeRemplissage:n,opacite:r,opaciteDeRemplissage:a})}class Gs extends V{taille;tailleTikz;points;couleurDeRemplissage;constructor(...t){super(),this.taille=3,this.tailleTikz=this.taille/15,this.epaisseur=1,this.opacite=.8,this.style="x";let e=1e3,s=-1e3,n=1e3,r=-1e3,a;typeof t[t.length-1]=="string"?(this.color=z(String(t[t.length-1])),t.pop()):this.color=z("black"),this.points=t;for(const o of this.points){const c=o;c.typeObjet!=="point3d"&&c.typeObjet!=="point"&&window.notify("TracePoint : argument invalide",{...t}),a=c.typeObjet==="point"?c:c.c2d,e=Math.min(e,a.x-this.taille/b.pixelsParCm),s=Math.max(s,a.x+this.taille/b.pixelsParCm),n=Math.min(n,a.y-this.taille/b.pixelsParCm),r=Math.max(r,a.y+this.taille/b.pixelsParCm)}this.bordures=[e,n,s,r]}svg(t){const e=[];let s,n,r,a,o,c;for(const l of this.points)l.typeObjet==="point3d"?c=l.c2d:c=l,c.constructor===Q&&(this.style==="x"?(s=N(m(c.x-this.taille/t,c.y+this.taille/t),m(c.x+this.taille/t,c.y-this.taille/t),this.color[0]),n=N(m(c.x-this.taille/t,c.y-this.taille/t),m(c.x+this.taille/t,c.y+this.taille/t),this.color[0]),s.epaisseur=this.epaisseur,n.epaisseur=this.epaisseur,s.opacite=this.opacite,n.opacite=this.opacite,e.push(s,n)):this.style==="o"?(r=m(c.x,c.y),o=St(r,this.taille/t,this.color[0]),o.epaisseur=this.epaisseur,o.opacite=this.opacite,o.couleurDeRemplissage=this.color,o.opaciteDeRemplissage=this.opacite/2,e.push(o)):this.style==="#"?(r=m(c.x-this.taille/t,c.y-this.taille/t),a=m(c.x+this.taille/t,c.y-this.taille/t),o=kt(r,a,this.color[0]),o.epaisseur=this.epaisseur,o.opacite=this.opacite,o.couleurDeRemplissage=[this.color[0]??"black",this.color[1]??"black"],o.opaciteDeRemplissage=this.opacite/2,e.push(o)):this.style==="+"?(s=N(m(c.x,c.y+this.taille/t),m(c.x,c.y-this.taille/t),this.color[0]),n=N(m(c.x-this.taille/t,c.y),m(c.x+this.taille/t,c.y),this.color[0]),s.epaisseur=this.epaisseur,n.epaisseur=this.epaisseur,s.opacite=this.opacite,n.opacite=this.opacite,e.push(s,n)):this.style==="|"?(s=N(m(c.x,c.y+this.taille/t),m(c.x,c.y-this.taille/t),this.color[0]),s.epaisseur=this.epaisseur,s.opacite=this.opacite,e.push(s)):this.style==="."&&(s=ni(c.x,c.y,{couleur:this.color[0],rayon:this.epaisseur*.05,couleurDeRemplissage:this.color[0]}),e.push(s)));let u="";for(const l of e)u+=`
	`+l.svg(t);return u=`<g id="${this.id}">`+u+"</g>",u}tikz(){const t=[];let e,s,n,r,a,o;for(const u of this.points)u.typeObjet==="point3d"?o=u.c2d:o=u,o.constructor===Q&&(this.style==="x"?(this.tailleTikz=this.taille/16,e=N(m(o.x-this.tailleTikz,o.y+this.tailleTikz),m(o.x+this.tailleTikz,o.y-this.tailleTikz),this.color[1]),s=N(m(o.x-this.tailleTikz,o.y-this.tailleTikz),m(o.x+this.tailleTikz,o.y+this.tailleTikz),this.color[1]),e.epaisseur=this.epaisseur/1.6,s.epaisseur=this.epaisseur/1.6,e.opacite=this.opacite,s.opacite=this.opacite,t.push(e,s)):this.style==="o"?(n=m(o.x,o.y),a=St(n,this.tailleTikz,this.color[1]),a.epaisseur=this.epaisseur,a.opacite=this.opacite,a.couleurDeRemplissage=this.color,a.opaciteDeRemplissage=this.opacite/2,t.push(a)):this.style==="#"?(n=m(o.x-this.tailleTikz,o.y-this.tailleTikz),r=m(o.x+this.tailleTikz,o.y-this.tailleTikz),a=kt(r,n,this.color[1]),a.epaisseur=this.epaisseur,a.opacite=this.opacite,a.couleurDeRemplissage=[this.color[0]??"black",this.color[1]??"black"],a.opaciteDeRemplissage=this.opacite/2,t.push(a)):this.style==="+"?(e=N(m(o.x,o.y+this.tailleTikz),m(o.x,o.y-this.tailleTikz),this.color[1]),s=N(m(o.x-this.tailleTikz,o.y),m(o.x+this.tailleTikz,o.y),this.color[1]),e.epaisseur=this.epaisseur,s.epaisseur=this.epaisseur,e.opacite=this.opacite,s.opacite=this.opacite,t.push(e,s)):this.style==="|"?(e=N(m(o.x,o.y+this.tailleTikz),m(o.x,o.y-this.tailleTikz),this.color[1]),e.epaisseur=this.epaisseur,e.opacite=this.opacite,t.push(e)):this.style==="."&&(e=ni(o.x,o.y,{couleur:this.color[0],rayon:this.epaisseur*.05,couleurDeRemplissage:this.color[1]}),t.push(e)));let c="";for(const u of t)c+=u.tikz();return c}}function Ca(...i){return new Gs(...i)}class js extends V{lieu;taille;x;y;direction;stringColor;constructor(t,e,s="black"){super(),this.stringColor=s,this.lieu=t,this.taille=.2,this.x=t.x,this.y=t.y;let n,r;this.bordures=[t.x-.2,t.y-.2,t.x+.2,t.y+.2],e instanceof B?(A(this.lieu,e)<.001&&window.notify("TracePointSurDroite : points trop rapprochés pour définir une droite",{A:t,O:e}),n=C(this.lieu,e,1),this.direction=P(n,this.lieu,90)):(r=Ls(this.lieu,e),this.direction=C(m(r.x1,r.y1),m(r.x2,r.y2),1))}svg(t){const e=C(this.lieu,this.direction,this.taille*20/t),s=C(this.lieu,this.direction,-this.taille*20/t),n=N(e,s,this.stringColor);return this.id=n.id,n.svg(t)}tikz(){const t=C(this.lieu,this.direction,this.taille/b.scale),e=C(this.lieu,this.direction,-this.taille/b.scale);return N(t,e,this.stringColor).tikz()}}function Ts(i,t,e="black"){return new js(i,t,e)}function Pt(i,t,e="",s="above"){isNaN(A(i,t))&&window.notify("milieu : Quelque chose ne va pas avec les points",{A:i,B:t});const n=(i.x+t.x)/2,r=(i.y+t.y)/2;return m(n,r,e,s)}function C(i,t,e,s="",n="above"){return isNaN(A(i,t))&&window.notify("pointSurSegment : Quelque chose ne va pas avec les points",{A:i,B:t}),A(i,t)===0?si(i):((e===void 0||typeof e=="string")&&(e=A(i,t)*ut(15,85)/100),si(G(t,i,e/A(i,t),s,n)))}function ri(i,t,e,s="above"){typeof t!="number"&&(t=ut(-180,180));const n=i.centre.x+i.rayon*Math.cos(Et(t)),r=i.centre.y+i.rayon*Math.sin(Et(t));return m(n,r,e,s)}function Te(i,t,e="",s="above"){return i.b===0?m(-i.c/i.a,t,e,s):i.a===0?m(t,-i.c/i.b,e,s):m(t,(-i.c-i.a*t)/i.b,e,s)}function ne(i,t,e="",s="above"){let n,r;return R(t.a*i.b-t.b*i.a,0,1e-6)?Xt(i,t,m(0,0)):(r=(t.c*i.a-i.c*t.a)/(t.a*i.b-t.b*i.a),R(i.a,0,1e-6)?n=(-t.c-t.b*r)/t.a:n=(-i.c-i.b*r)/i.a,m(n,r,e,s))}function he(i,t=1,e=0,s="",n="above"){let r="",a=0,o="above";typeof e=="string"?(a=ut(0,360),r=e,s!=null&&(o=s)):(a=e??ut(0,360),s!=null&&(r=s),n!=null&&(o=n));const c=m(i.x+1,i.y);return j(c,i,a,t,r,o)}function ai(i,t,e="",s=1){const n=t.centre,r=t.rayon,a=i.a,o=i.b,c=i.c,u=n.x,l=n.y;let h,f,d,x,v,p;if(R(o,0,1e-6)){if(d=-c/a,v=d,h=4*(-u*u-c*c/(a*a)-2*u*c/a+r*r),h<0)return Xt(i,t,t.centre);R(h,0)?(x=l+Math.sqrt(h)/2,p=x):(x=l-Math.sqrt(h)/2,p=l+Math.sqrt(h)/2)}else if(R(a,0,1e-7)){if(x=-c/o,p=x,h=4*(-l*l-c*c/(o*o)-2*l*c/o+r*r),h<0)return Xt(i,t,t.centre);R(h,0)?(d=u+Math.sqrt(h)/2,v=d):(d=u-Math.sqrt(h)/2,v=u+Math.sqrt(h)/2)}else{if(h=(2*(a*c/(o*o)+l*a/o-u))**2-4*(1+(a/o)**2)*(u*u+l*l+(c/o)**2+2*l*c/o-r*r),h<0)return Xt(i,t,t.centre);R(h,0)?(f=Math.sqrt(h),d=(-2*(a*c/(o*o)+l*a/o-u)-f)/(2*(1+(a/o)**2)),v=d,x=(-a*d-c)/o,p=x):(f=Math.sqrt(h),d=(-2*(a*c/(o*o)+l*a/o-u)-f)/(2*(1+(a/o)**2)),v=(-2*(a*c/(o*o)+l*a/o-u)+f)/(2*(1+(a/o)**2)),x=(-a*d-c)/o,p=(-a*v-c)/o)}return s===1?p>x?m(v,p,e):m(d,x,e):p>x?m(d,x,e):m(v,p,e)}function oi(i,t,e="",s=1){const n=i.centre,r=t.centre,a=i.rayon,o=t.rayon,c=n.x,u=r.x,l=n.y,h=r.y,f=u-c,d=h-l,x=Math.sqrt(d*d+f*f);if(x>a+o||x<Math.abs(a-o))return Xt(i,t,i.centre);const v=(a*a-o*o+x*x)/(2*x),p=c+f*v/x,$=l+d*v/x,g=Math.sqrt(a*a-v*v),y=-d*(g/x),q=f*(g/x),k=p+y,M=p-y,S=$+q,O=$-q;return s===1?O>S?m(M,O,e):m(k,S,e):O>S?m(k,S,e):m(M,O,e)}function Xt(i,t,e){return!1}function Da(i,t,{preferedPosition:e="auto",usedPosition:s=[],letterSize:n="footnotesize",color:r="red",backgroundColor:a="white"}={}){let u,l,h,f,d;const x=[];if(t!==""){if(R(i.b,0,.05))u=-i.c/i.a+30*.5/b.pixelsParCm+2/b.pixelsParCm,l=b.fenetreMathalea2d[1]+1,f="right",d="below",h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]});else if(R(i.a,0,.05))u=b.fenetreMathalea2d[0]+1,l=-i.c/i.b+20*.5/b.pixelsParCm,f="above",d="left",h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]});else{const g=(-i.a*(b.fenetreMathalea2d[0]+1)-i.c)/i.b,y=(-i.a*(b.fenetreMathalea2d[2]-1)-i.c)/i.b,q=(-i.b*(b.fenetreMathalea2d[1]+1)-i.c)/i.a,k=(-i.b*(b.fenetreMathalea2d[3]-1)-i.c)/i.a;g>b.fenetreMathalea2d[1]&&g<b.fenetreMathalea2d[3]&&(u=b.fenetreMathalea2d[0]+1,l=g-i.pente*(30*.5/b.pixelsParCm)+(i.pente>0?-1:1)*20*.5/b.pixelsParCm,f=i.pente>0?"below":"above",d="left",l<b.fenetreMathalea2d[1]+1||l>b.fenetreMathalea2d[3]-1||(h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]})),u=b.fenetreMathalea2d[0]+1,l=g+i.pente*(30*.5/b.pixelsParCm)-(i.pente>0?-1:1)*20*.5/b.pixelsParCm,f=i.pente>0?"above":"below",d="left",l<b.fenetreMathalea2d[1]+1||l>b.fenetreMathalea2d[3]-1||(h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]}))),y>b.fenetreMathalea2d[1]&&y<b.fenetreMathalea2d[3]&&(u=b.fenetreMathalea2d[2]-1,l=y-i.pente*(30*.5/b.pixelsParCm)+(i.pente>0?-1:1)*20*.5/b.pixelsParCm,f=i.pente>0?"below":"above",d="right",l<b.fenetreMathalea2d[1]+1||l>b.fenetreMathalea2d[3]-1||(h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]}))),q>b.fenetreMathalea2d[0]&&q<b.fenetreMathalea2d[2]&&(u=q+(i.pente>0?-1:1)*30*.5/b.pixelsParCm-(i.pente>0,1*(20*.5/b.pixelsParCm)/i.pente)-(i.pente>0?1:-1)*2/b.pixelsParCm,l=b.fenetreMathalea2d[1]+1,f=i.pente>0?"left":"right",d="below",u<b.fenetreMathalea2d[0]+1||u>b.fenetreMathalea2d[2]-1||(h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]})),u=q-(i.pente>0?-1:1)*30*.5/b.pixelsParCm+(i.pente>0,1*(20*.5/b.pixelsParCm)/i.pente)+(i.pente>0?1:-1)*2/b.pixelsParCm,l=b.fenetreMathalea2d[1]+1,f=i.pente>0?"right":"left",d="below",u<b.fenetreMathalea2d[0]+1||u>b.fenetreMathalea2d[2]-1||(h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]}))),k>b.fenetreMathalea2d[0]&&k<b.fenetreMathalea2d[2]&&(u=k+(i.pente>0?-1:1)*30*.5/b.pixelsParCm-(i.pente>0,1*(20*.5/b.pixelsParCm)/i.pente)-(i.pente>0?1:-1)*2/b.pixelsParCm,l=b.fenetreMathalea2d[3]-1,f=i.pente>0?"left":"right",d="above",u<b.fenetreMathalea2d[0]+1||u>b.fenetreMathalea2d[2]-1||(h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]})),u=k-(i.pente>0?-1:1)*30*.5/b.pixelsParCm+(i.pente>0,1*(20*.5/b.pixelsParCm)/i.pente)+(i.pente>0?1:-1)*2/b.pixelsParCm,l=b.fenetreMathalea2d[3]-1,f=i.pente>0?"right":"left",d="above",u<b.fenetreMathalea2d[0]+1||u>b.fenetreMathalea2d[2]-1||(h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]})));let M,S;g>b.fenetreMathalea2d[1]&&g<b.fenetreMathalea2d[3]?M=b.fenetreMathalea2d[0]:M=Math.min(q,k),y>b.fenetreMathalea2d[1]&&y<b.fenetreMathalea2d[3]?S=b.fenetreMathalea2d[2]:S=Math.max(q,k),u=(M+S)/2,l=Te(i,u,"").y,f=i.pente>0?"left":"right",d="middle",h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n}),x.push({label:h,position:d,anch:f,colision:[]})}h=tt(t,u,l,{color:r,backgroundColor:"white",letterSize:n});for(let g=0;g<x.length;g++){if(x[g].position==="middle")continue;const y=[];for(let q=0;q<s.length;q++){const k=s[q],M=N(m(k.x,k.y),m(x[g].label.x,x[g].label.y)).longueur*b.pixelsParCm,S=[k.x*b.pixelsParCm-30/2,k.x*b.pixelsParCm+30/2,k.y*b.pixelsParCm-20/2,k.y*b.pixelsParCm+20/2],O=[x[g].label.x*b.pixelsParCm-30/2,x[g].label.x*b.pixelsParCm+30/2,x[g].label.y*b.pixelsParCm-20/2,x[g].label.y*b.pixelsParCm+20/2],ot=S[0]<O[1]&&S[1]>O[0]&&S[2]<O[3]&&S[3]>O[2];y[q]=[M,ot]}x[g].colision=[...y]}const v=[!1,0];for(let g=0;g<x.length&&!v[0];g++)if(x[g].position!=="middle"&&x[g].position===e){v[0]=!0;for(let y=0;y<s.length;y++)x[g].colision[y][1]&&(v[0]=!1);v[1]=g}let p=[0,0,0];for(let g=0;g<x.length&&!v[0]&&s.length>0;g++){if(x[g].position==="middle")continue;let y=[1e3,0,0];for(let q=0;q<s.length;q++)x[g].colision[q][0]<y[0]&&(y=[x[g].colision[q][0],g,q]);y[0]>p[0]&&(p=y)}let $=!1;p[0]>0&&($=x[p[1]].colision[p[2]][1]),h=v[0]?x[v[1]].label:p[0]>0&&!$?x[p[1]].label:x[s.length===0?0:x.length-1].label}else h=de();return h}function Fa(i,t,e="black"){i.color=z(e??"black");let s,n;if(i.epaisseur=1,i.opacite=1,R(i.b,0,.05))s=-i.c/i.a+.8,n=b.fenetreMathalea2d[1]+1;else if(R(i.a,0,.05))s=b.fenetreMathalea2d[0]+.8,n=-i.c/i.b+.8;else{const a=(-i.a*(b.fenetreMathalea2d[0]+1)-i.c)/i.b,o=(-i.a*(b.fenetreMathalea2d[2]-1)-i.c)/i.b,c=(-i.b*(b.fenetreMathalea2d[1]+1)-i.c)/i.a,u=(-i.b*(b.fenetreMathalea2d[3]-1)-i.c)/i.a;a>b.fenetreMathalea2d[1]&&a<b.fenetreMathalea2d[3]?(s=b.fenetreMathalea2d[0]+1,n=a+i.pente):o>b.fenetreMathalea2d[1]&&o<b.fenetreMathalea2d[3]?(s=b.fenetreMathalea2d[2]-1,n=o-i.pente):c>b.fenetreMathalea2d[0]&&c<b.fenetreMathalea2d[2]?(s=c,n=b.fenetreMathalea2d[1]+Math.abs(i.pente)):u>b.fenetreMathalea2d[0]&&u<b.fenetreMathalea2d[2]?(s=u,n=b.fenetreMathalea2d[3]+i.pente):(s=(b.fenetreMathalea2d[0]+b.fenetreMathalea2d[2])/2,n=Te(i,s,"").y)}const r=tt(t,s,n,{color:e});return[i,r]}class K extends V{x1;x2;y1;y2;a;b;c;pente;angleAvecHorizontale;nom;normal;directeur;stringColor;leNom;constructor(t,e,s,n,r){super();let a,o,c;this.stringColor="black",arguments.length===2?(t instanceof B&&e instanceof B?(this.x1=t.x,this.x2=e.x,this.y1=t.y,this.y2=e.y):(window.notify("Droite : (attendus : A et B) les arguments de sont pas des points valides",{arg1:t,arg2:e}),this.x1=0,this.x2=0,this.y1=0,this.y2=0),this.nom="",this.pointilles=0,this.opacite=1,this.epaisseur=1,this.a=this.y1-this.y2,this.b=this.x2-this.x1,this.c=(this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1,this.pente=NaN):arguments.length===3?typeof t=="number"?((isNaN(t)||Number.isNaN(e)||Number.isNaN(s))&&window.notify("Droite : (attendus : a, b et c) les arguments de sont pas des nombres valides",{arg1:t,arg2:e,arg3:s}),this.nom="",this.a=Number(t),this.b=Number(e),this.c=Number(s),a=Number(t),o=Number(e),c=Number(s),R(a,0)?(this.x1=0,this.x2=1,this.y1=-c/o,this.y2=-c/o):R(o,0)?(this.y1=0,this.y2=1,this.x1=-c/a,this.x2=-c/a):(this.x1=0,this.y1=-c/o,this.x2=1,this.y2=(-c-a)/o)):((isNaN(t.x)||isNaN(t.y)||isNaN(e.x)||isNaN(e.y))&&window.notify('Droite : (attendus : A, B et "nom") les arguments de sont pas des points valides',{arg1:t,arg2:e}),this.x1=t.x,this.y1=t.y,this.x2=e.x,this.y2=e.y,this.a=this.y1-this.y2,this.b=this.x2-this.x1,this.c=(this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1,this.nom=String(s)):arguments.length===4?typeof t=="number"?((isNaN(t)||Number.isNaN(e)||Number.isNaN(s))&&window.notify('Droite : (attendus : a, b, c et "nom") les arguments de sont pas des nombres valides',{arg1:t,arg2:e,arg3:s}),this.a=Number(t),this.b=Number(e),this.c=Number(s),a=Number(t),o=Number(e),c=Number(s),this.nom=String(n),R(a,0)?(this.x1=0,this.x2=1,this.y1=-c/o,this.y2=-c/o):R(o,0)?(this.y1=0,this.y2=1,this.x1=-c/a,this.x2=-c/a):(this.x1=0,this.y1=-c/o,this.x2=1,this.y2=(-c-a)/o)):((isNaN(t.x)||isNaN(t.y)||isNaN(e.x)||isNaN(e.y))&&window.notify('Droite : (attendus : A, B, "nom" et "couleur") les arguments de sont pas des points valides',{arg1:t,arg2:e}),this.x1=t.x,this.y1=t.y,this.x2=e.x,this.y2=e.y,this.a=this.y1-this.y2,this.b=this.x2-this.x1,this.c=(this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1,this.nom=String(s),this.color=z(String(n)),this.stringColor=String(n)):((Number.isNaN(t)||Number.isNaN(e)||Number.isNaN(s))&&window.notify('Droite : (attendus : a, b, c et "nom") les arguments de sont pas des nombres valides',{arg1:t,arg2:e,arg3:s}),this.a=Number(t),this.b=Number(e),this.c=Number(s),a=Number(t),o=Number(e),c=Number(s),this.nom=String(n),this.color=z(String(r)),this.stringColor=String(r),R(a,0)?(this.x1=0,this.x2=1,this.y1=-c/o,this.y2=-c/o):R(o,0)?(this.y1=0,this.y2=1,this.x1=-c/a,this.x2=-c/a):(this.x1=0,this.y1=-c/o,this.x2=1,this.y2=(-c-a)/o)),this.b!==0?this.pente=-this.a/this.b:this.pente=NaN;let u,l;this.x1>this.x2&&(u=this.x1,l=this.y1,this.x1=this.x2+0,this.y1=this.y2+0,this.x2=u,this.y2=l),this.x1=D(this.x1,2),this.y1=D(this.y1,2),this.x2=D(this.x2,2),this.y2=D(this.y2,2),this.normal=I(this.a,this.b),this.directeur=I(this.b,-this.a),this.angleAvecHorizontale=it(m(1,0),m(0,0),m(this.directeur.x,this.directeur.y)),this.bordures=[Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.max(this.x1,this.x2),Math.max(this.y1,this.y2)];let h,f;if(this.nom!==""){if(R(this.b,0,.05))h=-this.c/this.a+.8,f=b.fenetreMathalea2d[1]+1;else if(R(this.a,0,.05))h=b.fenetreMathalea2d[0]+.8,f=-this.c/this.b+.8;else{const d=(-this.a*(b.fenetreMathalea2d[0]+1)-this.c)/this.b,x=(-this.a*(b.fenetreMathalea2d[2]-1)-this.c)/this.b,v=(-this.b*(b.fenetreMathalea2d[1]+1)-this.c)/this.a,p=(-this.b*(b.fenetreMathalea2d[3]-1)-this.c)/this.a;d>b.fenetreMathalea2d[1]&&d<b.fenetreMathalea2d[3]?(h=b.fenetreMathalea2d[0]+1,f=d+this.pente):x>b.fenetreMathalea2d[1]&&x<b.fenetreMathalea2d[3]?(h=b.fenetreMathalea2d[2]-1,f=x-this.pente):v>b.fenetreMathalea2d[0]&&v<b.fenetreMathalea2d[2]?(h=v,f=b.fenetreMathalea2d[1]+Math.abs(this.pente)):p>b.fenetreMathalea2d[0]&&p<b.fenetreMathalea2d[2]?(h=p,f=b.fenetreMathalea2d[3]+this.pente):(h=(b.fenetreMathalea2d[0]+b.fenetreMathalea2d[2])/2,f=Te(this,h,"").y)}this.leNom=Y(this.nom,h,f,0,this.stringColor,1,"milieu",!0)}if(this.nom.includes("$"))return window.notify(`Droite() appelé avec un nom contenant du Latex... utiliser droiteAvecNom() à la place !
On va retourner un array contenant la droite et un latexParCoordonnees dans un proche avenir !
Il faut donc adapter l'exo qui a provoqué ça.
 Pour l'instant on retourne une droite sans nom.`,{nom:this.nom}),new K(m(this.x1,this.y1),m(this.x2,this.y2))}svg(t){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `);const e=m(this.x1,this.y1),s=m(this.x2,this.y2),n=C(e,s,-50),r=C(s,e,-50);return this.nom===""?`<line x1="${n.xSVG(t)}" y1="${n.ySVG(t)}" x2="${r.xSVG(t)}" y2="${r.ySVG(t)}" stroke="${this.color[0]}" ${this.style} id ="${this.id}" />`:`<line x1="${n.xSVG(t)}" y1="${n.ySVG(t)}" x2="${r.xSVG(t)}" y2="${r.ySVG(t)}" stroke="${this.color[0]}" ${this.style} id ="${this.id}" />`+(this.leNom!=null?this.leNom?.svg(t)??"":"")}tikz(){const t=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&t.push(`color=${this.color[1]}`),this.epaisseur!==1&&t.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:t.push(" dash dot ");break;case 2:t.push(" densely dash dot dot ");break;case 3:t.push(" dash dot dot ");break;case 4:t.push(" dotted ");break;case 5:t.push(" dashed ");break}this.opacite!==1&&t.push(`opacity = ${this.opacite}`);let e="";t.length>0&&(e="["+t.join(",")+"]");const s=m(this.x1,this.y1),n=m(this.x2,this.y2),r=C(s,n,-50),a=C(n,s,-50);return this.nom!==""?`\\draw${e} (${r.x},${r.y})--(${a.x},${a.y});`+(this.leNom!=null?this.leNom?.tikz()??"":""):`\\draw${e} (${r.x},${r.y})--(${a.x},${a.y});`}svgml(t,e){const s=m(this.x1,this.y1),n=m(this.x2,this.y2),r=C(s,n,-50),a=C(n,s,-50);return N(r,a,this.color[0]).svgml(t,e)}tikzml(t){const e=m(this.x1,this.y1),s=m(this.x2,this.y2),n=C(e,s,-50),r=C(s,e,-50);return N(n,r,this.color[1]).tikzml(t)}}function st(i,t,e,s,n){return arguments.length===2?new K(i,t):arguments.length===3?new K(i,t,e):arguments.length===4?new K(i,t,e,s):new K(i,t,e,s,n)}function Ia(i,t,e=1e-4){return R(i.a*t.x+i.b*t.y+i.c,0,e)?"sur":R(i.b,0)?t.x<-i.c/i.a?"gauche":"droite":i.a*t.x+i.b*t.y+i.c<0?"dessous":"dessus"}function Ea(i,{xmin:t=0,ymin:e=0,xmax:s=10,ymax:n=10}){let r,a,o,c,u,l;if(i.b===0)r=-i.b/i.c-.5,a=n-.5;else{const f=d=>(-i.c-i.a*d)/i.b;if(o=f(s),o<=n&&o>=e)r=s-.8,a=f(r);else if(u=f(t),u<=n&&u>=e)r=t+.8,a=f(r);else{const d=x=>(-i.c-i.b*x)/i.a;if(c=d(n),c<=s&&c>=t)a=n-.8,r=d(a);else if(l=d(e),l<=s&&l>=t)a=e+.8,r=d(a);else return de()}}return L(m(r,a),G(I(i.a,i.b),m(0,0),.5/qs(I(i.a,i.b))))}function Le(i,t,e="",s="black"){const n=m(i.x+t.x,i.y+t.y);return new K(i,n,e,s)}function Ra(i,t,e="",s="black"){return Le(i,t.directeur,e,s)}function Ls(i,t,e="",s="black"){return Le(i,t.normal,e,s)}function Va(i,t="",e="black"){return Os(i,0,t,e)}function Ga(i,t="",e="black"){return Le(i,I(0,1),t,e)}function Os(i,t,e="",s="black"){const n=m(i.x+1,i.y+t);return new K(i,n,e,s)}class ci extends V{couleurMediatrice;epaisseurMediatrice;opaciteMediatrice;pointillesMediatrice;couleurConstruction;constructor(t,e,s="",n="red",r="blue",a="black",o=!1,c=!1,u="×",l="||",h=1,f=1,d=0){super();const x=Pt(t,e),v=P(t,x,90),p=P(t,x,-90),$=C(x,v,A(t,e)*.785),g=C(x,p,A(t,e)*.785),y=new K($,g,s,n);if(arguments.length<5)return this.color=z(n),this.pointilles=d,this.opacite=f,this.epaisseur=h,y;if(A(t,e)<.1&&window.notify("ConstructionMediatrice : Points trop rapprochés pour créer cet objet",{A:t,B:e}),this.color=z(r),this.couleurMediatrice=n,this.epaisseurMediatrice=h,this.opaciteMediatrice=f,this.pointillesMediatrice=d,this.couleurConstruction=a,this.epaisseur=1,y.epaisseur=this.epaisseurMediatrice,y.opacite=this.opaciteMediatrice,y.pointilles=this.pointillesMediatrice,!o&&!c)return y;if(this.objets=[y],o){const q=It(t,$,20,this.couleurConstruction),k=It(e,$,20,this.couleurConstruction),M=It(t,g,20,this.couleurConstruction),S=It(e,g,20,this.couleurConstruction),O=Hs(t,e,this.couleurMediatrice,u);this.objets.push(q,k,M,S,y,O)}if(c){const q=N(t,$,this.couleurConstruction);q.pointilles=5;const k=N(e,$,this.couleurConstruction);k.pointilles=5;const M=N(t,g,this.couleurConstruction);M.pointilles=5;const S=N(e,g,this.couleurConstruction);S.pointilles=5;const O=jt(l,this.couleurConstruction,t,$,e,$,t,g,e,g);this.objets.push(q,k,M,S,O)}}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e=`<g id="${this.id}">${e}</g>`,e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}svgml(t,e){let s="";if(this.objets==null)return s;for(const n of this.objets)typeof n.svgml>"u"?s+=`
	`+n.svg(t):s+=`
	`+n.svgml(t,e);return s}tikzml(t){let e="";if(this.objets==null)return e;for(const s of this.objets)typeof s.tikzml>"u"?e+=`
	`+s.tikz():e+=`
	`+s.tikzml(t);return e}}function ye(i,t,e="",s="red",n="blue",r="black",a=!1,o=!1,c="×",u="||",l=1,h=1,f=0){return arguments.length<5?new ci(i,t,e,s):new ci(i,t,e,s,n,r,a,o,c,u,l,h,f)}class Us extends Ge{tailleLosange;mark;couleurBissectrice;epaisseurBissectrice;opaciteBissectrice;pointillesBissectrice;couleurConstruction;constructor(t,e,s,n="red",r="blue",a="black",o=!1,c=!1,u="×",l=5,h=1,f=1,d=0){const x=it(t,e,s)/2,v=C(e,t,3),p=P(v,e,x);super(e,p,n),this.color=z(r),this.tailleLosange=l,this.mark=u,this.couleurBissectrice=n,this.epaisseurBissectrice=h,this.couleurConstruction=a,this.opaciteBissectrice=f,this.pointillesBissectrice=d,(A(t,e)<.001||A(e,s)<.001)&&window.notify("Bissectrice : points confondus",{A:t,O:e,B:s});const $=$s(e,p,n);$.epaisseur=h,$.opacite=f,$.pointilles=d,this.objets=[$];const g=C(e,t,this.tailleLosange),y=C(e,s,this.tailleLosange),q=st(g,y),k=Vt(e,q);if(o||c){if(!g.estSur(N(e,t))){const M=N(e,g,this.couleurConstruction);this.objets.push(M)}if(!y.estSur(N(e,s))){const M=N(e,y,this.couleurConstruction);this.objets.push(M)}if(o){const M=Bs(t,e,s,r,u),S=It(y,k,20,this.couleurConstruction),O=It(g,k,20,this.couleurConstruction),ot=It(e,g,20,this.couleurConstruction),ht=It(e,y,20,this.couleurConstruction);this.objets.push(M,S,O,ot,ht)}if(c){const M=N(g,k,this.couleurConstruction),S=N(y,k,this.couleurConstruction);M.pointilles=5,S.pointilles=5;const O=jt(this.mark,r,e,g,g,k,e,y,y,k);this.objets.push(M,S,O)}}}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function ja(i,t,e,s="red",n="blue",r="black",a=!1,o=!1,c="×",u=5,l=1,h=1,f=0){return new Us(i,t,e,s,n,r,a,o,c,u,l,h,f)}function Ta(i,t){const e=we(i,t);return A(i,e,9)}class Si extends V{constructor(t,e,s="black",n="×",r=!0){super(),A(t,e)<.1&&window.notify("CodageMilieu : Points trop rapprochés pour créer ce codage",{A:t,B:e}),this.color=z(s);const a=Pt(t,e),o=st(t,e),c=Ts(a,o,s),u=jt(n,s,t,a,a,e);let l="";this.bordures=[Math.min(t.bordures[0],e.bordures[0]),Math.min(t.bordures[1],e.bordures[1]),Math.max(t.bordures[2],e.bordures[2]),Math.max(t.bordures[3],e.bordures[3])],this.svg=function(h){return r?l=c.svg(h)+`
`+u.svg(h):l=u.svg(h),l=`<g id="${this.id}">${l}</g>`,l},this.tikz=function(){return r?c.tikz()+`
`+u.tikz():u.tikz()}}}function La(i,t,e="black",s="×",n=!0){return new Si(i,t,e,s,n)}class As extends V{constructor(t,e,s="black",n="×"){super(),A(t,e)<.1&&window.notify("CodageMediatrice : Points trop rapprochés pour créer ce codage",{A:t,B:e}),this.color=z(s);const r=Pt(t,e),a=P(t,r,90),o=$t(a,r,e,s),c=jt(n,s,t,r,r,e),u=wt([t,e,r,o]);this.bordures=[u.xmin,u.ymin,u.xmax,u.ymax],this.svg=function(l){return`<g id="${this.id}">${o.svg(l)+`
`+c.svg(l)}</g>`},this.tikz=function(){return o.tikz()+`
`+c.tikz()},this.svgml=function(l,h){return o.svgml(l,h)+`
`+c.svg(l)},this.tikzml=function(l){return o.tikzml(l)+`
`+c.tikz()}}}function Hs(i,t,e="black",s="×"){return new As(i,t,e,s)}class Ws extends V{mark;centre;depart;constructor(t,e,s,n="black",r="X"){super(),this.color=z(n),this.mark=r,this.centre=e,this.depart=C(e,t,1.5);const a=it(t,e,s)/2,o=P(this.depart,e,a),c=Ie(C(this.centre,this.depart),e,a,1,this.mark,n,1,1),u=Ie(C(this.centre,o),e,a,1,this.mark,n,1,1);this.objets=[c,u];const l=wt([c,u]);this.bordures=[l.xmin,l.ymin,l.xmax,l.ymax]}}function Bs(i,t,e,s="black",n="X"){return new Ws(i,t,e,s,n)}class Js extends V{constructor(t,e="black",s="×"){super(),this.objets=[],this.objets.push(jt(s,e,...t.listePoints)),this.objets.push($t(t.listePoints[0],t.listePoints[1],t.listePoints[2],e)),this.objets.push($t(t.listePoints[1],t.listePoints[2],t.listePoints[3],e)),this.objets.push($t(t.listePoints[2],t.listePoints[3],t.listePoints[0],e)),this.objets.push($t(t.listePoints[3],t.listePoints[0],t.listePoints[1],e))}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function Oa(i,t="black",e="×"){return new Js(i,t,e)}class Xs extends V{stringColor;angle;O;M;distance;text;constructor(t,e,s="black",n=.5,r="cm",a=!1,o=1){super(),this.stringColor=s,this.O=Pt(t,e),this.M=P(t,this.O,-90);const c=N(t,e),u=ie(c.longueur,o);this.text=`${u}${r!==""?" "+r:""}`,this.distance=a?n-.1+this.text.length/10:n,a?this.angle=0:e.x>t.x?this.angle=-c.angleAvecHorizontale:this.angle=180-c.angleAvecHorizontale,this.bordures=[this.O.x-.5,this.O.y-.5,this.O.x+.5,this.O.y+.5]}svg(t){const e=C(this.O,this.M,this.distance*20/t);return ct(this.text,e,this.angle,this.stringColor,1,"milieu",!1).svg(t)}tikz(){const t=C(this.O,this.M,this.distance/b.scale);return ct(this.text,t,this.angle,this.stringColor,1,"milieu",!1).tikz()}}function Qs(i,t,e="black",s=.5,n="cm",r=!1,a=1){return new Xs(i,t,e,s,n,r,a)}class Zs extends V{stringColor;extremite1;extremite2;distance;texte;scale;mathOn;angle;O;M;constructor(t,e,s,n="black",r=.5,a=!1){super(),typeof t=="number"&&(t=String(t)),A(e,s)<.1&&window.notify("TexteSurSegment : Points trop proches pour cette fonction",{A:e,B:s}),this.color=z(n),this.stringColor=n,this.extremite1=e,this.extremite2=s,this.texte=String(t),this.scale=1,this.mathOn=!0,this.distance=a?r-.1+this.texte.length/10:r,this.O=Pt(this.extremite1,this.extremite2),this.M=P(this.extremite1,this.O,-90);const o=N(this.extremite1,this.extremite2),c=C(this.O,this.M,this.distance),u=.2*(this.texte.length??2);this.bordures=[c.x-u,c.y-u,c.x+u,c.y+u],a?this.angle=0:this.extremite2.x>this.extremite1.x?(this.angle=-o.angleAvecHorizontale,this.angle=-o.angleAvecHorizontale):(this.angle=180-o.angleAvecHorizontale,this.angle=180-o.angleAvecHorizontale)}svg(t){const e=C(this.O,this.M,this.distance*20/t);return ct(this.texte,e,this.angle,this.stringColor,this.scale,"milieu",this.mathOn).svg(t)}tikz(){const t=C(this.O,this.M,this.distance/b.scale);return ct(this.texte,t,this.angle,this.stringColor,this.scale,"milieu",this.mathOn).tikz()}}function Ys(i="",t,e,s="black",n=.5,r=!1){return i[0]==="$"?Ni(i.replaceAll("$",""),t,e,{color:s,distance:n,horizontal:r}):new Zs(i,t,e,s,n,r)}class Ks extends V{extremite1;extremite2;distance;texte;angle;centre;milieu;normale;stringColor;horizontal;constructor(t,e,s,n,r="black",a=.5,o=!1){super(),this.color=z(r),this.horizontal=o,this.stringColor=r,this.extremite1=e,this.extremite2=s,this.distance=t[0]==="$"?-3*a:-a,this.texte=t,this.angle=n;let c;n<0?c=(n+180)/2:c=(n-180)/2;const u=ye(e,s),l=st(e,s),h=P(l,s,c),f=u.a*h.b-h.a*u.b,d=(u.b*h.c-h.b*u.c)/f,x=(h.a*u.c-u.a*h.c)/f;this.centre=m(d,x);const v=N(this.extremite1,this.extremite2);this.normale=-v.angleAvecHorizontale,this.milieu=P(e,this.centre,n/2);const p=C(this.milieu,this.centre,this.distance),$=.2*t.length;this.bordures=[p.x-$,p.y-$,p.x+$,p.y+$]}svg(t){const e=C(this.milieu,this.centre,this.distance*20/t);let s;return this.extremite2.x>this.extremite1.x?s=this.normale:s=180+this.normale,ct(this.texte,e,this.horizontal?0:s,this.stringColor).svg(t)}tikz(){const t=C(this.milieu,this.centre,this.distance/b.scale);let e;return this.extremite2.x>this.extremite1.x?e=this.normale:e=180+this.normale,ct(this.texte,t,e,this.stringColor).tikz()}}function Ua(i,t,e,s,n="black",r=.5,a=!1){return new Ks(i,t,e,s,n,r,a)}class _s extends V{depart;sommet;arrivee;distance;ecart;saillant;constructor(t,e,s,n="black",r=1.5,a="",{ecart:o=.5,mesureEnGras:c=!1,saillant:u=!0,colorArc:l="black",rayon:h=!1,couleurDeRemplissage:f="none",opaciteDeRemplissage:d=.5,arcEpaisseur:x=1}={}){super(),this.depart=t,this.arrivee=s,this.sommet=e,this.distance=r;const v=u?it(this.depart,this.sommet,this.arrivee):it(this.depart,this.sommet,this.arrivee)>0?it(this.depart,this.sommet,this.arrivee)-360:360+it(this.depart,this.sommet,this.arrivee);this.ecart=o,this.saillant=u,this.epaisseur=x;const p=C(this.sommet,this.depart,this.distance),$=P(C(this.sommet,p,this.distance+this.ecart*20/b.pixelsParCm),this.sommet,v/2);let g;a!==""?g=a:g=Math.round(Math.abs(v)).toString()+"^\\circ";const y=pt(g,$.x,$.y,n,0,0,"",8),q=U(p,e,v,h,f,l,d);q.epaisseur=this.epaisseur,this.bordures=[Math.min($.x,p.x)-.5,Math.min($.y,p.y)-.5,Math.max($.x,p.x)+.5,Math.max($.y,p.y)+.5],this.objets=[y,q]}}function Aa(i,t,e,s="black",n=1.5,r="",{ecart:a=.5,mesureEnGras:o=!1,saillant:c=!0,colorArc:u="black",rayon:l=!1,couleurDeRemplissage:h="none",opaciteDeRemplissage:f=.5,arcEpaisseur:d=1}={}){return new _s(i,t,e,s,n,r,{ecart:a,mesureEnGras:o,saillant:c,colorArc:u,rayon:l,couleurDeRemplissage:h,opaciteDeRemplissage:f,arcEpaisseur:d})}class tn extends V{constructor(t,e="",s=.5,n="black",r=1,a=.5,o="black",c=!1){super();let u;const l=t.extremite1,h=t.extremite2,f=j(I(l,h),l,90,s/t.longueur),d=N(L(l,f),L(h,f),n);A(l,h)>1?d.styleExtremites="<->":d.styleExtremites=">-<",d.epaisseur=r,e===""?u=Qs(d.extremite1,d.extremite2,o,a,"cm",c):e.includes("\\")?u=Ni(e,d.extremite1,d.extremite2,{distance:a,horizontal:c,letterSize:"normalsize",color:o}):u=Ys(e,d.extremite1,d.extremite2,o,a,c);const{xmin:x,xmax:v,ymin:p,ymax:$}=wt([d,u]);this.bordures=[x,p,v,$],this.objets=[d,u]}svg(t){let e="";if(this.objets==null)return e;this.objets.forEach(s=>{s.opacite=this.opacite});for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;this.objets.forEach(e=>{e.opacite=this.opacite});for(const e of this.objets)t+=`
	`+e.tikz();return t}}function Ha(i,t="",e=.5,s="black",n=1,r=.5,a="black",o=!1){return i.longueur<1?(window.notify("afficheCoteSegment : Segment trop petit pour cette fonction",{s:i}),new mi(i.extremite1.x,i.extremite1.y)):new tn(i,t,e,s,n,r,a,o)}function Dt(i,t,e="||",s="black",n=.5){const r=Pt(i,t),a=N(i,t);let o;return t.x>i.x?o=-parseInt(a.angleAvecHorizontale.toFixed(0)):o=-parseInt(a.angleAvecHorizontale.toFixed(0))+180,new Ve(e,r,o,s,n)}class en extends V{echelle;stringColor;mark;isEchelle;args;constructor(t="||",e="black",...s){super(),this.args=s,this.mark=t,this.stringColor=e,this.isEchelle=typeof s[s.length-1]=="number",this.echelle=this.isEchelle?s[s.length-1]:1;const n=function(r,a,o,c,...u){if(u.length===0)return[r,a,o,c];{const l=u.shift();return l instanceof lt?(r=Math.min(r,l.x1,l.x2),o=Math.max(o,l.x1,l.x2),a=Math.min(a,l.y1,l.y2),c=Math.max(c,l.y1,l.y2),n(r,a,o,c,...u)):l instanceof Q?(r=Math.min(r,l.x),o=Math.max(o,l.x),a=Math.min(a,l.y),c=Math.max(c,l.y),n(r,a,o,c,...u)):n(r,a,o,c,...u)}};this.bordures=n(1e3,1e3,-1e3,-1e3,...s)}svg(t){let e="";if(Array.isArray(this.args[0])){for(let n=0;n<this.args[0].length-1;n++){const r=Dt(this.args[0][n],this.args[0][n+1],this.mark,this.stringColor,this.echelle);e+=r.svg(t),e+=`
`}const s=Dt(this.args[0][this.args[0].length-1],this.args[0][0],this.mark,this.stringColor,this.echelle);e+=s.svg(t),e+=`
`}else if(this.args[0].constructor===lt)for(let s=0;s<(this.isEchelle?this.args.length-1:this.args.length);s++){const n=Dt(this.args[s].extremite1,this.args[s].extremite2,this.mark,this.stringColor,this.echelle);e+=n.svg(t),e+=`
`}else for(let s=0;s<(this.isEchelle?this.args.length-1:this.args.length);s+=2)if([this.args[s],this.args[s+1]].every(n=>n instanceof Q||n instanceof B)){const n=Dt(this.args[s],this.args[s+1],this.mark,this.stringColor,this.echelle);e+=n.svg(t),e+=`
`}return e=`<g id="${this.id}">${e}</g>`,e}tikz(){let t="";if(Array.isArray(this.args[0])){for(let e=0;e<this.args[0].length-1;e++)t+=Dt(this.args[0][e],this.args[0][e+1],this.mark,this.stringColor,this.echelle).tikz(),t+=`
`;t+=Dt(this.args[0][this.args[0].length-1],this.args[0][0],this.mark,this.stringColor).tikz(),t+=`
`}else if(this.args[0].constructor===lt){const e=this.isEchelle?this.args.length-1:this.args.length;for(let s=0;s<e;s++)t+=Dt(this.args[s].extremite1,this.args[s].extremite2,this.mark,this.stringColor).tikz(),t+=`
`}else{const e=this.isEchelle?this.args.length-1:this.args.length;for(let s=0;s<e;s+=2)[this.args[s],this.args[s+1]].every(n=>n instanceof Q||n instanceof B)&&(t+=Dt(this.args[s],this.args[s+1],this.mark,this.stringColor,this.echelle).tikz(),t+=`
`)}return t}}function jt(i="||",t="black",...e){return new en(i,t,...e)}class sn extends V{debut;centre;angle;taille;mark;echelleMark;tailleTexte;angleArrondi;couleurDeRemplissage;opaciteDeRemplissage;constructor(t,e,s,n=.8,r="",a="black",o=1,c=1,u="none",l=.2,h=!1,f="",d=1,{echelleMark:x=1,angleArrondi:v=0}={}){super(),this.color=z(a),this.debut=t,this.centre=e,this.taille=n,this.mark=r,this.echelleMark=x,this.epaisseur=o,this.opacite=c,this.couleurDeRemplissage=z(u),this.opaciteDeRemplissage=l,this.angle=s instanceof B?it(t,e,s):s,this.tailleTexte=d,this.angleArrondi=v,this.objets=[];const p=C(this.centre,this.debut,this.taille*20/b.pixelsParCm),$=P(p,this.centre,this.angle/2),g=C(this.centre,$,this.taille+.6*20/b.pixelsParCm),y=st(this.centre,$),q=D(Math.abs(this.angle),this.angleArrondi)+"^\\circ",k=U(p,this.centre,this.angle,u!=="none",u,a);if(k.opacite=this.opacite,k.epaisseur=this.epaisseur,k.opaciteDeRemplissage=this.opaciteDeRemplissage,this.objets.push(k),this.mark!==""){const S=ct(r,$,90-y.angleAvecHorizontale,a,this.echelleMark);this.objets.push(S)}if(h&&f===""){const S=tt(q,g.x+.2,g.y,{color:a,letterSize:ms(this.taille)});this.objets.push(S)}else if(f!=="")if(f.includes("$")){g.positionLabel="center";const S=tt(f.substring(1,f.length-1),g.x,g.y,{color:a,backgroundColor:"none"});this.objets.push(S)}else this.objets.push(ct(f,g,0,a,this.tailleTexte));const M=wt(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[M.xmin,M.ymin,M.xmax,M.ymax]}}function nn(i,t){let s=N(i,t).angleAvecHorizontale;return s=s>90?s-180:s<-90?s+180:s,s}function ui(i,t,e=.5){const s=Pt(i,t),n=P(i,s,-90);return C(s,n,e)}function Ni(i,t,e,{distance:s=.5,color:n="black",backgroundColor:r="none",letterSize:a="normalsize",horizontal:o=!1}={}){return tt(i,ui(t,e,s).x,ui(t,e,s).y,{orientation:o?0:nn(t,e),color:n,backgroundColor:r,letterSize:a})}const Wa=["simple","double","triple","gras","double-gras","gras-simple-gras","simple-gras-simple","pointilles","double-pointilles","mixte-simple-pointilles","mixte-gras-pointilles"];class Ba extends V{constructor(t,e,s,{mark:n="simple",color:r="black",rayon:a=1}){super(),this.objets=[];const o=C(e,t,a),c=it(t,e,s);switch(n){case"double":{const l=G(o,e,.9),h=G(o,e,1.1);this.objets.push(U(l,e,c,!1,"none",r),U(h,e,c,!1,"none",r))}break;case"triple":{const l=G(o,e,.9),h=G(o,e,1.1);this.objets.push(U(l,e,c,!1,"none",r),U(o,e,c,!1,"none",r),U(h,e,c,!1,"none",r))}break;case"gras":{const l=U(o,e,c,!1,"none",r);l.epaisseur=4,this.objets.push(l)}break;case"double-gras":{const l=G(o,e,.9),h=G(o,e,1.1),f=U(l,e,c,!1,"none",r),d=U(h,e,c,!1,"none",r);f.epaisseur=2,d.epaisseur=2,this.objets.push(f,d)}break;case"gras-simple-gras":{const l=G(o,e,.85),h=G(o,e,1.15),f=U(l,e,c,!1,"none",r),d=U(h,e,c,!1,"none",r);f.epaisseur=2,d.epaisseur=2,this.objets.push(f,U(o,e,c,!1,"none",r),d)}break;case"simple-gras-simple":{const l=G(o,e,.85),h=G(o,e,1.15),f=U(o,e,c,!1,"none",r),d=U(l,e,c,!1,"none",r),x=U(h,e,c,!1,"none",r);f.epaisseur=2,this.objets.push(d,f,x)}break;case"pointilles":{const l=U(o,e,c,!1,"none",r);l.pointilles=3,l.epaisseur=2,this.objets.push(l)}break;case"double-pointilles":{const l=G(o,e,1),h=G(o,e,1.1),f=U(l,e,c,!1,"none",r),d=U(h,e,c,!1,"none",r);f.pointilles=5,d.pointilles=5,this.objets.push(f,d)}break;case"mixte-simple-pointilles":{const l=G(o,e,.9),h=G(o,e,1.1),f=U(h,e,c,!1,"none",r),d=U(l,e,c,!1,"none",r);d.pointilles=3,d.epaisseur=2,f.epaisseur=2,this.objets.push(f,d)}break;case"mixte-gras-pointilles":{const l=G(o,e,.9),h=G(o,e,1.1),f=U(h,e,c,!1,"none",r),d=U(l,e,c,!1,"none",r);f.pointilles=3,d.epaisseur=2,this.objets.push(d,f)}break;case"simple":default:{const l=U(o,e,c,!1,"none",r);l.epaisseur=2,this.objets.push(l)}break}const u=wt(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[u.xmin,u.ymin,u.xmax,u.ymax]}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}class rn extends V{x;y;taille;constructor({x:t=0,y:e=0,taille:s=7,depart:n=0,semi:r=!1,avecNombre:a="deuxSens",precisionAuDegre:o=1,stepGraduation:c=10,rayonsVisibles:u=!0,color:l="gray"}){super(),this.x=t,this.y=e,this.taille=s,this.opacite=.7,this.color=z(l),this.objets=[];let h,f,d,x,v;r?(v=180,x=18):(v=360,x=36);const p=m(this.x,this.y);f=P(m(this.x+1,this.y),p,n);let $=C(p,f,this.taille);const g=U(f,p,v-.1,!1,"none",l),y=U($,p,v-.1,!1,"none",l);this.objets.push(N($,P($,p,180),l)),d=N(f,$,l),u&&this.objets.push(g),this.objets.push(y);for(let k=0;k<x;k++){a!==""&&(a==="deuxSens"&&(k===0&&(h=ct(String(v),P(G($,p,.8),p,2),-n,l,.65),h.contour=!0,this.objets.push(h)),k===x-1?(h=ct(String(v-(1+k)*10),P(G($,p,.8),p,v/x-2),-n,l,.65),h.contour=!0,this.objets.push(h)):(v-(1+k)*10)%c===0&&(h=ct(String(v-(1+k)*10),P(G($,p,.8),p,v/x),90-(1+k)*10-n,l,.78),h.contour=!0,this.objets.push(h))),k===0&&(h=ct("0",P(G($,p,.9),p,2),-n,l,.65),h.contour=!0,this.objets.push(h)),k===x-1?(h=ct(String((1+k)*10),P(G($,p,.9),p,v/x-2),-n,l,.65),h.contour=!0,this.objets.push(h)):(k+1)*10%c===0&&(h=ct(String((1+k)*10),P(G($,p,.9),p,v/x),90-(1+k)*10-n,l,.65),h.contour=!0,this.objets.push(h)));for(let M=1,S;M<10;M++)M===5&&o<10?(S=N(G(P($,p,M),p,.92),G(P($,p,M),p,.99),l),S.opacite=.6,S.tailleExtremites=.65,this.objets.push(S)):o===1&&(S=N(G(P($,p,M),p,.96),G(P($,p,M),p,.99),l),S.opacite=.6,S.tailleExtremites=.65,this.objets.push(S));k!==0&&k!==36&&k!==18&&this.objets.push(d),f=P(f,p,v/x),$=P($,p,v/x),u?d=N(f,$,l):d=N(G($,p,.9),$,l),d.opacite=this.opacite}r?d=N(p,G(P(f,p,-90),p,.2),l):(d=N(G(P(f,p,-90),p,-.2),G(P(f,p,-90),p,.2),l),this.objets.push(d),d=N(G(f,p,-.2),G(f,p,.2),l)),this.objets.push(d);const q=wt(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[q.xmin,q.ymin,q.xmax,q.ymax]}svg(t){let e="";if(this.objets==null)return e;for(const s of this.objets)e+=`
	`+s.svg(t);return e}tikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function Ja({x:i=0,y:t=0,taille:e=7,depart:s=0,semi:n=!1,avecNombre:r="deuxSens",precisionAuDegre:a=1,stepGraduation:o=10,rayonsVisibles:c=!0,color:u="gray"}){return new rn({x:i,y:t,taille:e,depart:s,semi:n,avecNombre:r,precisionAuDegre:a,stepGraduation:o,rayonsVisibles:c,color:u})}function an(i,t,e,s=2){const n=A(t,i,s),r=A(t,e,s),a=A(i,e,s);if(n>0&&r>0){const o=I(t,i),c=I(t,e);if(R(o.x*c.y-o.y*c.x,0))return o.x*c.x>0?0:o.x*c.x<0?180:o.y*c.y>0?0:180;{let u=(a**2-n**2-r**2)/(-2*n*r);u<-1&&(u=-1),u>1&&(u=1);const l=Math.acos(u);return D(l*180/Math.PI,s)}}else return 0}function on(i){for(;i<=-180;)i=i+360;for(;i>180;)i=i-360;return i}function it(i,t,e,s=2){const n=A(t,i,s),r=A(t,e,s);if(n<1e-12||r<1e-12)return 0;const a=P(i,t,90),o=I(t,e),c=I(t,a);return D(Oi(D(o.x*c.x+o.y*c.y,10))*an(i,t,e,10),s)}class Pi extends V{sommet;depart;arrivee;taille;color;couleurDeRemplissage;opaciteDeRemplissage;constructor(t,e,s,n="black",r=.4,a=.5,o=1,c="none",u=1){super(),this.sommet=e,this.depart=t,this.arrivee=s,this.taille=r,this.color=z(n),this.couleurDeRemplissage=z(c),this.opaciteDeRemplissage=u;const l=C(this.sommet,this.depart,this.taille*20/b.pixelsParCm),h=C(this.sommet,this.arrivee,this.taille*20/b.pixelsParCm);let f;it(this.depart,this.sommet,this.arrivee)>0?f=P(this.sommet,l,-90):f=P(this.sommet,l,90);const d=wt([l,h,f],{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[d.xmin,d.ymin,d.xmax,d.ymax],this.epaisseur=a,this.opacite=o}svg(t){const e=C(this.sommet,this.depart,this.taille*20/t),s=C(this.sommet,this.arrivee,this.taille*20/t);let n;it(this.depart,this.sommet,this.arrivee)>0?n=P(this.sommet,e,-90):n=P(this.sommet,e,90);const r=X([this.sommet,e,n,s],this.color[0]);return this.couleurDeRemplissage[0]!=="none"&&(r.couleurDeRemplissage=[this.couleurDeRemplissage[0],this.couleurDeRemplissage[1]],r.opaciteDeRemplissage=this.opaciteDeRemplissage),r.epaisseur=this.epaisseur,r.opacite=this.opacite,this.id=r.id,r.svg(t)}tikz(){const t=C(this.sommet,this.depart,this.taille/b.scale),e=C(this.sommet,this.arrivee,this.taille/b.scale);let s;it(this.depart,this.sommet,this.arrivee)>0?s=P(this.sommet,t,-90):s=P(this.sommet,t,90);const n=X([this.sommet,t,s,e],this.color[1]);return this.couleurDeRemplissage[1]===""&&(n.couleurDeRemplissage=[this.couleurDeRemplissage[0],this.couleurDeRemplissage[1]],n.opaciteDeRemplissage=this.opaciteDeRemplissage,n.epaisseur=this.epaisseur,n.opacite=this.opacite),n.tikz()}svgml(t,e){const s=C(this.sommet,this.depart,this.taille*20/t),n=C(this.sommet,this.arrivee,this.taille*20/t);let r;return it(this.depart,this.sommet,this.arrivee)>0?r=P(this.sommet,s,-90):r=P(this.sommet,s,90),ge([s,r,n],this.color[0]).svgml(t,e)}tikzml(t){const e=C(this.sommet,this.depart,this.taille/b.scale),s=C(this.sommet,this.arrivee,this.taille/b.scale);let n;return it(this.depart,this.sommet,this.arrivee)>0?n=P(this.sommet,e,-90):n=P(this.sommet,e,90),ge([e,n,s],this.color[1]).tikzml(t)}}function $t(i,t,e,s="black",n=.4,r=.5,a=1,o="none",c=1){return new Pi(i,t,e,s,n,r,a,o,c)}function Ie(i,t,e,s=.8,n="",r="black",a=1,o=1,c="none",u=.2,l=!1,h=!1,f="",d=1,{echelleMark:x=1,angleArrondi:v=0}={}){let p;return typeof e!="number"?p=it(i,t,e):p=e,(p===90||p===-90)&&!h?new Pi(i,t,P(i,t,p),r,s,a,o,c,u):new sn(i,t,p,s,n,r,a,o,c,u,l,f,d,{echelleMark:x,angleArrondi:v})}function Xa(i,t="cos"){const e=parseInt(i.degres??"0"),s=5,n=i.radians,r=Array.isArray(i.cos)?i.cos[0]:i.cos,a=Array.isArray(i.sin)?i.sin[0]:i.sin,o=m(0,0),c=m(s,0),u=m(0,s),l=m(-s,0),h=m(0,-s),f=N(c,l),d=N(u,h),x=cn(o,c),v=St(o,5.7),p=ri(x,e,""),$=ri(v,e,""),g=N(o,p,"blue"),y=N(o,c,"blue");g.epaisseur=3,y.epaisseur=3;const q=m(p.x,0),k=m(0,p.y),M=R(p.y,0)?de():N(p,q);M.pointilles=5;const S=R(p.x,0)?de():N(p,k);S.pointilles=5;const O=le(n??"0",$),ot=m(p.x,p.y<0?1.5:-1.5),ht=m(p.x<0?.65:-1.5,p.y),nt=le(r??"0",ot),rt=le(a??"0",ht),dt=N(o,m(p.x,0)),J=N(o,m(0,p.y));dt.epaisseur=3,J.epaisseur=3;const zt=Ie(c,o,p);zt.color=z("blue"),zt.epaisseur=3;const Ct=[];return t==="cos"?Ct.push(nt,dt,M):Ct.push(rt,J,S),Ui({xmin:-s-3,xmax:s+3,ymin:-s-1.8,ymax:s+1.8,scale:.5},x,O,zt,f,d,...Ct,g,y)}class Se extends V{centre;rayon;couleurDeRemplissage;opaciteDeRemplissage;hachures;couleurDesHachures;epaisseurDesHachures;distanceDesHachures;constructor(t,e,s="black",n="none",r="none",a=1,o=0,c=1,u=1.1,l=1,h=10){super(),this.color=z(s),this.centre=t,this.rayon=e,this.couleurDeRemplissage=z(n),this.opaciteDeRemplissage=u,this.couleurDesHachures=z(r),this.epaisseurDesHachures=l,this.distanceDesHachures=h,this.bordures=[t.x-e,t.y-e,t.x+e,t.y+e],this.epaisseur=a,this.pointilles=o,this.opacite=c}svg(t){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage=z("none")),Qt({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[0],couleurDeRemplissage:this.couleurDeRemplissage[0],opaciteDeRemplissage:this.opaciteDeRemplissage})+`<circle cx="${this.centre.xSVG(t)}" cy="${this.centre.ySVG(t)}" r="${this.rayon*t}" stroke="${this.color[0]}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.couleurDeRemplissage[0]===""?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<circle cx="${this.centre.xSVG(t)}" cy="${this.centre.ySVG(t)}" r="${this.rayon*t}" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`)}tikz(){let t="";const e=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;case 5:e.push(" dashed ");break}return this.opacite!==1&&e.push(`opacity = ${this.opacite}`),this.opaciteDeRemplissage!==1&&e.push(`fill opacity = ${this.opaciteDeRemplissage}`),this.couleurDeRemplissage[1]!==""&&this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&e.push(`preaction={fill,color = ${this.couleurDeRemplissage[1]}}`),this.hachures&&e.push(Qt({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[1],couleurDeRemplissage:this.couleurDeRemplissage[1],opaciteDeRemplissage:this.opaciteDeRemplissage})),e.length>0&&(t="["+e.join(",")+"]"),`\\draw${t} (${this.centre.x},${this.centre.y}) circle (${this.rayon});`}svgml(t){const e=Zt.create();if(e!=null){const s=e.circle(this.centre.x,this.centre.y,this.rayon*t);return e.destroy(),s}else return""}tikzml(t){let e="";const s=[];return this.color[1].length>1&&this.color[1]!=="black"&&s.push(`color=${this.color[1]}`),this.epaisseur!==1&&s.push(`line width = ${this.epaisseur}`),this.opacite!==1&&s.push(`opacity = ${this.opacite}`),s.push(`decorate,decoration={random steps , amplitude = ${t}pt}`),e="["+s.join(",")+"]",`\\draw${e} (${this.centre.x},${this.centre.y}) circle (${this.rayon});`}}function St(i,t,e="black",s="none",n="none",r=1,a=0,o=1,c=1.1,u=1,l=10){return new Se(i,t,e,s,n,r,a,o,c,u,l)}function cn(i,t,e="black",s="none",n="none",r=1,a=0,o=1,c=1.1,u=1,l=10){return new Se(i,A(i,t,2),e,s,n,r,a,o,c,u,l)}class zi extends V{rayons;couleurDeRemplissage;opaciteDeRemplissage;hachures;couleurDesHachures;epaisseurDesHachures;distanceDesHachures;angle;rayon;angleFin;azimut;pointDepart;centre;pointFinal;constructor(t,e,s,n=!1,r="none",a="black",o=.2,c="none",u=1,l=1,h=10){super(),this.pointDepart=t,this.centre=e,this.rayons=n,this.typeObjet="arc",this.color=z(a),this.couleurDeRemplissage=z(r),this.opaciteDeRemplissage=o,this.opacite=u??1,this.epaisseurDesHachures=l??1,this.distanceDesHachures=h??10,this.pointilles=0,this.epaisseur=1,this.couleurDesHachures=z(c),this.angle=s instanceof B?it(t,e,s):s;const f=[],d=[];for(let p=1;p<9;p++)f.push(P(t,e,p*this.angle/10).x),d.push(P(t,e,p*this.angle/10).y);this.rayon=A(e,t,2);const x=m(e.x+1,e.y);this.azimut=it(x,e,t),this.angleFin=this.azimut+this.angle;const v=on(this.angle);this.pointFinal=P(t,e,v),this.bordures=[Math.min(t.x,this.pointFinal.x,...f)-.1,Math.min(t.y,this.pointFinal.y,...d)-.1,Math.max(t.x,this.pointFinal.x,...f)+.1,Math.max(t.y,this.pointFinal.y,...d)+.1]}svg(t){let e,s;if(this.angle>180?(e=0,s=1):this.angle<-180?(s=1,e=1):(s=0,e=1-(this.angle>0?1:0)),this.rayons){switch(this.style="",this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.hachures!=null&&typeof this.hachures=="string"&&this.hachures!==""?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage=z("none")),Qt({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[0]??"black",couleurDeRemplissage:this.couleurDeRemplissage[0],opaciteDeRemplissage:this.opaciteDeRemplissage})+`<path d="M${this.pointDepart.xSVG(t)} ${this.pointDepart.ySVG(t)} A ${this.rayon*t} ${this.rayon*t} 0 ${s} ${e} ${this.pointFinal.xSVG(t)} ${this.pointFinal.ySVG(t)} L ${this.centre.xSVG(t)} ${this.centre.ySVG(t)} Z" stroke="${this.color[0]}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})"/>`):(this.couleurDeRemplissage[0]===""||this.couleurDeRemplissage[0]===void 0||this.couleurDeRemplissage[0]==="none"?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<path d="M${this.pointDepart.xSVG(t)} ${this.pointDepart.ySVG(t)} A ${this.rayon*t} ${this.rayon*t} 0 ${s} ${e} ${this.pointFinal.xSVG(t)} ${this.pointFinal.ySVG(t)} L ${this.centre.xSVG(t)} ${this.centre.ySVG(t)} Z" stroke="${this.color[0]}" ${this.style}/>`)}else{switch(this.style="",this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.couleurDeRemplissage[0]===""||this.couleurDeRemplissage[0]===void 0||this.couleurDeRemplissage[0]==="none"?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<path d="M${this.pointDepart.xSVG(t)} ${this.pointDepart.ySVG(t)} A ${this.rayon*t} ${this.rayon*t} 0 ${s} ${e} ${this.pointFinal.xSVG(t)} ${this.pointFinal.ySVG(t)}" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`}}tikz(){let t="";const e=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;case 5:e.push(" dashed ");break}this.opacite!==1&&e.push(`opacity = ${this.opacite}`),this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&e.push(`preaction={fill,color = ${this.couleurDeRemplissage[1]},opacity = ${this.opaciteDeRemplissage}}`),this.hachures!=null&&typeof this.hachures=="string"&&this.hachures!==""&&e.push(Qt({motif:this.hachures,id:String(this.id),distanceDesHachures:this.distanceDesHachures,couleurDesHachures:this.couleurDesHachures[1],couleurDeRemplissage:this.couleurDeRemplissage[1],opaciteDeRemplissage:this.opaciteDeRemplissage})),e.length>0&&(t="["+e.join(",")+"]");const s=A(this.centre,this.pointDepart,2);return this.rayons?`\\draw  ${t} (${this.pointFinal.x},${this.pointFinal.y}) -- (${this.centre.x},${this.centre.y}) -- (${this.pointDepart.x},${this.pointDepart.y}) arc (${this.azimut}:${this.angleFin}:${s}) ;`:`\\draw${t} (${this.pointDepart.x},${this.pointDepart.y}) arc (${this.azimut}:${this.angleFin}:${s}) ;`}svgml(t){const e=A(this.pointDepart,this.centre,2)*t*2,s=e,n=this.rayons,r=m(this.centre.x+1,this.centre.y),a=Et(it(this.pointDepart,this.centre,r)),o=a-Et(this.angle),c=Zt.create();if(c!=null){const u=c.arc(this.centre.xSVG(t),this.centre.ySVG(t),e,s,o>a?a:o,o>a?o:a,n);return c.destroy(),u}else return""}tikzml(t){let e="";const s=[];return this.color[1].length>1&&this.color[1]!=="black"&&s.push(`color=${this.color[1]}`),this.epaisseur!==1&&s.push(`line width = ${this.epaisseur}`),this.opacite!==1&&s.push(`opacity = ${this.opacite}`),s.push(`decorate,decoration={random steps , amplitude = ${t}pt}`),e="["+s.join(",")+"]",`\\draw${e} (${this.pointDepart.x},${this.pointDepart.y}) arc (${this.azimut}:${this.angleFin}:${D(A(this.centre,this.pointDepart,2),2)}) ;`}}function U(i,t,e,s=!1,n="none",r="black",a=.2,o="none"){return new zi(i,t,e,s,n,r,a,o)}function Qa(i,t,e,s=!1,n="none",r="black",a=.2,o="none"){let c;e<0?c=(e+180)/2:c=(e-180)/2;const u=ye(i,t),l=st(t,i),h=P(l,t,c),f=u.a*h.b-h.a*u.b,d=(u.b*h.c-h.b*u.c)/f,x=(h.a*u.c-u.a*h.c)/f,v=m(d,x);return new zi(i,v,e,s,n,r,a,o)}function It(i,t,e=20,s="gray",n=1.1,r=1,a=0){const o=P(t,i,-e/2),c=U(o,i,e,!1);return c.epaisseur=r,c.opacite=n,c.color=z(s),c.pointilles=a,c}const _=(i,t,e)=>{Object.defineProperty(i,t,{enumerable:!0,get:e,set:()=>{throw Error(`${t} est en lecture seule`)}})};function Ee(i){if(i==null)return window.notify("rationnalise est appelé avec une valeur undefined ou nulle",{x:i}),new w(0,1);if(i instanceof w)return i;if(i instanceof E){const t=i.toFraction(1e4);return new w(t[0].toNumber(),t[1].toNumber())}if(typeof i=="number"){const t=new E(i.toFixed(5)).toFraction(1e4);return new w(t[0].toNumber(),t[1].toNumber())}return window.notify("rationnalise est appelé avec un nombre dont le format est inconnu :",{x:i}),i}function un(i,t){let e,s;if(t==null)if(i instanceof E)[e,s]=i.toFraction(1e4).map(r=>r.toNumber());else{const n=Ee(i);e=n.num,s=n.den}else e=Number(i),s=Number(t);if(!isNaN(e)&&!isNaN(s)){let n=Math.max(Z(e),Z(s));if(n>9){const r=D(e/s,12);if(Z(r)<9)e=r,s=1,n=oe(Z(e),Z(s));else{const a=D(s/e,12);if(Z(a)<9)s=a,e=1,n=oe(Z(e),Z(s));else{const o=D(1/e,12),c=D(1/s,12);if(n=oe(Z(o),Z(c)),n<13)s=o,e=c;else{let l=1,h=s,f=c;for(;Ue(Z(h),Z(f))>9&&l<2e3;)l+=l%5===3?4:2,h=D(s*l,10),f=D(c*l,10);let d=1,x=e,v=o;for(;Ue(Z(x),Z(v))>9&&d<2e3;)d+=d%5===3?4:2,x=D(e*d,10),v=D(o*d,10);Z(x)<10?Z(h)<10?(e=D(x*l,10),s=D(h*d,10)):(e=D(x*f,10),s=l*d):Z(h)<10?(s=D(h*v,10),e=l*d):(s=D(v*l,10),e=D(f*d,10)),n=oe(Z(e),Z(s))}}}}return s=bt(s*Math.pow(10,n)),e=bt(e*Math.pow(10,n)),[e,s]}else return window.notify("Fraction Etendue : le constructeur a reçu des valeurs impossibles à mettre sous la forme d'une fraction",{n:i,d:t}),[NaN,NaN]}class w{num;den;numIrred;denIrred;n;d;s;type;signe;sign;signeString;pourcentage;texFraction;texFractionSimplifiee;texFSD;texParentheses;texFractionSR;texFractionSignee;texFractionSaufUn;valeurDecimale;texFractionSaufUnSignee;texFSP;ecritureAlgebrique;ecritureParentheseSiNegatif;estEntiere;estParfaite;estIrreductible;constructor(t,e){const[s,n]=un(t,e);if(isNaN(s)||isNaN(n))throw Error(`Fraction Etendue les données ne permettent pas de définir une fraction : n=${t}, d=${e}`);const r=Math.abs(s)===1&&Math.abs(n)===1?1:Ht(Math.abs(s),Math.abs(n)),a=s*n;this.s=a===0?0:a<0?-1:1;const o=this.s*Math.abs(s/r),c=Math.abs(n/r);this.num=s,this.den=n,this.n=Math.abs(s/r),this.d=Math.abs(n/r);let u;_(this,"sign",()=>(u||(u=this.s),u));let l;_(this,"signe",()=>(l||(l=this.s),l)),this.type="FractionEtendue",this.numIrred=o,this.denIrred=c;let h;_(this,"pourcentage",()=>(h||(h=D(this.s*this.n*100/this.d,2)),h));let f;_(this,"signeString",()=>(f||(f=this.s===-1?"-":"+"),f));let d;_(this,"texFraction",()=>(d||(d=this.s===0?"0":n===1?`${F(s,0)}`:`\\dfrac{${F(s,0)}}{${F(n,0)}}`),d));let x;_(this,"texFractionSR",()=>(x||(x=`\\dfrac{${Qe(this.num)}}{${Qe(this.den)}}`),x));let v;_(this,"texFSD",()=>(v||(v=this.s===0?"0":this.s===-1?Math.abs(n)===1?"-"+F(Math.abs(s),0):`-\\dfrac{${F(Math.abs(s),0)}}{${F(Math.abs(n),0)}}`:Math.abs(n)===1?F(Math.abs(s),0):`\\dfrac{${F(Math.abs(s),0)}}{${F(Math.abs(n),0)}}`),v));let p;_(this,"texFractionSignee",()=>(p||(p=this.s===-1?this.texFSD:"+"+this.texFSD),p));let $;_(this,"valeurDecimale",()=>($||($=Number((this.num/this.den).toFixed(6))),$));let g;_(this,"texFractionSaufUn",()=>(g||(g=this.valeurDecimale===-1?"-":this.valeurDecimale===1?"":this.texFSD),g));let y;_(this,"texFractionSaufUnSignee",()=>(y||(y=this.valeurDecimale===-1?"-":this.valeurDecimale===1?"+":this.texFractionSignee),y));let q;_(this,"texFSP",()=>(q||(q=this.s===0?"0":this.s>0?this.texFSD:"\\left("+this.texFSD+"\\right)"),q));let k;_(this,"texParentheses",()=>(k||(k=this.s===0?"0":n===1&&this.s===1?this.texFSD:"\\left("+this.texFSD+"\\right)"),k));let M;_(this,"texFractionSimplifiee",()=>(M||(M=this.s===0?"0":this.denIrred===1?`${this.s===-1?"-":""}${F(Math.abs(o),0)}`:`${this.s===-1?"-":""}\\dfrac{${F(Math.abs(o),0)}}{${F(Math.abs(c),0)}}`),M));let S;_(this,"ecritureAlgebrique",()=>(S||(S=this.s===0?"":this.s===1?"+"+this.texFSD:this.texFSD),S));let O;_(this,"ecritureParentheseSiNegatif",()=>(O||(O=this.s===0?"0":this.s===1?this.texFSD:"\\left("+this.texFSD+"\\right)"),O));let ot;_(this,"estEntiere",()=>(ot||(ot=this.d===1),ot));let ht;_(this,"estParfaite",()=>(ht||(ht=Number.isInteger(Math.sqrt(this.n))&&Number.isInteger(Math.sqrt(this.d))),ht));let nt;_(this,"estIrreductible",()=>(nt||(nt=Ht(Math.abs(this.num),Math.abs(this.den))===1&&this.den!==1),nt))}toLatex(){return this.texFSD.replace("\\frac","\\dfrac")}toNumber(){return this.num/this.den}toString(){return window.notify("Pour obtenir du Latex avec une FractionEtendue, il faut utiliser sa propriété texFraction !",{numerateur:this.num,denominateur:this.den}),this.texFraction}valueOf(){return this.toNumber()}sommeFractions(...t){let e=new w(this.num,this.den);if(e!=null)for(const s of t)e=e.sommeFraction(s);return e==null?(window.notify("il se passe quelque chose de travers dans sommeFractions() avec les fractions passées",{fractions:t}),this):e.simplifie()}simplifie(){return new w(yt(this.num)*this.signe/Ht(yt(this.num),yt(this.den)),yt(this.den)/Ht(yt(this.num),yt(this.den)))}valeurAbsolue(){return new w(yt(this.num),yt(this.den))}oppose(){return new w(-1*this.num,this.den)}reduire(t){const e=fe(this.num,t),s=fe(this.den,t);return new w(e,s)}isEqual(t){return t instanceof w?t.differenceFraction(this).simplifie().num===0:new w(t,1).differenceFraction(this).simplifie().num===0}differenceFraction(t){return t instanceof w||(t=new w(t,1)),this.sommeFraction(t.oppose())}multiplieEntier(t){return Number.isInteger(t)?new w(this.num*t,this.den):(window.notify(`multiplieEntier() : l'argument n'est pas entier : n=${t}... j'arrondis !`,{n:Math.round(t)}),new w(this.num*Math.round(t),this.den))}entierDivise(t){return Number.isInteger(t)?new w(this.num,t*this.den):(window.notify(`entierDivise() : l'argument n'est pas entier : n=${t}... j'arrondis !`,{n:Math.round(t)}),new w(this.num,this.den*Math.round(t)))}ajouteEntier(t){return Number.isInteger(t)?new w(this.num+t*this.den,this.den):(window.notify(`ajouteEntier() : l'argument n'est pas entier : n=${t}... j'arrondis !`,{n:Math.round(t)}),new w(this.num+Math.round(t)*this.den,this.den))}entierMoinsFraction(t){return Number.isInteger(t)?new w(t*this.den-this.num,this.den):(window.notify(`entierMoinsFraction() : l'argument n'est pas entier : n=${t}... j'arrondis !`,{n:Math.round(t)}),new w(Math.round(t)*this.den-this.num,this.den))}superieurLarge(t){return t instanceof w||(t=new w(t,1)),this.num*t.den>=t.num*this.den}superieurstrict(t){return t instanceof w||(t=new w(t,1)),this.num*t.den>t.num*this.den}inferieurstrict(t){return t instanceof w||(t=new w(t,1)),this.differenceFraction(t).valeurDecimale<0}inferieurlarge(t){return t instanceof w||(t=new w(t,1)),this.num*t.den<=t.num*this.den}estUneSimplification(t){if(t.num==null||t.den==null)throw Error(`estUneSimplification(f2) : f2 n'est pas une FractionEtendue ! f2=${JSON.stringify(t)}`);return this.isEqual(t)&&yt(this.num)<yt(t.num)}sommeFraction(t){return t instanceof w?this.den===t.den?new w(this.num+t.num,t.den):[this.den,t.den].indexOf(At(this.den,t.den))!==-1?this.den===At(this.den,t.den)?new w(this.num+t.num*bt(this.den/t.den),this.den):new w(t.num+this.num*bt(t.den/this.den),t.den):new w(this.num*bt(At(this.den,t.den)/this.den)+t.num*bt(At(this.den,t.den)/t.den),At(this.den,t.den)):(window.notify(`FractionEtendue.sommeFraction(fractionAAjouter) a été appelée avec autre chose qu'une  FractionMathjs  étendue, alors que c'est obligatoire !
Voilci l'argument passé : ${t}... je retourne la fraction de départ`,{argument:t}),this)}texSommeFraction(t,e=!0){if(t instanceof w){const s=new w(t.num,t.den);s.den<0&&(s.den=-s.den,s.num=-s.num);const n=new w(this.num,this.den);this.den<0&&(n.den=-n.den,n.num=-n.num);let r=`${n.texFraction}+${s.texFraction}=`;const a=gi(n.den,s.den),o=a/n.den,c=a/s.den;if((o!==1||c!==1)&&(o!==1?(r+=`\\dfrac{${n.num}\\times ${o}}{${n.den}\\times ${o}}+`,r+=c===1?`${s.texFraction}=`:`\\dfrac{${String(s.num)}\\times ${String(c)}}{${String(s.den)}\\times ${String(c)}}=`):r+=`${n.texFraction}+\\dfrac{${String(s.num)}\\times ${String(c)}}{${String(s.den)}\\times ${String(c)}}=`,o!==1?(r+=`\\dfrac{${String(n.num*o)}}{${String(n.den*o)}}+`,r+=c===1?`${s.texFraction}=`:`\\dfrac{${String(s.num*c)}}{${String(s.den*c)}}=`):r+=`${n.texFraction}+\\dfrac{${String(s.num*c)}}{${String(s.den*c)}}=`),r+=`\\dfrac{${String(n.num*o)}${xt(s.num*c)}}{${String(a)}}=`,r+=`\\dfrac{${String(n.num*o+s.num*c)}}{${String(a)}}`,!e)return r;const u=new w(n.num*o+s.num*c,a);return u.estIrreductible||(r+=`=${u.texFractionSimplifiee}`),r}else return window.notify("texSommeFraction : pour l'instant on n'ajoute que une fractionEtendue et rien d'autre",{fraction:JSON.stringify(t)}),""}produitFraction(t){return t instanceof w||(t=new w(t,1)),this.signe*t.signe===1?new w(Math.abs(this.num*t.num),Math.abs(this.den*t.den)):new w(-Math.abs(this.num*t.num),Math.abs(this.den*t.den))}produitFractions(...t){let e=new w(this.num,this.den);for(const s of t)e=e.produitFraction(s);return e.simplifie()}texProduitFraction(t,e="none"){return this.estEntiere?`${this.texFraction}\\times ${t.texFraction}=\\dfrac{${`${this.simplifie().num}\\times ${H(t.num)}`}}{${H(t.den)}}${e==="none"||this.produitFraction(t).estIrreductible?"=\\dfrac{"+this.num*t.num+"}{"+this.den*t.den+"}":this.produitFraction(t).texSimplificationAvecEtapes(e)}`:`${this.texFraction}\\times ${t.texFraction}=\\dfrac{${this.num}\\times ${H(t.num)}}{${this.den} \\times' ${H(t.den)}}${e==="none"||this.produitFraction(t).estIrreductible?"=\\dfrac{"+this.num*t.num+"}{"+this.den*t.den+"}":`${this.den!==t.num&&t.den!==this.num?"=\\dfrac{"+(W(this.num)||"1")+"\\times "+(W(t.num)||"1")+"}{"+(W(this.den)||"1")+"\\times "+(W(t.den)||"1")+"}"+this.produitFraction(t).texSimplificationAvecEtapes(e):`${this.den===t.num?"=\\dfrac{"+this.num+"}{"+t.den+"}"+new w(this.num,t.den).texSimplificationAvecEtapes(e):"=\\dfrac{"+t.num+"}{"+this.den+"}"+new w(t.num,this.den).texSimplificationAvecEtapes(e)}`}`}`}texDiviseFraction(t,e="none",s="/"){const n="\\phantom{\\dfrac{(_(^(}{(_(^(}}",r="\\phantom{(_(^(}";return this.estEntiere?t.inverse().estEntiere&&t.num===1?s==="/"?`\\dfrac{${r+this.texFraction+r}}{${(t.estEntiere?r:n)+t.texFraction+(t.estEntiere?r:n)}}=${this.simplifie().texFSD}\\times ${t.inverse().simplifie().texFSP}=${this.simplifie().num*t.inverse().simplifie().num}`:`${this.simplifie().texFraction}\\div${t.texFraction}=${this.simplifie().texFSD}\\times ${t.inverse().simplifie().texFSP}=${this.simplifie().num*t.inverse().simplifie().num}`:s==="/"?`\\dfrac{${r+this.texFraction+r}}{${(t.estEntiere?r:n)+t.texFraction+(t.estEntiere?r:n)}}=${this.texFractionSimplifiee}\\times ${t.inverse().texFraction}=\\dfrac{${this.texFractionSimplifiee} \\times ${H(t.den)}}{${H(t.num)}}${e==="none"||this.diviseFraction(t).estIrreductible?`=\\dfrac{${this.simplifie().num*t.den}}{${t.num}}`:`=\\dfrac{${W(this.num)}\\times ${W(t.den)}}{${W(this.den)}\\times ${W(t.num)}}${this.diviseFraction(t).texSimplificationAvecEtapes(e)}`}`:`${this.texFraction}\\div${t.texFraction}=${this.texFractionSimplifiee}\\times ${t.inverse().texFraction}=\\dfrac{${this.texFractionSimplifiee+"\\times "+H(t.den)}}{${H(t.num)}}${e==="none"||this.diviseFraction(t).estIrreductible?`=\\dfrac{${this.simplifie().num*t.den}}{${t.num}}`:`=\\dfrac{${W(this.num)} \\times ${W(t.den)}}{${W(this.den)} \\times ${W(t.num)}}${this.diviseFraction(t).texSimplificationAvecEtapes(e)}`}`:t.inverse().estEntiere&&t.num===1?s==="/"?`\\dfrac{${n+this.texFraction+n}}{${(t.estEntiere?r:n)+t.texFraction+(t.estEntiere?r:n)}}=${this.texFraction}\\times ${t.inverse().simplifie().texFSP}=\\dfrac{${this.num+"\\times "+t.inverse().simplifie().texFSP}}{${this.den}}
      ${e==="none"||this.diviseFraction(t).estIrreductible?"=\\dfrac{"+this.num*t.den+"}{"+this.den*t.num+"}":"=\\dfrac{"+W(this.num)+"\\times "+W(t.den)+"}{"+W(this.den)+"}"+this.diviseFraction(t).texSimplificationAvecEtapes(e)}`:`${this.texFraction}\\div${t.texFraction}=${this.texFraction}\\times ${t.inverse().texFractionSimplifiee}=\\dfrac{${this.num+"\\times "+t.inverse().texFractionSimplifiee}}{${this.den}}${e==="none"||this.diviseFraction(t).estIrreductible?`=\\dfrac{${this.num*t.den}}{${this.den*t.num}}`:`=\\dfrac{${W(this.num)}\\times ${W(t.den)}}{${W(this.den)}}${this.diviseFraction(t).texSimplificationAvecEtapes(e)}`}`:s==="/"?`\\dfrac{${n+this.texFraction+n}}{${(t.estEntiere?r:n)+t.texFraction+(t.estEntiere?r:n)}}=${this.texFraction}\\times ${t.inverse().texFraction}=\\dfrac{${this.num+"\\times "+H(t.den)}}{${this.den+"\\times "+H(t.num)}}${e==="none"||this.diviseFraction(t).estIrreductible?`=\\dfrac{${this.num*t.den}}{${this.den*t.num}}`:`=\\dfrac{${W(this.num)}\\times ${W(t.den)}}{${W(this.den)}\\times ${W(t.num)}}${this.diviseFraction(t).texSimplificationAvecEtapes(e)}`}`:`${this.texFraction}\\div${t.texFraction}=${this.texFraction}\\times ${t.inverse().texFraction}=\\dfrac{${this.num+"\\times "+t.den}}{${this.den+"\\times "+t.num}}${e==="none"||this.diviseFraction(t).estIrreductible?`=\\dfrac{${this.num*t.den}}{${this.den*t.num}}`:`=\\dfrac{${W(this.num)}\\times ${W(t.den)}}{${W(this.den)}\\times ${W(t.num)}}${this.diviseFraction(t).texSimplificationAvecEtapes(e)}`}`}puissanceFraction(t){return Number.isInteger(t)?new w(this.num**t,this.den**t):(window.notify("puissanceFraction() l'argument n'est pas un entier j'arrondis !",{argument:t}),new w(this.num**Math.round(t),this.den**Math.round(t)))}inverse(){if(this.num===0)throw Error(`Division par 0 dans inverse() : ${JSON.stringify(this)}`);return new w(this.den,this.num)}diviseFraction(t){return t instanceof w?this.produitFraction(t.inverse()):(window.notify("FractionEtendue.diviseFraction() : l'argument n'est pas une fraction",{f2:t}),typeof t=="number"?this.multiplieEntier(1/t):(window.notify("FractionEtendue.diviseFraction() : l'argument n'est pas un nombre, je retourne la fraction de départ.",{f2:t}),this))}diviseEntier(t){return Number.isInteger(t)?new w(t*this.den,this.num).simplifie():(window.notify("diviseEntier() : l'argument n'est pas un entier, j'arrondis",{n:t}),new w(Math.round(t)*this.den,this.num).simplifie())}texQuotientFraction(t){if(!(t instanceof w))if(window.notify("texQuotientFraction() : l'argument n'est pas une fraction",{f2:t}),typeof t=="number")t=new w(t,1);else return window.notify("texQuotientFraction() : l'argument n'est pas un nombre, je retourne la fraction de départ.",{f2:t}),this.texFraction;return`${this.texFraction}\\div ${t.texFraction}=${this.texFraction}\\times ${t.inverse().texFraction}=\\dfrac{${this.num+"\\times"+t.den}}{${this.den+"\\times"+t.num}}=\\dfrac{${this.num*t.den}}{${this.den*t.num}}`}texSimplificationAvecEtapes(t=!1,e=""){if(this.isEqual(0)||this.estIrreductible&&this.num>0&&this.den>0)return"";if(this.estIrreductible&&this.num*this.den<0)return e===""?`=${this.texFSD}`:`=${et(this.texFSD,e)}`;if(t){const s=this.sign===-1?"-":"",n=Math.abs(this.num),r=Math.abs(this.den),a=Gt(n),o=Gt(r);let c="=";const u=[],l=[];a.forEach(function(p){u.push([p,!0])}),o.forEach(function(p){l.push([p,!0])});for(let v=0;v<o.length;){for(let p=0;p<=a.length;){if(o[v]===a[p]){l[v]=[o[v],!1],u[p]=[a[p],!1],a[p]=1,o[v]=1;break}p++}v++}let h=1,f=1;for(const v of a)h=h*v;for(const v of o)f=f*v;let d="",x="";for(const v in u)u[v][1]===!0?d+=u[v][0]+"\\times":d+="\\cancel{"+u[v][0]+"}\\times";d=d.substring(0,d.length-6);for(const v in l)l[v][1]===!0?x+=l[v][0]+"\\times":x+="\\cancel{"+l[v][0]+"}\\times";return x=x.substring(0,x.length-6),c+=`${s}\\dfrac{${d}}{${x}}`,c+=e!==""?`=${et(`${s}${new w(h,f).simplifie().texFraction}`,e)}`:`=${s}${new w(h,f).simplifie().texFraction}`,c}else{const s=this.sign===-1?"-":"",n=Math.abs(this.num),r=Math.abs(this.den),a=Ht(n,r);if(a!==1){const o=`=${s}\\dfrac{${n/a}${et("\\times"+H(a),"#2563a5")} }{${r/a}${et("\\times"+H(a),"#2563a5")}}=`;let c;return Math.abs(r/a)!==1?c=`${s}\\dfrac{${Math.abs(n/a)}}{${Math.abs(r/a)}}`:c=`${s}${Math.abs(n/a)}`,e!==""&&(c=et(c,e)),o+c}else{let o;return R(Math.abs(r/a),1)?o=`=${s}${Math.abs(n/a)}`:o=`=${s}\\dfrac{${Math.abs(n/a)}}{${Math.abs(r/a)}}`,e!==""&&(o=et(o,e)),o}}}fractionDecimale(){const t=Math.abs(this.simplifie().den),e=Math.abs(this.simplifie().num),s=this.simplifie().signe,n=Gt(t);let r=0,a=0;for(const o of n)if(o===2)r++;else if(o===5)a++;else return window.notify("FractionEtendue.valeurDecimale :  FractionMathjs  non décimale",{fraction:this}),this;return a===r?new w(e*s,t):a>r?new w(s*e*2**(a-r),t*2**(a-r)):new w(s*e*5**(r-a),t*5**(r-a))}texRacineCarree(t=!1){if(this.num===0)return"0";{if(this.estParfaite){const o=this.racineCarree();return o?o.texFraction:`\\sqrt{${this.texFraction}}`}if(this.signe===-1)return"Not a real number !";let e=Ft(Math.abs(this.den)),s,n;this.estEntiere?(s=Ft(Math.abs(this.num)),s[0]!==1?n=t?`\\sqrt{${Math.abs(this.num)}}=`:"":n=""):n=t?`\\sqrt{\\dfrac{${this.num}}{${this.den}}}=`:"",e[1]!==1?(this.estEntiere||(n+=t?`\\sqrt{\\dfrac{${Math.abs(this.num)}\\times ${e[1]}}{${Math.abs(this.den)}\\times ${e[1]}}}=`:"",n+=t?`\\sqrt{\\dfrac{${Math.abs(this.num*e[1])}}{${Math.abs(this.den*e[1])}}}=`:""),s=Ft(Math.abs(this.num*e[1])),e=Ft(Math.abs(this.den*e[1]))):s=Ft(Math.abs(this.num));const r=new w(s[0],e[0]).simplifie(),a=new w(s[1],e[1]).simplifie();return t&&r.valeurDecimale!==1&&(r.denIrred===1?(n+=t?`\\sqrt{${s[0]}^2\\times${s[1]}}=`:"",n+=t?`${s[0]}${s[1]!==1?"\\sqrt{"+s[1]+"}":"}"}`:""):s[0]!==1?(n+=t?`\\sqrt{\\dfrac{${s[0]}^2${s[1]!==1?"\\times "+s[1]:""}}{${e[0]}^2${e[1]!==1?"\\times"+e[1]:""}}}=`:"",n+=t?`\\dfrac{${s[0]}${s[1]!==1?"\\times\\sqrt{"+s[1]+"}":""}}{${e[0]}${e[1]!==1?"\\times\\sqrt{"+e[1]+"}":""}}=`:""):e[1]!==1?n+=t?`\\sqrt{\\dfrac{${s[1]}}{${e[0]}^2\\times ${e[1]}}}=`:"":n+=t?`\\sqrt{\\dfrac{${s[1]}}{${e[0]}^2}}=`:""),D(s[1]/e[1],6)===1?n+r.texFraction:r.numIrred===1&&r.denIrred!==1?a.denIrred===1?r.valeurDecimale===1?n:n+`\\dfrac{\\sqrt{${a.numIrred}}}{${r.denIrred}}`:(r.valeurDecimale===1?n:n+r.texFraction)+`\\sqrt{${a.toLatex()}}`:(r.valeurDecimale===1?n:n+r.texFraction)+`\\sqrt{${a.toLatex()}}`}}racineCarree(){if(this.isEqual(0))return new w(0,1);const t=Ft(Math.abs(this.num)),e=Ft(Math.abs(this.den)),s=new w(t[0],e[0]).simplifie();return new w(t[1],e[1]).simplifie().valeurDecimale!==1||this.signe===-1?!1:s}representationIrred(t,e,s,n=0,r="gateau",a="gray",o=0,c=1,u=1,l=""){let h,f;const d=[],x=Bt(this.numIrred,this.denIrred);h=this.numIrred;const v=function(p,$,g="black",y=1){const q=m(p,$+.2,""),k=m(p,$-.2,""),M=N(q,k,g);return M.epaisseur=y,M};if(r==="gateau"){for(f=0;f<x;f++){const p=m(t+f*2*(s+.5),e),$=St(p,s);d.push($);for(let y=0;y<this.denIrred;y++){const q=N(p,P(m(t+s+f*2*(s+.5),e),p,90-y*360/this.denIrred));d.push(q)}let g=P(m(t+s+f*2*(s+.5),e),p,90-n*360/this.denIrred);for(let y=0;y<Math.min(this.denIrred,h);y++){const q=U(g,p,-360/this.denIrred,!0,a);q.opacite=.3,g=P(g,p,-360/this.denIrred),d.push(q)}h-=this.denIrred}if(Math.abs(this.numIrred)%Math.abs(this.denIrred)!==0){const p=m(t+f*2*(s+.5),e),$=St(p,s);d.push($);for(let y=0;y<this.denIrred;y++){const q=N(p,P(m(t+s+f*2*(s+.5),e),p,90-y*360/this.denIrred));d.push(q)}let g=P(m(t+s+f*2*(s+.5),e),p,90-n*360/this.denIrred);for(let y=0;y<Math.min(this.denIrred,h);y++){const q=U(g,p,-360/this.denIrred,!0,a);q.opacite=.3,g=P(g,p,-360/this.denIrred),d.push(q)}}}else if(r==="segment"){for(f=0;f<x;f++){const y=m(t+f*s,e),q=L(y,I(s,0)),k=N(y,q);k.styleExtremites="-|",d.push(k);for(let S=0;S<this.denIrred;S++){const O=N(L(y,I(S*s/this.denIrred,0)),L(y,I((S+1)*s/this.denIrred,0)));O.styleExtremites="|-",d.push(O)}const M=N(y,m(y.x+Math.min(h,this.denIrred)*s/this.denIrred,y.y),a);M.opacite=.4,M.epaisseur=6,d.push(M),h-=this.denIrred}const p=m(t+f*s,e),$=L(p,I(s,0)),g=N(p,$);g.styleExtremites="-|",d.push(g);for(let y=0;y<this.denIrred;y++){const q=N(L(p,I(y*s/this.denIrred,0)),L(p,I((y+1)*s/this.denIrred,0)));q.styleExtremites="|-",d.push(q)}if(h>0){const y=N(p,m(p.x+Math.min(this.numIrred,this.denIrred)*s/this.denIrred,p.y),a);y.opacite=.4,y.epaisseur=6,d.push(y)}if(d.push(v(t,e)),typeof o=="number"&&typeof c=="number")for(f=0;f<=x+1;f++)d.push(Y(ie(o+f*(c-o),0),t+s*f,e-.6,0,"black",u,"milieu",!0,1));else o!=null&&d.push(Y(String(o),t,e-.6,0,"black",u,"milieu",!0,1)),c!=null&&d.push(Y(String(c),t+s,e-.6,0,"black",u,"milieu",!0,1)),l!=null&&d.push(Y(l,t+s*this.numIrred/this.denIrred,e-.6,0,"black",u,"milieu",!0,1))}else{let p;this.denIrred%6===0?p=6:this.denIrred%5===0?p=5:this.denIrred%4===0?p=4:this.denIrred%3===0?p=3:this.denIrred%2===0?p=2:p=1;const $=Math.max(s/p,1);for(f=0;f<x;f++){for(let g=0;g<p;g++)for(let y=0;y<this.denIrred/p;y++){const q=m(t+f*(p*$+1)+g*$,e+y*$),k=L(q,I($,0)),M=kt(q,k,"black");M.couleurDeRemplissage=z(a),M.opaciteDeRemplissage=.4,d.push(M)}h-=this.denIrred}if(h>0){for(let g=0;g<p;g++)for(let y=0;y<this.denIrred/p;y++){const q=m(t+x*(p*$+1)+g*$,e+y*$),k=L(q,I($,0)),M=kt(q,k,"black");d.push(M)}for(let g=0;g<h;g++){const y=m(t+x*(p*$+1)+g%p*$,e+Bt(g,p)*$),q=L(y,I($,0)),k=kt(y,q,"black");k.couleurDeRemplissage=z(a),k.opaciteDeRemplissage=.4,d.push(k)}}}return d}representation(t,e,s,n=0,r="gateau",a="gray",o=0,c=1,u=1,l=""){const h=[];let f,d;const x=Bt(Math.abs(this.num),Math.abs(this.den));f=Math.abs(this.num);const v=function(p,$,g="black",y=1){const q=m(p,$+.2),k=m(p,$-.2),M=N(q,k,g);return M.epaisseur=y,M};if(r==="gateau"){for(d=0;d<x;d++){const p=m(t+d*2*(s+.5),e),$=St(p,s);h.push($);for(let y=0;y<this.den;y++){const q=N(p,P(m(t+s+d*2*(s+.5),e),p,90-y*360/this.den));h.push(q)}let g=P(m(t+s+d*2*(s+.5),e),p,90-n*360/this.den);for(let y=0;y<Math.min(this.den,f);y++){const q=U(g,p,-360/this.den,!0,a);q.opacite=.3,g=P(g,p,-360/this.den),h.push(q)}f-=this.den}if(this.num%this.den!==0){const p=m(t+d*2*(s+.5),e),$=St(p,s);h.push($);for(let y=0;y<this.den;y++){const q=N(p,P(m(t+s+d*2*(s+.5),e),p,90-y*360/this.den));h.push(q)}let g=P(m(t+s+d*2*(s+.5),e),p,90-n*360/this.den);if(this.num%this.den!==0)for(let y=0;y<Math.min(this.den,f);y++){const q=U(g,p,-360/this.den,!0,a);q.opacite=.3,g=P(g,p,-360/this.den),h.push(q)}}}else if(r==="segment"){for(d=0;d<x;d++){const y=m(t+d*s,e),q=L(y,I(s,0)),k=N(y,q);k.styleExtremites="-|",h.push(k);for(let S=0;S<this.den;S++){const O=N(L(y,I(S*s/this.den,0)),L(y,I((S+1)*s/this.den,0)));O.styleExtremites="|-",h.push(O)}const M=N(y,m(y.x+Math.min(f,this.den)*s/this.den,y.y),a);M.opacite=.4,M.epaisseur=6,h.push(M),f-=this.den}const p=m(t+d*s,e),$=L(p,I(s,0)),g=N(p,$);g.styleExtremites="-|",h.push(g);for(let y=0;y<this.den;y++){const q=N(L(p,I(y*s/this.den,0)),L(p,I((y+1)*s/this.den,0)));q.styleExtremites="|-",h.push(q)}if(f>0){const y=N(p,m(p.x+Math.min(f,this.den)*s/this.den,p.y),a);y.opacite=.4,y.epaisseur=6,h.push(y)}if(h.push(v(t,e)),typeof o=="number"&&typeof c=="number")for(d=0;d<=x+1;d++)h.push(Y(String(o+d*(c-o)),t+s*d,e-.6,0,"black",u,"milieu",!0,1));else String(o)!==""&&h.push(Y(String(o),t,e-.6,0,"black",u,"milieu",!0,1)),String(c)!==""&&h.push(Y(String(c),t+s,e-.6,0,"black",u,"milieu",!0,1)),l!==""&&h.push(Y(l,t+s*this.num/this.den,e-.6,0,"black",u,"milieu",!0,1))}else{let p;this.den%6===0?p=6:this.den%5===0?p=5:this.den%4===0?p=4:this.den%3===0?p=3:this.den%2===0?p=2:p=1;const $=Math.max(s/p,1);for(d=0;d<x;d++){for(let g=0;g<p;g++)for(let y=0;y<this.den/p;y++){const q=m(t+d*(p*$+1)+g*$,e+y*$),k=L(q,I($,0)),M=kt(q,k,"black");M.couleurDeRemplissage=z(a),M.opaciteDeRemplissage=.4,h.push(M)}f-=this.den}if(f>0){for(let g=0;g<p;g++)for(let y=0;y<this.den/p;y++){const q=m(t+x*(p*$+1)+g*$,e+y*$),k=L(q,I($,0)),M=kt(q,k,"black");h.push(M)}for(let g=0;g<f;g++){const y=m(t+x*(p*$+1)+g%p*$,e+Bt(g,p)*$),q=L(y,I($,0)),k=kt(y,q,"black");k.couleurDeRemplissage=z(a),k.opaciteDeRemplissage=.4,h.push(k)}}}return h}static texArrayReponsesCoupleDeFractionsEgalesEtSimplifiees(t,e,s,n){return this.texArrayReponsesCoupleDeFractions(t,e,s,n,!0)}static texArrayReponsesFractionsEgalesEtSimplifiees(t,e){const s=this.listerFractionsSimplifiees(t,e),n=[];for(const r of s){const a=this.texArrayReponsesFraction(r[0],r[1]);for(const o of a)n.push(o)}return n}static texArrayReponsesCoupleDeFractions(t,e,s,n,r=!1){let a,o;r?(a=this.texArrayReponsesFractionsEgalesEtSimplifiees(t,e),o=this.texArrayReponsesFractionsEgalesEtSimplifiees(s,n)):(a=this.texArrayReponsesFraction(t,e),o=this.texArrayReponsesFraction(s,n));const c=[];for(const u of a)for(const l of o)c.push(u+";"+l,l+";"+u);return c}static texArrayReponsesFraction(t,e){const s=Math.abs(t),n=Math.abs(e);return n===1?[(t*e).toString()]:t*e>0?[`\\frac{${s}}{${n}}`,`\\frac{${-s}}{${-n}}`,`-\\frac{${-s}}{${n}}`,`-\\frac{${s}}{${-n}}`]:t*e<0?[`-\\frac{${s}}{${n}}`,`-\\frac{${-s}}{${-n}}`,`\\frac{${-s}}{${n}}`,`\\frac{${s}}{${-n}}`]:["0"]}static listerFractionsSimplifiees(t,e){if(pe(t,e)===1)return[[t,e]];{const s=[];for(const n of xe(pe(t,e)))s.push([t/n,e/n]);return s}}}const ln="Trop de chiffres",ae=1e-6;function Za(i){let t="";i.vspace&&(t=`\\vspace{${i.vspace} cm}
`),i.contenu=ee(i.consigne)+t+qe(i.introduction)+te($e(i.listeQuestions,i.spacing),i.nbCols),i.contenuCorrection=ee("")+qe(i.consigneCorrection)+te($e(i.listeCorrections,i.spacingCorr),i.nbColsCorr),i.contenuCorrection=i.contenuCorrection.replace(/\\\\\n*/g,`\\\\
`),i.contenu=i.contenu?.replace(/\\\\\n*/g,`\\\\
`)}function Ya(i,t=!0){const e=document.getElementById("supprimer_reference");e&&e instanceof HTMLInputElement&&e.checked===!0?i.contenu=ee(i.consigne)+qe(i.introduction)+te(Pe(i.listeQuestions,i.spacing,t),i.nbCols):i.contenu=ee(i.consigne)+`
\\marginpar{\\footnotesize ${i.id}}`+qe(i.introduction)+te(Pe(i.listeQuestions,i.spacing,t),i.nbCols),i.contenuCorrection=ee(i.consigneCorrection)+te(Pe(i.listeCorrections,i.spacingCorr,t),i.nbColsCorr)}function li(i,t,e,s){if(isNaN(i)||isNaN(t)||isNaN(s))throw Error(`Erreur dans contraindreValeur : un des paramètres de contrainte est NaN : ${["min : "+String(i)+" ",t,e,s].reduce((n,r,a)=>String(n)+["min",",max",",valeur",",defaut"][a]+" : "+String(r)+" ")}`);return isNaN(Number(e))?Number(s):Number(e)<Number(i)?Number(i):Number(e)>Number(t)?Number(t):Number(e)}function Ka(i){let{saisie:t,min:e=1,max:s,defaut:n,listeOfCase:r,shuffle:a=!0,nbQuestions:o,melange:c=0,enleveDoublons:u=!1,exclus:l}=i;if(l&&(l=l.filter(x=>x>=e&&x<=s)),s==null||isNaN(s)||s<e)throw Error("La fonction gestionnaireFormulaireTexte réclame un paramètre max de type number");if(n==null||isNaN(n)||n<e||n>s&&n!==c)throw Error(`La fonction gestionnaireFormulaireTexte réclame un paramètre defaut (ici, ${n}) compris entre min (ici, ${e}) et max (ici, ${s})`);let h,f;if(h=[],typeof t=="boolean"||t===""||t===null||t===void 0)h=[n];else if(typeof t=="number"||Number.isInteger(t))h=[li(Math.min(e,c??e),Math.max(s,c??s),t,n)];else{f=t.split("-");for(let x=0;x<f.length;x++)isNaN(parseInt(f[x]))||h.push(li(Math.min(e,c??e),Math.max(s,c??s),parseInt(f[x]),n))}h.length===0&&(h=[n]),l&&l.length>0&&(h=h.filter(x=>!l.includes(x))),h.length===0&&(h=[n]),c!=null&&dn(h,c)&&(h=xi(e,s,l)),o===0?o=h.length:o=Math.min(o,100),h=a?mn(h,o):gn(h,o);const d=Math.max(...h);if(u&&(h=xn(h)),Array.isArray(r)){if(r.length<d)throw Error("La liste de cas fournie ne contient pas assez de valeurs par rapport à max");return h.map(x=>r[x-e]).slice(0,o)}return h.slice(0,o)}function R(i,t,e=ae){return e=e===0?1e-10:e,i instanceof w&&(i=i.valeurDecimale),t instanceof w&&(t=t.valeurDecimale),Math.abs(i-t)<=e}function Kt(i,t,e=ae){return i-t>e||R(i,t,e)}function ue(i,t,e=ae){return t-i>e||R(i,t,e)}function be(i,t=ae){return typeof i!="number"&&window.notify("Erreur dans estEntier()",{a:i}),Math.abs(i-bt(i))<t}function Bt(i,t){return be(i)&&be(t)?Math.floor(i/t):Math.floor(Math.round(i)/Math.round(t))}function _a(i){return be(Math.sqrt(i))}function ut(i,t,e=[]){i instanceof E&&(i=i.toNumber()),t instanceof E&&(t=t.toNumber()),(!Number.isInteger(i)||!Number.isInteger(t))&&(window.notify("Les min et max de randint doivent être entiers",{min:i,max:t}),i=Math.floor(i),t=Math.ceil(t),t-i<1&&(t=i+1));const s=t-i;let n=Math.floor(Math.random()*(s+1));if(typeof e=="string"&&(e=e.split("")),typeof e=="number"&&(Number.isInteger(e)?e=[e]:(window.notify("Le nombre fourni à randint en exclusion n'est pas un entier",{listeAEviter:e}),e=[e])),Array.isArray(e)?e=e.map(Number).filter(r=>Math.round(r)===r):(window.notify("La liste d'exclusion de randint n'est pas d'un type pris en compte",{listeAEviter:e}),e=[]),e.length>0){let r=0;for(;e.includes(i+n)&&r<50;)n=Math.floor(Math.random()*(s+1)),r++;r===50&&window.notify(`Randint n'a pas pu trouver de valeur en dehors de la liste à éviter, c'est donc cette valeur qui a été choisie : ${i+n}`,{min:i,max:t,listeAEviter:e,rand:n})}return i+n}function to(...i){let t="";for(let e=0;e<i.length;e++)typeof i[e]=="number"?t+=Number(i[e]).toString():t+=i[0];return t}Object.fromEntries||Object.defineProperty(Object,"fromEntries",{value(i){if(!i||typeof i[Symbol.iterator]!="function")throw new Error("Object.fromEntries() requires a single iterable argument");const t={};for(const[e,s]of i)t[e]=s;return t}});function $e(i,t){let e="";if(i.length>1){e=`\\begin{enumerate}
`,t>1&&(e+=`\\begin{spacing}{${t}}
`);for(const s in i)e+="	\\item "+i[s]+`
`;t>1&&(e+=`\\end{spacing}
`),e+=`\\end{enumerate}
`}else t>1&&(e+=`\\begin{spacing}{${t}}
`),e+=i[0]+`
`,t>1&&(e+=`\\end{spacing}
`);return e.replace(/(<br *\/?>[\n\t ]*)+<br *\/?>/gim,`

\\medskip
`).replace(/<br>/g,`\\\\
`).replace(/€/g,"\\euro{}")}function Pe(i,t=0,e){let s="";t>1&&(s=`\\begin{spacing}{${t}}
`);for(const n in i)e?s+=`	${i[n]}\\\\
`:s+=`	${i[n]}
`;return t>1&&(s+="\\end{spacing}"),s.replace(/(<br *\/?>[\n\t ]*)+<br *\/?>/gim,`

\\medskip
`).replace(/<br>/g,`\\\\
`).replace(/€/g,"\\euro{}")}function qe(i){return typeof i=="string"&&i!==""?i.replace(/(<br *\/?>[\n\t ]*)+<br *\/?>/gim,`

\\medskip
`).replace(/<br>/g,`\\\\
`):""}function eo(i,t){return $e(i,t)}function io(i,t){return $e(i,t).replace("\\begin{enumerate}","\\begin{enumerate}[label={}]")}function ee(i){return(i!=null&&typeof i=="string"?i.replace(/<br>/g,"\\\\"):"")+`

`}function so(i){if(Array.isArray(i)&&i.filter(t=>typeof t=="string").length!==0){let t;{t="<div>";for(let e=0;e<i.length;e++)t+="<div> − "+i[e]+"</div>";t+="</div>"}return t}else window.notify("Fonction itemize appelée avec autre chose qu'un array de string",{tableauDeTexte:i})}function Ci(i,t){if(Array.isArray(i)||(i=[i]),Array.isArray(t)||(t=[t]),i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(!(Array.isArray(i[e])?Ci(i[e],t[e]):i[e]===t[e]))return!1;return!0}function hn(i,t){return typeof i!="object"||typeof t!="object"?!1:i===null?t===null:t===null||Object.keys(i).length!==Object.keys(t).length?!1:Object.entries(i).every(([e,s])=>Di(t[e],s))}function fn(i,t){return!Array.isArray(i)||!Array.isArray(t)||i.length!==t.length?!1:i.every((e,s)=>Di(e,t[s]))}function Di(i,t){return typeof i>"u"?typeof t>"u":i===null?t===null:Number.isNaN(i)?Number.isNaN(t):Array.isArray(i)?Array.isArray(t)?fn(i,t):!1:typeof i=="object"?i instanceof Date?t instanceof Date?i.valueOf()===t.valueOf():!1:i instanceof RegExp?t instanceof RegExp?i.source===t.source&&i.flags===t.flags:!1:hn(i,t):i===t}function no(i,t,e=10){let s=[],n=[];for(const r of i)for(const a of t)s.push([r,a]);for(n=Tt(s).slice(0),s=n.slice(0);s.length<e;)s=s.concat(Tt(n));return s}function Ne(i,t){for(let e=i.length-1;e>=0;e--)typeof t=="number"?R(i[e],t)&&i.splice(e,1):Array.isArray(i[e])&&Array.isArray(t)?Ci(i[e],t)&&i.splice(e,1):i[e]===t&&i.splice(e,1)}function dn(i,t){let e=0;return i.forEach(s=>s===t&&e++),e}function ro(i,t){const e=[];for(let s=0;s<i.length;s++)e.push(i[s]);for(let s=e.length-1;s>=0;s--)e[s]===t&&e.splice(s,1);return e}function ao(i,t){t>=0&&t<i.length&&i.splice(t,1)}function oo(i,t,e){return i.map(s=>s===t?e:s)}function co(i,t,e){if(t>e)throw new Error(`Impossible de générer ${t} valeurs uniques entre 1 et ${e}.`);if(i.length>=t)return i.slice(0,t);const s=new Set(i);let n=[];for(let o=1;o<=e;o++)s.has(o)||n.push(o);n=Tt(n);const r=t-i.length,a=n.slice(0,r);return[...i,...a]}function pn(i,t=[]){Array.isArray(t)||(t=[t]);const e=i.slice();for(let n=0;n<t.length;n++)Ne(e,t[n]);const s=Math.floor(Math.random()*e.length);return e[s]!=null||window.notify("choice a éliminé toutes les possibilités, il ne reste rien à choisir ! ",{liste:i,listeAEviter:t}),e[s]}function xn(i,t=ae){let e=0;for(;e<i.length-1;){let s=e+1;for(;s<=i.length-1;)R(i[e],i[s],t)?(i[e]=(i[e]+i[s])/2,i.splice(s,1)):s++;e++}return i}function Tt(i){let t=i.length,e,s;const n=[...i];for(;t!==0;)s=Math.floor(Math.random()*t),t-=1,e=n[t],n[t]=n[s],n[s]=e;return n}function uo(i){const t=i.split("");return Tt(t).join("")}function lo(i,t){let e=i.length,s,n,r;for(;e;)s=Math.floor(Math.random()*e),e-=1,n=i[e],r=t[e],i[e]=i[s],t[e]=t[s],i[s]=n,t[s]=r}function ho(i,t){let e=i.length,s,n,r;const a=i.slice(),o=t.slice();for(;e;)s=Math.floor(Math.random()*e),e-=1,n=a[e],r=o[e],a[e]=a[s],o[e]=o[s],a[s]=n,o[s]=r;return[a,o]}function fo(i,t,e){let s=i.length,n,r,a,o;for(;s;)n=Math.floor(Math.random()*s),s-=1,r=i[s],a=t[s],o=e[s],i[s]=i[n],t[s]=t[n],e[s]=e[n],i[n]=r,t[n]=a,e[n]=o}function mn(i,t){t===void 0&&(t=i.length),i.length===0&&window.notify("erreur dans CombinaisonListes : la liste à combiner est vide",{liste:i});let e=Tt(i);for(;e.length<t;)e=e.concat(Tt(i));return e}function po(i,t){i.length===0&&window.notify("erreur dans CombinaisonListes : la liste à combiner est vide",{liste:i});let e=[...i];for(;e.length<t;)e=e.concat(pn(i));return Tt(e)}function gn(i,t){i.length===0&&window.notify("erreur dans CombinaisonListes : la liste à combiner est vide",{liste:i});let e=[...i];for(;e.length<t;)e=e.concat(i);return e}function xo(i,t){const e=[...i];let s=i.length;const n=s-t;for(;s>n;){const r=Math.floor(Math.random()*s);s--,[e[s],e[r]]=[e[r],e[s]]}return e.slice(n)}function Fi(i){const t={};for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const s=i[e];Array.isArray(s)?t[e]=Re(s):s&&typeof s=="object"?t[e]=Fi(s):t[e]=s}return t}function Re(i){return i.map(t=>{if(Array.isArray(t))return Re(t);if(t&&typeof t=="object"){const e={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const n=t[s];Array.isArray(n)?e[s]=Re(n):n&&typeof n=="object"?e[s]=Fi(n):e[s]=n}return e}else return t})}function mo(i,t={}){const{premierNombre:e=void 0,dernierNombre:s=void 0,ordreCroissant:n=!1,ordreDecroissant:r=!1}=t,a=[];for(let o=0;o<i.length;o++)for(let c=0;c<i.length;c++){if(o===c)continue;const u=i[o],l=i[c];e!==void 0&&u!==e||s!==void 0&&l!==s||n&&u>=l||r&&u<=l||a.push([u,l])}for(let o=a.length-1;o>0;o--){const c=Math.floor(Math.random()*(o+1));[a[o],a[c]]=[a[c],a[o]]}return a}function et(i,t="#f15929"){return i instanceof w&&(i=i.texFraction),typeof i=="number"&&(i=String(i)),ve(t)&&(t=t[0]),`{\\color{${t}}\\boldsymbol{${i}}}`}function go(i,t="#f15929",e=1){i instanceof w&&(i=i.texFraction),typeof i=="number"&&(i=String(i)),Array.isArray(t)&&(t=t[0]);const s=u=>`\\color{${t}}\\boldsymbol{${u}}`,n=new Map([[1,-1],[10,-2],[100,-3],[1e3,-6]]),r=new Map([[.1,0],[.01,1],[.001,2]]),a=e<1,o=a?r.get(e):n.get(e);if(o===void 0)return i;if(i.includes("{,}")){const[u,l]=i.split("{,}");if(a){if(o>=l.length)return i;const h=l.slice(0,o),f=l.charAt(o),d=l.slice(o+1),x=s(f);return`\\boldsymbol{${u}{,}${h}}{${x}}\\boldsymbol{${d}}`}else{const h=u.length+o;if(h<0||h>=u.length)return i;const f=u.slice(0,h),d=u.charAt(h),x=u.slice(h+1),v=s(d);return`\\boldsymbol{${f}}{${v}}\\boldsymbol{${x}{,}${l}}`}}const c=i;if(a)return i;{const u=c.length+o;if(u<0||u>=c.length)return i;const l=c.slice(0,u),h=c.charAt(u),f=c.slice(u+1),d=s(h);return`\\boldsymbol{${l}}{${d}}\\boldsymbol{${f}}`}}function yo(i,t="#f15929"){return i=typeof i=="number"?String(i):i,ve(t)&&(t=t[0]),`{\\color{${t}} ${i}}`}function bo(i,t="#f15929"){return i=typeof i=="number"?String(i):i,ve(t)&&(t=t[0]),`<span style="color:${t};">${i}</span>`}function $o(i,t="#f15929"){return typeof i=="number"&&(i=String(i)),ve(t)&&(t=t[0]),`<span style="color:${t};font-weight: bold;">${i}</span>`}function qo(i){return`<span class="oblique-strike">${i}</span>`}function vo(i){return`<b>${i}</b>`}function wo(i){return`<i>${i}</i>`}function ko(i){return`<div style="display: inline-block; max-width: fit-content; border: 2px solid #444; border-radius: 4px; padding: 10px;">${i}</div>`}export{Nn as $,X as A,pt as B,Y as C,wt as D,ge as E,w as F,Pt as G,ue as H,z as I,be as J,Gn as K,Rs as L,U as M,za as N,V as O,Q as P,jn as Q,Tn as R,Wr as S,Ca as T,xi as U,ni as V,ct as W,Lr as X,H as Y,yo as Z,bo as _,pn as a,Qi as a$,kr as a0,R as a1,Wt as a2,I as a3,L as a4,gi as a5,or as a6,Jr as a7,vo as a8,Ee as a9,_a as aA,yi as aB,ia as aC,Xa as aD,A as aE,we as aF,$t as aG,na as aH,$s as aI,he as aJ,Qs as aK,Aa as aL,ca as aM,Ts as aN,Dt as aO,lr as aP,ma as aQ,it as aR,Ys as aS,uo as aT,ii as aU,Ie as aV,an as aW,ki as aX,Yi as aY,wi as aZ,fo as a_,G as aa,le as ab,wo as ac,de as ad,vt as ae,mn as af,St as ag,P as ah,j as ai,kt as aj,Ur as ak,at as al,li as am,_t as an,Ya as ao,Ft as ap,pr as aq,ho as ar,Pr as as,hr as at,Ki as au,Dr as av,lo as aw,ar as ax,En as ay,vr as az,ie as b,Ta as b$,Ir as b0,xe as b1,Vr as b2,Kt as b3,Vn as b4,xn as b5,C as b6,Ra as b7,ne as b8,jt as b9,ro as bA,Br as bB,so as bC,Ze as bD,Ye as bE,Nr as bF,dr as bG,Va as bH,In as bI,Xr as bJ,Gt as bK,Pn as bL,fs as bM,ra as bN,se as bO,Mn as bP,gt as bQ,qt as bR,je as bS,me as bT,ka as bU,si as bV,ft as bW,qs as bX,Fe as bY,ke as bZ,mt as b_,Ne as ba,Zr as bb,Et as bc,ye as bd,ai as be,lt as bf,Vt as bg,Bi as bh,bs as bi,Te as bj,kn as bk,K as bl,Fa as bm,fr as bn,xo as bo,zn as bp,Yr as bq,gn as br,Ar as bs,Ke as bt,Rn as bu,zr as bv,W as bw,Er as bx,Z as by,cr as bz,b as c,Ot as c$,fa as c0,Ln as c1,pa as c2,Fr as c3,ao as c4,po as c5,ze as c6,Ea as c7,mi as c8,Ga as c9,Yt as cA,Ls as cB,Mr as cC,Kr as cD,on as cE,Oa as cF,yr as cG,Gr as cH,cn as cI,Rr as cJ,Sr as cK,La as cL,Hs as cM,Ss as cN,Ia as cO,mr as cP,Gs as cQ,It as cR,Nt as cS,ba as cT,ja as cU,Bs as cV,ei as cW,va as cX,$a as cY,qa as cZ,Pi as c_,sa as ca,dn as cb,Qa as cc,Ps as cd,Cs as ce,Ua as cf,oi as cg,ga as ch,Ni as ci,Ba as cj,Wa as ck,jr as cl,Sn as cm,ti as cn,ha as co,Ma as cp,aa as cq,Pa as cr,ko as cs,Sa as ct,Ha as cu,Se as cv,Qt as cw,Cr as cx,br as cy,$r as cz,D as d,Yn as d$,Da as d0,xs as d1,oo as d2,xa as d3,Na as d4,ri as d5,Dn as d6,Bt as d7,no as d8,Tr as d9,ea as dA,eo as dB,io as dC,la as dD,qo as dE,Fn as dF,Ji as dG,Re as dH,wa as dI,B as dJ,ir as dK,er as dL,ln as dM,Bn as dN,Wn as dO,Hn as dP,Un as dQ,Jn as dR,On as dS,sr as dT,rr as dU,nr as dV,_n as dW,Kn as dX,Qn as dY,Xn as dZ,Zn as d_,Cn as da,qr as db,Or as dc,ua as dd,ya as de,Ja as df,oa as dg,xr as dh,mo as di,Hr as dj,Rt as dk,co as dl,fn as dm,to as dn,da as dp,Mi as dq,go as dr,ur as ds,gr as dt,Qr as du,_r as dv,Mt as dw,ns as dx,_i as dy,ta as dz,F as e,An as e0,tr as e1,xt as f,Ka as g,Li as h,wn as i,tt as j,N as k,Za as l,et as m,st as n,Ui as o,m as p,Os as q,ut as r,Xe as s,$o as t,wr as u,T as v,He as w,pe as x,Tt as y,Ce as z};

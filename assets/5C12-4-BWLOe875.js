import{evaluate as C}from"mathjs";import{e as N}from"./comparisonFunctions-B45ZZ3C7.js";import{h as S}from"./gestionInteractif-DujZpSu8.js";import{r as H}from"./questionMathLive-DdRvWqlN.js";import{g as J,a as g,r as v}from"./embellissements-BYV7mIDn.js";import{c as R,a as E}from"./outilsMathjs-4cmbq7B4.js";import{E as U}from"./Exercice-DtXhjCyI.js";import"./compute-engine.min.umd-BwAhpA7x.js";import"./index-BUDQz6-w.js";import"decimal.js";import"./Hms-u2AUyU1C.js";import"./ListeDeroulanteElement-CXmzV-cr.js";import"./tableauMathlive-xx-nDjq0.js";import"./canStore-DaSrd7sp.js";import"./generalStore-C3E9FHtR.js";import"seedrandom";import"katex";import"earcut";import"roughjs";import"./sizeTools-DfTC1Dgv.js";import"./time-DMC-jnVL.js";import"./exerciseMethods-CtbYPwln.js";import"crypto-js";import"./AjouteTableauMathlive-Bz24QHd3.js";const ge=!0,ve="mathLive",Ae="21/07/2024",$e="e2a95",ke="Mettre des parenth√®ses ou pas pour qu'une √©galit√© soit juste",de={"fr-fr":["5C12-4"],"fr-ch":["9NO6-6","10NO6-4"]},A={troisSignesToutPositif:[{expSP:"_a*_b_+c_",expAP:"_a*(b_+c)",test:(t,s,e)=>t*s+e!==t*(s+e)},{expSP:"_a+_b_*c_",expAP:"(a+_b)*c_",test:(t,s,e)=>t+s*e!==(t+s)*e},{expSP:"_a*_b_-c_",expAP:"_a*(b_-c)",test:(t,s,e)=>t*s-e!==t*(s-e)&&s>e},{expSP:"_a-_b_*c_",expAP:"(a-_b)*c_",test:(t,s,e)=>t-s*e!==(t-s)*e&&t>s*e}],troisSignesRelatifs:[{expSP:"_a*_b_+c_",expAP:"_a*(b_+c)",test:(t,s,e)=>t*s+e!==t*(s+e)},{expSP:"_a+_b_*c_",expAP:"(a+_b)*c_",test:(t,s,e)=>t+s*e!==(t+s)*e},{expSP:"_a*_b_-c_",expAP:"_a*(b_-c)",test:(t,s,e)=>t*s-e!==t*(s-e)},{expSP:"_a-_b_*c_",expAP:"(a-_b)*c_",test:(t,s,e)=>t-s*e!==(t-s)*e}],quatreSignesToutPositif:[{expSP:"_a+_b_*_c_+d_",expAP:"(a+_b)*(c_+d)",test:(t,s,e,i)=>(t+s)*(e+i)!==t+s*e+i&&(t+s)*(e+i)!==(t+s)*e+i&&(t+s)*(e+i)!==t+s*(e+i)},{expSP:"_a+_b_*_c_+d_",expAP:"_a+_b_*(c_+d)",test:(t,s,e,i)=>t+s*(e+i)!==t+s*e+i&&t+s*(e+i)!==(t+s)*(e+i)&&t+s*(e+i)!==(t+s)*e+i},{expSP:"_a+_b_*_c_+d_",expAP:"(a+_b)*_c_+d_",test:(t,s,e,i)=>(t+s)*e+i!==t+s*e+i&&(t+s)*e+i!==(t+s)*(e+i)&&(t+s)*e+i!==t+s*(e+i)},{expSP:"_a-_b_*_c_+d_",expAP:"(a-_b)*(c_+d)",test:(t,s,e,i)=>(t-s)*(e+i)!==t-s*e+i&&(t-s)*(e+i)!==(t-s)*e+i&&(t-s)*(e+i)!==t-s*(e+i)&&t>s*e},{expSP:"_a-_b_*_c_+d_",expAP:"_a-_b_*(c_+d)",test:(t,s,e,i)=>t-s*(e+i)!==t-s*e+i&&t-s*(e+i)!==(t-s)*(e+i)&&t-s*(e+i)!==(t-s)*e+i&&t>s*(e+i)},{expSP:"_a-_b_*_c_+d_",expAP:"(a-_b)*_c_+d_",test:(t,s,e,i)=>(t-s)*e+i!==t-s*e+i&&(t-s)*e+i!==(t-s)*(e+i)&&(t-s)*e+i!==t-s*(e+i)&&t>s*e}],quatreSignesRelatifs:[{expSP:"_a+_b_*_c_+d_",expAP:"(a+_b)*(c_+d)",test:(t,s,e,i)=>(t+s)*(e+i)!==t+s*e+i&&(t+s)*(e+i)!==(t+s)*e+i&&(t+s)*(e+i)!==t+s*(e+i)},{expSP:"_a+_b_*_c_+d_",expAP:"_a+_b_*(c_+d)",test:(t,s,e,i)=>t+s*(e+i)!==t+s*e+i&&t+s*(e+i)!==(t+s)*(e+i)&&t+s*(e+i)!==(t+s)*e+i},{expSP:"_a+_b_*_c_+d_",expAP:"(a+_b)*_c_+d_",test:(t,s,e,i)=>(t+s)*e+i!==t+s*e+i&&(t+s)*e+i!==(t+s)*(e+i)&&(t+s)*e+i!==t+s*(e+i)},{expSP:"_a-_b_*_c_+d_",expAP:"(a-_b)*(c_+d)",test:(t,s,e,i)=>(t-s)*(e+i)!==t-s*e+i&&(t-s)*(e+i)!==(t-s)*e+i&&(t-s)*(e+i)!==t-s*(e+i)},{expSP:"_a-_b_*_c_+d_",expAP:"_a-_b_*(c_+d)",test:(t,s,e,i)=>t-s*(e+i)!==t-s*e+i&&t-s*(e+i)!==(t-s)*(e+i)&&t-s*(e+i)!==(t-s)*e+i},{expSP:"_a-_b_*_c_+d_",expAP:"(a-_b)*_c_+d_",test:(t,s,e,i)=>(t-s)*e+i!==t-s*e+i&&(t-s)*e+i!==(t-s)*(e+i)&&(t-s)*e+i!==t-s*(e+i)}]};class ye extends U{constructor(){super(),this.nbQuestions=5,this.besoinFormulaireTexte=["Complexit√©",`Nombres s√©par√©s par des tirets :
1 : 2 op√©rations
2 : 3 op√©rations
3 M√©lange`],this.besoinFormulaire2CaseACocher=["Avec des nombres relatifs",!1],this.sup="3",this.sup2=!1,this.comment="L'exercice propose des expressions √† 3 ou 4 op√©randes avec possibilit√© d'avoir des calculs relatifs ou pas.<br>Les op√©randes sont inf√©rieures ou √©gales √† 10 en valeur absolue pour permettre le calcul mental. Une r√©ponse trop parenth√©s√©e est compt√©e fausse."}nouvelleVersion(){this.nbQuestions>1?this.consigne="Mettre des parenth√®ses si besoin dans les √©galit√©s suivantes afin que celles-ci soient justes.<br>":this.consigne="Mettre des parenth√®ses si besoin dans l'√©galit√© suivante afin que celle-ci soit juste.<br>";const s=J({saisie:this.sup,nbQuestions:this.nbQuestions,min:1,max:3,melange:3,defaut:3});for(let e=0,i=0;e<this.nbQuestions&&i<50;){const c=[];s[e]===1?this.sup2?c.push(...A.troisSignesRelatifs):c.push(...A.troisSignesToutPositif):this.sup2?c.push(...A.quatreSignesRelatifs):c.push(...A.quatreSignesToutPositif);const a=g(c);let o;do o={a:(this.sup2?g([-1,1]):1)*v(1,10),b:v(1,10),c:(this.sup2?g([-1,1]):1)*v(1,10),d:v(1,10)};while(!a.test(o.a,o.b,o.c,o.d));const O=Number(o.a),b=Number(o.b),D=Number(o.c),F=Number(o.d),x=g([!0,!0,!0,!1]),L=(x?C(a.expAP.replaceAll("_",""),o):C(a.expSP.replaceAll("_",""),o))??0;let T="",I=1,_="";for(let r=0;r<a.expSP.length;r++){const n=a.expSP[r];if((n==="+"||n==="-")&&(_+=`~${n}`),n==="*"&&(_+="~\\times"),["a","b","c","d"].includes(n)){const l=Number(o[n]);l<0?_+=`~(${l})`:_+=`~${l}`}n==="_"&&(_+=`~%{champ${I++}}`)}_+=`~=~${L}`,T+=H(this,e,_);const $={a:o.a,b:o.b,c:o.c,d:o.d},V=`${(x?R(E(a.expAP.replaceAll("_",""),$),{removeImplicit:!1,suppr1:!1,suppr0:!1,supprPlusMoins:!1,comment:!0,commentStep:!0}):R(E(a.expSP.replaceAll("_",""),$),{removeImplicit:!1,suppr1:!1,suppr0:!1,supprPlusMoins:!1,comment:!0,commentStep:!0})).texteCorr}`,f=(r,n,l)=>{let u="";const P=document.querySelector(`#champTexteEx${r.numeroExercice}Q${n}`),j=N.parse(String(L)),k=P.getPrompts().map(p=>P.getPromptValue(p).replace("\\left(","(").replace("\\right)",")").replace("\\lparen","(").replace("\\rparen",")"));let d="";for(let p=0,B=0;p<a.expSP.length;p++){const M=a.expSP.charAt(p);M==="_"?d+=k[B++]:d+=M}const q=E(d,$),Q=N.parse(q),m=j.isEqual(Q);let h=!0;for(let p=0;p<l.length;p++)l[p][1].value!==k[p]&&(h=!1);m&&!h?u="L'√©galit√© est respect√©e, mais il y a des parenth√®ses inutiles.":m?u="L`√©galit√© est respect√©e.":u=`L'√©galit√© n'est pas respect√©e : en effet, $${q.replace("*","\\times ")}=${Q.evaluate().numericValue}$`;for(let p=0;p<l.length;p++)l[p][1].value===k[p]?P.setPromptState(`champ${p+1}`,"correct",!0):P.setPromptState(`champ${p+1}`,"incorrect",!0);const w=document.querySelector(`#resultatCheckEx${r.numeroExercice}Q${n}`);w!=null&&(w.innerHTML=m&&h?"üòé":"‚òπÔ∏è");const y=document.querySelector(`#feedbackEx${r.numeroExercice}Q${n}`);return u!=null&&y!=null&&u.length>0&&(y.innerHTML="üí° "+u,y.classList.add("py-2","italic","text-coopmaths-warn-darkest","dark:text-coopmathsdark-warn-darkest")),{isOk:m&&h,feedback:u,score:{nbBonnesReponses:m&&h?1:0,nbReponses:1}}};if(s[e]===1)if(x){const r=a.expAP.match(/[_()]/g);if(r!=null&&r.length===4)S(this,e,{champ1:{value:r[0]==="("?"(":""},champ2:{value:r[1]==="("?"(":""},champ3:{value:r[2]===")"?")":""},champ4:{value:r[3]===")"?")":""},callback:f});else throw Error(`Il y a un probl√®me avec cette expressions, on n'a pas trouv√© 4 symboles : ${a.expAP}`)}else S(this,e,{champ1:{value:""},champ2:{value:""},champ3:{value:""},champ4:{value:""},callback:f});else if(x){const r=a.expAP.match(/[_()]/g);if(r!=null&&r.length===6)S(this,e,{champ1:{value:r[0]==="("?"(":""},champ2:{value:r[1]==="("?"(":""},champ3:{value:r[2]==="("?"(":r[2]===")"?")":""},champ4:{value:r[3]==="("?"(":r[3]===")"?")":""},champ5:{value:r[4]==="("?"(":r[4]===")"?")":""},champ6:{value:r[5]==="("?"(":r[5]===")"?")":""},callback:f});else throw Error(`Il y a un probl√®me avec cette expressions, on n'a pas trouv√© 6 symboles : ${a.expAP}`)}else S(this,e,{champ1:{value:""},champ2:{value:""},champ3:{value:""},champ4:{value:""},champ5:{value:""},champ6:{value:""},callback:f});this.questionJamaisPosee(e,O,b,D,F,a.expAP)&&(this.listeQuestions[e]=T,this.listeCorrections[e]=V,e++),i++}}}export{Ae as dateDePublication,ye as default,ge as interactifReady,ve as interactifType,de as refs,ke as titre,$e as uuid};

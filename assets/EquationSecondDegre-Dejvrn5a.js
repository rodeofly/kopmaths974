import{M as N}from"./MonomePlusieursVariables-DHq3iA-O.js";import{P as y}from"./PolynomePlusieursVariables-DEsXl1Ev.js";import{F as l,ar as M,ap as C,x as O,m as x,r as F,v as p,f as R,z as v}from"./embellissements-BYV7mIDn.js";import{g as k}from"./languagesStore-wAwK5LyE.js";class D{coefficients;coefficientsEqReduite;delta;nombreSolutions;solutionsListeTex;solutionsListeTexOppose;ensembleDeSolutionsTex;natureDesSolutions;natureDelEquation;equationTex;correctionDetailleeTex;correctionTex;variable;fonctionEvaluer;constructor(t,s,i,e,n,o,a={format:"initial",variable:"x"}){const S=k();this.coefficients=[t,s,i,e,n,o],this.fonctionEvaluer=c=>this.coefficients[0].num/this.coefficients[0].den*c*c+this.coefficients[1].num/this.coefficients[1].den*c+this.coefficients[2].num/this.coefficients[2].den;let q=!0;this.variable=a.variable,this.natureDelEquation=a.format,this.natureDesSolutions="";const m=[`${this.variable}^2`,this.variable,"",`${this.variable}^2`,this.variable,""];if(this.coefficientsEqReduite=[t.differenceFraction(e).simplifie(),s.differenceFraction(n).simplifie(),i.differenceFraction(o).simplifie(),new l(0,1),new l(0,1),new l(0,1)],this.equationTex="",a.format==="reduit")q=!1,this.equationTex=this.printToLatexEq(this.coefficientsEqReduite);else if(a.format==="melangeReduit"){const c=M(this.coefficientsEqReduite.slice(0,3),m.slice(0,3));this.equationTex=this.printToLatexEq(c[0].concat(this.coefficientsEqReduite.slice(3)),c[1].concat(m.slice(3)))}else if(a.format==="melangeSimple"){const c=this.complexifyCoefficients(this.coefficients);this.equationTex=this.printToLatexEq(c,m)}else if(a.format==="melangeComplique"){const c=this.complexifyCoefficients(this.coefficients),d=M(c.slice(0,3),m.slice(0,3)),$=M(c.slice(3),m.slice(3)),T=[d[0].concat($[0]),d[1].concat($[1])];this.equationTex=this.printToLatexEq(T[0],T[1])}else a.format==="initial"&&(this.equationTex=this.printToLatexEq(this.coefficients,m));if(this.delta=this.coefficientsEqReduite[1].produitFraction(this.coefficientsEqReduite[1]).differenceFraction(this.coefficientsEqReduite[0].produitFraction(this.coefficientsEqReduite[2]).produitFraction(4)),this.nombreSolutions=0,this.delta.num>0?this.nombreSolutions=2:this.delta.num===0?this.nombreSolutions=1:this.nombreSolutions=0,this.solutionsListeTex=[],this.solutionsListeTexOppose=[],this.natureDesSolutions="",this.nombreSolutions>0){if(this.delta.estParfaite?this.coefficientsEqReduite[1].multiplieEntier(-1).differenceFraction(new l(Math.sqrt(this.delta.num),Math.sqrt(this.delta.den))).produitFraction(t.multiplieEntier(2).inverse()).denIrred===1?this.natureDesSolutions="entier":this.natureDesSolutions="fractionnaire":this.natureDesSolutions="irrationnel",this.natureDesSolutions==="entier"||this.natureDesSolutions==="fractionnaire")this.solutionsListeTex=[`${this.coefficientsEqReduite[1].multiplieEntier(-1).differenceFraction(new l(Math.sqrt(this.delta.num),Math.sqrt(this.delta.den))).produitFraction(this.coefficientsEqReduite[0].multiplieEntier(2).inverse()).texFractionSimplifiee}`,`${this.coefficientsEqReduite[1].multiplieEntier(-1).sommeFraction(new l(Math.sqrt(this.delta.num),Math.sqrt(this.delta.den))).produitFraction(this.coefficientsEqReduite[0].multiplieEntier(2).inverse()).texFractionSimplifiee}`],this.solutionsListeTexOppose=[`${this.coefficientsEqReduite[1].multiplieEntier(-1).differenceFraction(new l(Math.sqrt(this.delta.num),Math.sqrt(this.delta.den))).produitFraction(this.coefficientsEqReduite[0].multiplieEntier(2).inverse()).oppose().texFractionSimplifiee}`,`${this.coefficientsEqReduite[1].multiplieEntier(-1).sommeFraction(new l(Math.sqrt(this.delta.num),Math.sqrt(this.delta.den))).produitFraction(this.coefficientsEqReduite[0].multiplieEntier(2).inverse()).oppose().texFractionSimplifiee}`];else if(this.natureDesSolutions==="irrationnel"){const c=`\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}+\\sqrt{${this.delta.texFSD}}}{2\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}`,d=`\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}-\\sqrt{${this.delta.texFSD}}}{2\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}`,$="-"+c,T="-"+d,b=C(this.delta.num);if(this.delta.estEntiere)if(this.delta.num===0){const h=new l(-this.coefficientsEqReduite[1],2).produitFraction(this.coefficientsEqReduite[0].inverse());this.solutionsListeTex=[h.texFractionSimplifiee,h.texFractionSimplifiee]}else if(b[1]===1){const h=new l(-this.coefficientsEqReduite[1]+b[0],2).produitFraction(this.coefficientsEqReduite[0].inverse()),f=new l(-this.coefficientsEqReduite[1]-b[0],2).produitFraction(this.coefficientsEqReduite[0].inverse());this.solutionsListeTex=[h.texFractionSimplifiee,f.texFractionSimplifiee],this.solutionsListeTexOppose=[h.oppose().texFractionSimplifiee,f.oppose().texFractionSimplifiee]}else{let h=O(2*this.coefficientsEqReduite[0].num*this.coefficientsEqReduite[1].den,this.coefficientsEqReduite[1].num*this.coefficientsEqReduite[0].den);h=O(h,this.coefficientsEqReduite[0].den*this.coefficientsEqReduite[1].den*b[0]);const f=-this.coefficientsEqReduite[1].num*this.coefficientsEqReduite[0].den/h,r=this.coefficientsEqReduite[0].den*this.coefficientsEqReduite[1].den*b[0]/h,u=b[1],E=2*this.coefficientsEqReduite[0].num*this.coefficientsEqReduite[1].den/h;let g=`\\dfrac{${f} - ${r===1?"":r}\\sqrt{${u}}}{${E}}`,L=`\\dfrac{${f} + ${r===1?"":r}\\sqrt{${u}}}{${E}}`,w=`-\\dfrac{${f} - ${r===1?"":r}\\sqrt{${u}}}{${E}}`,P=`-\\dfrac{${f} + ${r===1?"":r}\\sqrt{${u}}}{${E}}`;E==1?(g=`${f} - ${r===1?"":r}\\sqrt{${u}}`,L=`${f} + ${r===1?"":r}\\sqrt{${u}}`,w=`-${f} - ${r===1?"":r}\\sqrt{${u}}`,P=`-${f} + ${r===1?"":r}\\sqrt{${u}}`):E===-1&&(g=`-${f} + ${r===1?"":r}\\sqrt{${u}}`,L=`-${f} - ${r===1?"":r}\\sqrt{${u}}`,w=`${f} - ${r===1?"":r}\\sqrt{${u}}`,P=`${f} + ${r===1?"":r}\\sqrt{${u}}`),this.solutionsListeTex=[g,L],this.solutionsListeTexOppose=[w,P]}else this.solutionsListeTex=[c,d],this.solutionsListeTexOppose=[$,T]}}this.ensembleDeSolutionsTex=this.delta.num<0?"S=\\emptyset":this.delta.num>0?"S = \\left\\{"+this.solutionsListeTex.join("\\,;\\,")+"\\right\\}":`S=\\left\\{${this.solutionsListeTex[0]}\\right\\}`,this.nombreSolutions===0?this.correctionTex=`On a que $\\Delta=${this.delta.texFSD}$, l'équation n'a pas de solution réelle, $${this.ensembleDeSolutionsTex}$.`:this.correctionTex=`On a que $\\Delta=${this.delta.texFSD}$, donc l'équation a ${this.nombreSolutions} solution`+(this.nombreSolutions>1?"s":"")+`, ${this.ensembleDeSolutionsTex}.`,this.correctionDetailleeTex="",q&&(this.correctionDetailleeTex+=`On commence par mettre l'équation sous la forme réduite : \\[${this.printToLatexEq(this.coefficientsEqReduite)}\\]`),this.correctionDetailleeTex+=`On calcule le discriminant : \\[\\Delta=\\left(${this.coefficientsEqReduite[1].texFractionSimplifiee}\\right)^2-4\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}\\times${this.coefficientsEqReduite[2].ecritureParentheseSiNegatif}=${this.delta.texFractionSimplifiee}.\\] On a $\\Delta=${this.delta.texFractionSimplifiee}$, donc `,this.nombreSolutions>1?(this.correctionDetailleeTex+="l'équation a deux solutions. Les solutions sont",S==="fr-CH"?this.correctionDetailleeTex+=`\\[${this.variable}_{1,2}=\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}\\pm\\sqrt{${this.delta.texFSD}}}{2\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\]`:(this.correctionDetailleeTex+=`\\[${this.variable}_{1}=\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}+\\sqrt{${this.delta.texFSD}}}{2\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\quad`,this.correctionDetailleeTex+=` ${this.variable}_{2}=\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}-\\sqrt{${this.delta.texFSD}}}{2\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\]`),this.natureDesSolutions==="entier"||this.natureDesSolutions==="fractionnaire"?this.correctionDetailleeTex+=`En calculant, on obtient $${x(this.ensembleDeSolutionsTex)}$.`:this.correctionDetailleeTex+=`Ainsi, $${x(this.ensembleDeSolutionsTex)}$.`):this.nombreSolutions===1?this.correctionDetailleeTex+=`l'équation a une solution donnée par
    \\[s=\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}}{2\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\]
    Ainsi, $${x(this.ensembleDeSolutionsTex)}$.`:this.correctionDetailleeTex+=` l'équation n'a pas de solution réelle, $${x(this.ensembleDeSolutionsTex)}$.`}static aPartirDesCoefficients(t,s,i,e,n,o,a){return new D(t,s,i,e,n,o,a)}static aPartirDesSolutions(t,s,i,e){const n=i,o=t.sommeFraction(s).multiplieEntier(-1).produitFraction(i),a=t.produitFraction(s).produitFraction(i),S=new l(0,1),q=new l(0,1),m=new l(0,1);return new D(n,o,a,S,q,m,e)}static aPartirDuPolynome(t,s={format:"reduit",variable:"x"}){const i=t.reduire();let e=new l(0,1),n=new l(0,1),o=new l(0,1);const a=s.variable;for(const c of i.monomes){const d=c.partieLitterale.variables.indexOf(a),$=d!==-1?c.partieLitterale.exposants[d]:0;$===2?e=c.coefficient:$===1?n=c.coefficient:$===0&&(o=c.coefficient)}if(e.num===0)throw new Error("Le coefficient de x² est nul. Ce n'est pas une équation du second degré.");const S=new l(0,1),q=new l(0,1),m=new l(0,1);return new D(e,n,o,S,q,m,s)}complexifyCoefficients(t){const s=t;let i=!0;for(let e=0;e<6;e++)if(t[e].den!==1){i=!1;break}if(this.natureDelEquation==="melangeComplique")if(i)for(let e=0;e<3;e++){const n=new l(F(-10,10),1);s[e]=s[e].sommeFraction(n),s[e+3]=s[e+3].sommeFraction(n)}else for(let e=0;e<3;e++){const n=new l(F(-4,4,[0]),F(-3,3,[0]));s[e]=s[e].sommeFraction(n),s[e+3]=s[e+3].sommeFraction(n)}else if(this.natureDelEquation==="melangeSimple"){for(let e=0;e<3;e++)if(F(0,1)===1){const n=t[e].oppose();s[e]=s[e].sommeFraction(n),s[e+3]=s[e+3].sommeFraction(n)}}return s}printToLatexEq(t,s=[`${this.variable}^2`,this.variable,"",`${this.variable}^2`,this.variable,""]){let i="",e=!0;for(let n=0;n<3;n++)t.slice(0,3).every(o=>o.num===0)&&n===0?i=i+"0":t[n].num!==0&&e?(s[n]===""?i=i+`${t[n].texFSD}${s[n]}`:i=i+`${p(t[n])}${s[n]}`,e=!1):t[n].num!==0&&!e&&(s[n]===""?i=i+`${R(t[n])}${s[n]}`:i=i+`${v(t[n])}${s[n]}`,e=!1);i=i+"=",e=!0;for(let n=3;n<6;n++)t.slice(3).every(o=>o.num===0)&&n===3?i=i+"0":t[n].num!==0&&e?(s[n]===""?i=i+`${t[n].texFSD}${s[n]}`:i=i+`${p(t[n])}${s[n]}`,e=!1):t[n].num!==0&&!e&&(s[n]===""?i=i+`${R(t[n])}${s[n]}`:i=i+`${v(t[n])}${s[n]}`,e=!1);return i}polynomeFormeReduite(){const t=new N(this.coefficients[0],{variables:[this.variable],exposants:[2]}),s=new N(this.coefficients[1],{variables:[this.variable],exposants:[1]}),i=new N(this.coefficients[2],{variables:[this.variable],exposants:[0]});return new y([t,s,i])}formeCanonique(){const t=this.coefficients[1].oppose().diviseFraction(this.coefficients[0].multiplieEntier(2).simplifie()),s=this.polynomeFormeReduite().evaluer({x:t}).simplifie();return`${p(this.coefficients[0])}\\left(${this.variable}${t.oppose().simplifie().texFractionSignee}\\right)^2${s.texFractionSignee}`}solutionFrac(){if(this.nombreSolutions===0)return"Pas de solution";if(this.solutionsListeTex[0].includes("sqrt"))return"Les solutions ne peuvent pas être exprimées sous forme de fraction";{const t=[];for(let s=0;s<this.solutionsListeTex.length;s++){let i=new l(0,1),e=[0,1];this.solutionsListeTex[s].includes("\\dfrac")?this.solutionsListeTex[s].includes("\\dfrac")&&(e=[Number(this.solutionsListeTex[s].match(/\\dfrac{(\d+)}{(\d+)}/)?.slice(1)[0]),Number(this.solutionsListeTex[s].match(/\\dfrac{(\d+)}{(\d+)}/)?.slice(1)[1])],this.solutionsListeTex[s].includes("-")&&(e[0]=-e[0])):e=[Number(this.solutionsListeTex[s]),1],i=new l(Number(e[0]),Number(e[1])),t.push(i)}return t}}printToLatexFormeFactorisee(){return this.nombreSolutions===0?"\\left ("+this.printToLatexMDG()+"\\right )":this.nombreSolutions===1?`${p(this.coefficients[0])}\\left(${this.variable}${this.solutionsListeTex[0][0]==="-"?"":"+"}${this.solutionsListeTexOppose[0]}\\right)^2`:`${p(this.coefficients[0])}\\left(${this.variable}${this.solutionsListeTexOppose[1]}\\right)\\left(${this.variable}${this.solutionsListeTexOppose[0]}\\right)`}printToLatex(){let t="",s=!0;const i=[`${this.variable}^2`,this.variable,"",`${this.variable}^2`,this.variable,""];for(let e=0;e<3;e++)this.coefficients.slice(0,3).every(n=>n.num===0)&&e===0?t=t+"0":this.coefficients[e].num!==0&&s?(i[e]===""?t=t+`${this.coefficients[e].texFSD}`:t=t+`${p(this.coefficients[e])}${i[e]}`,s=!1):this.coefficients[e].num!==0&&!s&&(i[e]===""?t+=`${R(this.coefficients[e].simplifie())}`:t+=`${v(this.coefficients[e].simplifie())}${i[e]}`,s=!1);t=t+"=",s=!0;for(let e=3;e<6;e++)this.coefficients.slice(3).every(n=>n.num===0)&&e===3?t=t+"0":this.coefficients[e].num!==0&&s?(i[e]===""?t=t+`${this.coefficients[e].texFSD}`:t=t+`${p(this.coefficients[e])}${i[e]}`,s=!1):this.coefficients[e].num!==0&&!s&&(i[e]===""?t=t+`${this.coefficients[e].texFSD}`:t=t+`${v(this.coefficients[e])}${i[e]}`,s=!1);return t}printToLatexMDG(t={indice:-1,couleur:"black"}){let s="",i="",e=!0;const n=[`${this.variable}^2`,this.variable,"",`${this.variable}^2`,this.variable,""];for(let o=0;o<3;o++)i="",this.coefficients.slice(0,3).every(a=>a.num===0)&&o===0?i="0":this.coefficients[o].num!==0&&e?(n[o]===""?i=`${this.coefficients[o].simplifie().texFSD}${n[o]}`:i=`${p(this.coefficients[o].simplifie())}${n[o]}`,e=!1):this.coefficients[o].num!==0&&!e&&(n[o]===""?i=`${R(this.coefficients[o].simplifie())}`:i=`${v(this.coefficients[o].simplifie())}${n[o]}`,e=!1),o===t.indice&&((i.split(this.variable)[0]==="+"||i.split(this.variable)[0]==="-")&&(i=x(i.split(this.variable)[0]+"1",t.couleur)+this.variable+i.split(this.variable)[1]),i.split(this.variable).length!==1?i=x(i.split(this.variable)[0],t.couleur)+this.variable+i.split(this.variable)[1]:i=x(i.split(this.variable)[0],t.couleur),i="\\,"+i),s=s+i;return s}}export{D as E};

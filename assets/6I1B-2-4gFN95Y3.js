import{c as R,af as Q,a as f,r as v,I as X,o as Z,t as ee,p as fe,bN as T,b as w,l as me}from"./embellissements-BYV7mIDn.js";import{d as E}from"./enrichissements-DZcTytgd.js";import{E as de}from"./Exercice-DtXhjCyI.js";import{c as M,a as U,o as te,g as re,b as Y,h as $,f as se}from"./2dLutin-DLeyGTRS.js";import{p as ge,n as le,t as ae,a as q,b as I,c as ne,d as ie,e as Be}from"./noteLaCouleur-d6i3w2B8.js";import{s as be}from"./scratchblock-CPHivmfQ.js";import{c as oe}from"./questionListeDeroulante-Dga7bzBW.js";import{h as ce}from"./gestionInteractif-DujZpSu8.js";import"mathjs";import"decimal.js";import"katex";import"earcut";import"roughjs";import"./exerciseMethods-CtbYPwln.js";import"./index-BUDQz6-w.js";import"crypto-js";import"seedrandom";import"./ListeDeroulanteElement-CXmzV-cr.js";import"./comparisonFunctions-B45ZZ3C7.js";import"./compute-engine.min.umd-BwAhpA7x.js";import"./Hms-u2AUyU1C.js";import"./tableauMathlive-xx-nDjq0.js";import"./canStore-DaSrd7sp.js";import"./generalStore-C3E9FHtR.js";import"./sizeTools-DfTC1Dgv.js";import"./time-DMC-jnVL.js";const Ye=!0,ze="listeDeroulante",He="14/05/2023",Ke="11/04/2021",We="Note la couleur (scratch)",Xe="0e016",Ze={"fr-fr":["6I1B-2"],"fr-2016":["6I11"],"fr-ch":["autres-6"]};class et extends de{relatif;constructor(){super(),this.besoinFormulaireNumerique=["Type de plateau",4,`1 : Plateau couleur sans numéro
2 : Plateau couleur avec numéros
3 : Plateau noir et blanc avec nom des couleurs
4 : Plateau noir et blanc avec numéros`],this.besoinFormulaire2Numerique=["Type de programme",3,`1 : Avancer et tourner
2 : Boucles
3 : Mélange`],this.besoinFormulaire3Numerique=["Nombre de couleurs (Maximum 6)",6],this.besoinFormulaire4CaseACocher=["Plateau de jeu original",!1],this.nbQuestions=1,this.typeExercice="Scratch",this.sup=1,this.sup2=1,this.sup3=4,this.sup4=!0,this.relatif=!1,this.correctionDetailleeDisponible=!0,this.correctionDetaillee=!0}nouvelleVersion(){const ue=[["Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc"],["Blanc","Noir","Jaune","Bleu","Vert","Orange","Rouge","Orange","Noir","Jaune","Gris","Vert","Rose","Noir","Jaune","Blanc"],["Blanc","Rouge","Bleu","Orange","Jaune","Rose","Gris","Jaune","Rose","Gris","Jaune","Bleu","Rouge","Gris","Rouge","Blanc"],["Blanc","Rose","Vert","Gris","Rouge","Noir","Bleu","Vert","Noir","Vert","Bleu","Rose","Gris","Vert","Orange","Blanc"],["Blanc","Vert","Bleu","Rose","Vert","Bleu","Orange","Gris","Rouge","Orange","Jaune","Gris","Rouge","Rose","Bleu","Blanc"],["Blanc","Noir","Orange","Rouge","Orange","Jaune","Rouge","Blanc","Blanc","Noir","Gris","Orange","Noir","Jaune","Rose","Blanc"],["Blanc","Rose","Gris","Noir","Bleu","Vert","Bleu","Blanc","Blanc","Rouge","Bleu","Gris","Vert","Rouge","Noir","Blanc"],["Blanc","Noir","Rouge","Rose","Vert","Orange","Rose","Noir","Orange","Vert","Jaune","Rose","Noir","Rose","Vert","Blanc"],["Blanc","Orange","Gris","Rouge","Jaune","Noir","Vert","Rouge","Rose","Noir","Bleu","Vert","Jaune","Orange","Gris","Blanc"],["Blanc","Bleu","Jaune","Orange","Vert","Gris","Jaune","Gris","Orange","Gris","Rose","Bleu","Rouge","Bleu","Orange","Blanc"],["Blanc","Rose","Bleu","Jaune","Rose","Orange","Rouge","Bleu","Noir","Jaune","Gris","Vert","Jaune","Noir","Rouge","Blanc"],["Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc"]],z=[["Blanc","Noir","Rouge","Bleu","Orange","Rose","Jaune","Vert","Gris"],["(0) Blanc","(1) Noir","(2) Rouge","(3) Bleu","(4) Orange","(5) Rose","(6) Jaune","(7) Vert","(8) Gris"]];let A,m;const H=this.relatif?{xmin:-13,ymin:-10,xmax:13,ymax:10,pixelsParCm:20,scale:.5}:{xmin:-1,ymin:-1,xmax:25,ymax:19,pixelsParCm:20,scale:.5};let N;const C=[];let a,s,_,n,i,d,r=M(),y,h,c,u;R.unitesLutinParCm=20,R.pixelsParCm=20;let e;const he=Number(this.sup2)===1?Q([1],this.nbQuestions):Number(this.sup2)===2?Q([2],this.nbQuestions):Q([1,2],this.nbQuestions),K=ge({type:this.sup,melange:!this.sup4,scale:.5,relatif:this.relatif,nx:16,ny:12,pas:30,plateau:ue});for(let p=0;p<this.nbQuestions;){const G=[],P=[],W=K.objets??[];P.push(W),G.push(W);let S=[],g="",k="",D=0,L,J,O;switch(i=[],_=this.sup3,d=[],he[p]){case 1:{N=[["AV30","AV60","AV90","AV120","AV150"],["TD90","TG90","TG90","TG180"]];for(let t=0,l;t<5;t++)for(let o=0,V;o<4;o++)l=N[0][t],V=N[1][o],C.push([l,V,"NLC"],[V,l,"NLC"]);for(L=!0;L&&(P.length=1,r=M(),h=f([90,0,-90,180]),c=-225+v(4,11)*30+(this.relatif?0:240),u=-165+v(3,8)*30+(this.relatif?0:180),e=le({x:c,y:u,orientation:h,plateau:Be,relatif:this.relatif}),r.color=X("green"),r.epaisseur=2,r.pointilles=2,U(c,u,r),te(se(h),r),y=re(r),Y(y),U(c,u,y),P.push(y),Y(r),D++,!(D>5));)for(e.codeScratch="",A=0,O=0,e.codeScratch=`\\begin{scratch}[print,fill,blocks,scale=0.7]
 \\blockinit{quand \\greenflag est cliqué}
 `,e.codeScratch+=`\\blockmove{aller à x: \\ovalnum{${c}} y: \\ovalnum{${u}}}
 \\blockmove{s'orienter à \\ovalnum{${h}}}
`,e.currentIndex+=e.codeScratch.length;_>A&&O<10;){for(O=0,a=f(C),m=I(a,e);!m[0]&&O<10;)O++,a=f(C),m=I(a,e);if(O<10){L=!1;for(let t=0;t<a.length;t++)n=a[t],s=q(n,r,e),n==="NLC"?(d.push(n),i.push(e.nlc()),A++,e.codeScratch+=s[4]+`
`,e.currentIndex+=s[4].length+1,r=s[5],$(5,r)):(d.push(n),e.currentPos.x=s[1],e.currentPos.y=s[2],e.currentOrientation=s[3],e.codeScratch+=s[4]+`
`,e.currentIndex+=s[4].length+1,r=s[5])}else h=f([90,0,-90,180]),c=-225+v(4,11)*30+(this.relatif?0:240),u=-165+v(3,8)*30+(this.relatif?0:180)}break}case 2:{N=[["AV30","AV60","AV90","AV120"],["TD90","TG90","TD90","TG180"]];for(let l=0,o;l<3;l++)for(let V=0,B;V<3;V++)for(let j=0,b;j<3;j++)for(let F=0,x;F<3;F++)o=N[0][l],B=N[1][V],b=N[0][j],x=N[1][F],C.push([o,B,"NLC",b,x],[B,o,"NLC",b,x],[o,B,"NLC",x,b],[B,o,"NLC",x,b],[o,B,b,"NLC",x],[B,o,x,b,"NLC"],[o,"NLC",B,b,x],[B,"NLC",o,x,b]);L=!0;const t=_-1;for(;L&&(P.length=1,r=M(),h=f([90,0,-90,180]),c=-225+v(4,11)*30+(this.relatif?0:240),u=-165+v(3,8)*30+(this.relatif?0:180),e=le({x:c,y:u,orientation:h,plateau:K.plateauNLC,relatif:this.relatif}),e.codeScratch="",r.color=X("green"),r.epaisseur=2,r.pointilles=2,U(c,u,r),te(se(h),r),y=re(r),P.push(y),Y(r),D++,!(D>5));){for(J=0,e.codeScratch=`\\begin{scratch}[print,fill,blocks,scale=0.7]
 \\blockinit{quand \\greenflag est cliqué}
 `,e.codeScratch+=`\\blockmove{aller à x: \\ovalnum{${c}} y: \\ovalnum{${u}}}
 \\blockmove{s'orienter à \\ovalnum{${h}}}
`,e.currentIndex+=e.codeScratch.length,a=f(C),m=ae(t,a,e);!m[0]&&J<5;)J++,a=f(C),m=ae(t,a,e);if(J<5){L=!1,e.codeScratch+=`\\blockrepeat{répéter \\ovalnum{${t}} fois}{
`,d.push("début de boucle");for(let l=0;l<a.length;l++)n=a[l],s=q(n,r,e),n==="NLC"&&s!=null?(d.push(n),i.push(e.nlc()),e.codeScratch+=s[4]+`
`,e.currentIndex+=s[4].length+1,r=s[5],$(5,r)):(d.push(n),e.currentPos.x=s[1],e.currentPos.y=s[2],e.currentOrientation=s[3],e.codeScratch+=s[4]+`
`,e.currentIndex+=s[4].length+1,r=s[5]);d.push("fin de boucle"),e.codeScratch+=`} 
`;for(let l=1;l<t;l++)for(let o=0;o<a.length;o++)n=a[o],s=q(n,r,e),n==="NLC"?(i.push(e.nlc()),r=s[5],$(5,r)):(e.currentPos.x=s[1],e.currentPos.y=s[2],e.currentOrientation=s[3],r=s[5]);for(a=f(C),m=I(a,e);!m[0];)a=f(C),m=I(a,e);for(let l=0;l<a.length;l++)n=a[l],s=q(n,r,e),n==="NLC"?(d.push(n),i.push(e.nlc()),e.codeScratch+=s[4]+`
`,e.currentIndex+=s[4].length+1,r=s[5],$(5,r)):(d.push(n),e.currentPos.x=s[1],e.currentPos.y=s[2],e.currentOrientation=s[3],e.codeScratch+=s[4]+`
`,e.currentIndex+=s[4].length+1,r=s[5])}else h=f([90,0,-90,180]),c=-225+v(4,11)*30+(this.relatif?0:240),u=-165+v(3,8)*30+(this.relatif?0:180)}break}}if(e==null){window.notify("pion est null",{pion:e});return}e.codeScratch+="\\end{scratch}",g=`Cet exercice est tiré de l'excellente activité débranchée ${E("https://www.monclasseurdemaths.fr/profs/algorithmique-scratch/note-la-couleur/","Note la couleur")} de Jean-Yves Labouche.<br>`,g+="Il a été conçu pour étendre les possibilités de fiches proposées.<br>",g+=`N'hésitez pas à vous rendre sur le site ${E("https://www.monclasseurdemaths.fr","Mon classeur de Maths.fr")} de Jean-Yves pour y découvrir la multitude de ressources qu'il propose.<br>`,g+=`Pour jouer, regarder les ${E("https://coopmaths.fr/alea/assets/pdf/reglesnlc.pdf","Règles du jeu")} .<br>`,g+="Exécuter le programme et trouver la succession de couleurs.<br><br>",g+="<table><tr><td>"+be(e.codeScratch)+`</td><td>${this.sup%2===0?"Correspondance chiffre-couleur : <br>0=Blanc ; 1=Noir ; 2=Rouge ; 3=Bleu ; 4=Orange ; 5=Rose ; 6=Jaune ; 7=Vert ; 8=Gris<br>":""}`+Z(H,...P)+"</td></tr></table>",S=i,this.sup%2===0&&(S[0]="("+ne(i[0])+") "+i[0]),k="On obtient la série de couleurs suivante :<br> ",k+=`${ee(S[0])} `,g+=this.interactif?"Couleur n°1 : "+oe(this,p*i.length,[{label:"Choisir une couleur",value:""},...z[(this.sup-1)%2].map(t=>this.sup===1?{svg:'<rect x="-10" y="-10" width="20" height="20" stroke="black" fill="'+ie(t)+'"/>',value:t}:{label:t,value:t})])+"<br>":"",ce(this,p*i.length,{reponse:{value:i[0]}},{formatInteractif:"listeDeroulante"});for(let t=1;t<i.length;t++)this.sup%2===0&&(S[t]="("+ne(i[t])+") "+i[t]),k+=`${ee(S[t])} `,g+=this.interactif?"Couleur n°"+(t+1)+" : "+oe(this,p*i.length+t,[{label:"Choisir une couleur",value:""},...z[(this.sup-1)%2].map(l=>this.sup===1?{svg:'<rect x="-10" y="-10" width="20" height="20" stroke="black" fill="'+ie(l)+'"/>',value:l}:{label:l,value:l})])+"<br>":"",ce(this,p*i.length+t,{reponse:{value:i[t]}},{formatInteractif:"listeDeroulante"});r.animation=`<radialGradient id="Ball" cx="8" cy="-3" r="20" gradientUnits="userSpaceOnUse">
    <stop offset="0" style="stop-color:#FFFF99"/>
    <stop offset="1" style="stop-color:#FF9400"/>
  </radialGradient> <circle fill="url(#Ball)"  r="12" stroke-width="1"
   x="${r.listeTraces[0][0]*R.pixelsParCm}"
    y="${-r.listeTraces[0][1]*R.pixelsParCm}">

    <animateMotion path="M ${r.listeTraces[0][0]*R.pixelsParCm} ${-r.listeTraces[0][1]*R.pixelsParCm} L`;for(let t=0;t<r.listeTraces.length;t++){const l=fe(r.listeTraces[t][2],r.listeTraces[t][3]);r.animation+=` ${l.xSVG(R.pixelsParCm)} ${l.ySVG(R.pixelsParCm)} `}if(r.animation+='" begin="10s" dur="10s" repeatCount="indefinite" />; </circle>',this.correctionDetaillee){for(let t=1;t<16;t++)this.relatif?(t<7||t>9)&&G.push(T(w(-240+30*t),-12.1+1.5*t,-.3,0,"black",1.2,"milieu",!0,.5)):t!==1&&G.push(T(w(30*t),1.5*t,-.3,0,"black",1.2,"milieu",!0,.5));for(let t=1;t<12;t++)this.relatif?(t<5||t>7)&&G.push(T(w(-180+30*t),-.5,-9+1.5*t,0,"black",1.2,"milieu",!0,.5)):t!==1&&G.push(T(w(30*t),-.5,1.5*t,0,"black",1.2,"milieu",!0,.5))}const pe=G.filter(t=>t!=null).flat();k+="<br><br>"+Z(H,...pe,r),p<this.nbQuestions-1,this.questionJamaisPosee(p,String(c),String(u),String(h))&&(this.listeQuestions[p]=g,this.listeCorrections[p]=k,p++)}me(this)}}export{He as dateDeModifImportante,Ke as dateDePublication,et as default,Ye as interactifReady,ze as interactifType,Ze as refs,We as titre,Xe as uuid};

import O from"decimal.js";import{r as G,l as st,e as E,dF as lt,C as m,c6 as it,k as F,o as Z,D as R}from"./embellissements-BYV7mIDn.js";import{E as ut}from"./Exercice-DtXhjCyI.js";import{valeurBase as rt}from"./PEA11-1-Wz5TmaBS.js";const nt="Multiplications dans d'autres bases",ot="2/11/2021",ft="a7016",at={"fr-fr":["PEA13"],"fr-ch":[]};function Q(x,g){return x instanceof O?x.toNumber().toString(g).toUpperCase():x.toString(g).toUpperCase()}function v(x,g){let X=0;typeof x=="number"?x=x.toString():x instanceof O&&(x=x.toNumber().toString());for(let T=0;T<x.length;T++)X+=g**T*rt(x.charAt(x.length-1-T));return X}class ct extends ut{constructor(){super(),this.besoinFormulaireNumerique=["Choix de la base",9,"3 à 9 (au hasard si laissé vide)"],this.video="pkp9e8XDH3M",this.consigne="Poser et effectuer les calculs suivants :",this.nbQuestions=3,this.pasDeVersionLatex=!0,this.spacingCorr=2}nouvelleVersion(){const g=this.sup===void 0||this.sup<3||this.sup>9?G(3,5):this.sup;[3,4,5].includes(g)&&(this.listeQuestions[0]=`Écrire la table de Pythagore en base ${g}.`,this.listeCorrections[0]=ht(g));const X=[3,4,5].includes(g)?1:0;for(let T=X,H,B,J,W,D,A,V=0;T<this.nbQuestions&&V<50;){const L=g===3?G(0,2):G(2,g-1);A=(g===3?G(1,2):G(2,g-1,L))*10+L,W=v(A,g);const Y=G(1,g-1),d=G(2,g-1);D=G(2,g-1)*100+d*10+Y,W=v(A,g),J=v(D,g),D=D.toString(),A=A.toString(),H=`$(${D})_{${g}} \\times (${A})_{${g}}$`,parseInt(D)<parseInt(A)&&([D,A]=[A,D]),B=`En base ${g} :<br>`+mt({operande1:J,operande2:W,type:"multiplication",base:g})+"<br>";for(let K=A.length-1;K>-1;K--){const s=[];B+=`Calcul de $${A[K]}\\times${D} :$ <br>`;for(let l=0;l<D.length;l++){const i=A[K],w=D[D.length-1-l];let h=Q(Number(i)*Number(w),g);s[l-1]?(h=Q(parseInt(i)*parseInt(w)+parseInt(s[l-1]),g),B+=`$\\qquad ${i} \\times ${w} + ${s[l-1]} = ${parseInt(i)*parseInt(w)+parseInt(s[l-1])} = (${h})_{${g}}  $`):B+=`$\\qquad ${i} \\times ${w} = ${Number(i)*Number(w)} = (${h})_{${g}}  $`,Number(i)*Number(w)>=g?(B+=`$\\quad$ On écrit ${h[h.length-1]} et on retient ${h.slice(0,-1)}.<br>`,s[l]=h.slice(0,-1).toString()):B+="<br>"}}this.listeQuestions.indexOf(H)===-1&&(this.listeQuestions[T]=H,this.listeCorrections[T]=B,T++),V++}st(this)}}const ht=x=>{switch(x){case 3:return`$\\begin{array}{|c|c|c|}
      \\hline
      \\times & (1)_3 & (2)_3 \\\\
      \\hline
      (1)_3 & (1)_3 & (2)_3 \\\\
      \\hline
      (2)_3 & (2)_3 & (11)_3  \\\\
      \\hline
   \\end{array}$`;case 4:return`$\\begin{array}{|c|c|c|c|}
    \\hline
    \\times & (1)_4 & (2)_4 & (3)_4 \\\\
    \\hline
    (1)_4 & (1)_4 & (2)_4 & (3)_4  \\\\
    \\hline
    (2)_4 & (2)_4 & (10)_4 & (12)_4 \\\\
    \\hline
    (3)_4 & (3)_4 & (12)_4 & (21)_4 \\\\
    \\hline
 \\end{array}$`;case 5:return`$\\begin{array}{|c|c|c|c|c|}
    \\hline
    \\times & (1)_5 & (2)_5 & (3)_5 & (4)_5 \\\\
    \\hline
    (1)_5 & (1)_5 & (2)_5 & (3)_5 & (4)_5  \\\\
    \\hline
    (2)_5 & (2)_5 & (4)_5 & (11)_5 & (13)_5 \\\\
    \\hline
    (3)_5 & (3)_5 & (11)_5 & (14)_5 & (22)_5 \\\\
    \\hline
    (4)_5 & (4)_5 & (13)_5 & (22)_5 & (31)_5 \\\\
    \\hline
 \\end{array}$`;default:return""}},kt=Object.freeze(Object.defineProperty({__proto__:null,base10VersBaseN:Q,baseNVersBase10:v,dateDePublication:ot,default:ct,refs:at,titre:nt,uuid:ft},Symbol.toStringTag,{value:"Module"})),n=1;function mt({operande1:x=1,operande2:g=2,type:X="addition",precision:T=0,base:H=10,retenuesOn:B=!0,style:J="display: block",methodeParCompensation:W=!0,options:D={solution:!0,colore:""}}){const A=D.solution;let V;const L=function(s){const l=s.toString(),i=s.floor().toString();return i.length===l.length?0:l.length-i.length-1},tt=function(s){let l="";for(;s[0]==="0";)s=s.substr(1),l+=" ";for(let i=0;i<s.length;i++)l+=`${s[i]}`;return l},Y=function(s,l,i=0,w=!0){if(s=new O(s),l=new O(l),l.equals(0))return"On ne peut pas diviser par 0.";if(s.equals(0))return"Lorsqu'on divise 0 par un nombre, le quotient est 0.";if(s.equals(l))return"Lorsqu'on divise un nombre par lui-même, le quotient est 1.";if(l.equals(1))return`Lorsqu'on divise un nombre par 1, le quotient est le nombre initial : $${E(s)}$.`;const h=[];let _=!1;const M=0;i=Math.min(i,L(s.div(l)));const b=L(l),j=L(s);_=s.lt(l),l=l.mul(10**b),s=s.mul(10**(b+j));let k=L(s);k=i-k-j,s=s.mul(10**k);const f=function(C,z){h.push(m("-",(C-z.length-.5)*n,10-P*2,0,"black",1.2,"milieu",!1));for(let U=0;U<z.length;U++)h.push(m(z[z.length-U-1],(C-U-1)*n,10-P*2,0,"black",1.2,"milieu",!1));h.push(F((C-z.length-.5)*n,9.6-P*2,(C+.2-1)*n,9.6-P*2))},N=function(C,z){for(let U=0;U<z.length;U++)h.push(m(z[z.length-U-1],(C-U-1)*n,9-P*2,0,"black",1.2,"milieu",!1))},I=function(C,z){h.push(m(z,(u+1.5+C)*n,10,0,"black",1.2,"milieu",!1))},c=[],S=[],q=[],y=[],o=[];let p;const a=s.toString(),$=l.toString(),u=Math.log10(lt(s.toNumber())),r=Math.log10(lt(l.toNumber()));let t=r;for(let C=0;C<u;C++)h.push(m(a[C],C*n,11,0,"black",1.2,"milieu",!1));for(let C=0;C<r;C++)h.push(m($[C],(C+u+1.5)*n,11,0,"black",1.2,"milieu",!1));j+k!==0&&h.push(m(",",(u-j-k-1+.5)*n,11,0,"black",1.2,"milieu",!1));const e=it(s.toNumber()/l.toNumber());h.push(F(u*n,11.5,u*n,10.5-2*e));let P=0;if(w){for(c.push(a.substr(0,r)),parseInt(c[0])<l.toNumber()?(c[0]+=a.substr(r,1),(l.div(10**k).lt(l)&&_||_)&&I(-1,"0"),t++):_&&I(-1,"0");t<=u;){if(p=new O(c[P]).div(l).floor(),S.push(p.toString()),q.push(new O(c[P]).mod(l).toString()),o.push(new O(p).mul(l).floor().toString()),y.push(""),S[P]==="0")for(let C=0;C<r;C++)y[P]+="0";else{for(let C=0;C<c[P].length-l.mul(parseInt(S[P])).toString().length;C++)y[P]+="0";y[P]+=l.mul(parseInt(S[P])).toString()}f(t,o[P]),t<u?(q[P]+=a.substr(t,1),N(t+1,q[P])):N(t,q[P]),c.push(q[P]),t++,I(P,S[P]),P++}i>0&&M===0&&h.push(m(",",(u+1+P-k-j)*n,10,0,"black",1.2,"milieu",!1))}return w?h.push(F(u*n,10.5,(u+r+P)*n,10.5)):h.push(F(u*n,10.5,(u+r+2)*n,10.5)),Z(Object.assign({pixelsParCm:20,scale:.8,style:J},R(h)),h)},d=function(s,l,i,w,h=!0){if(s=new O(s),l=new O(l),s.equals(0)||l.equals(0))return s.equals(0)?`$${E(s)}$ étant nul, l'addition est égale à $${E(l)}$`:`$${E(l)}$ étant nul, l'addition est égale à $${E(s)}$`;const _=L(s),M=L(l),b=s,j=l,k=b.plus(j);let f="";const N=[];let I,c,S,q,y,o,p,a;if(!i||i===10){if(o=Math.max(_,M),I=s.mul(10**_).toString(),c=l.mul(10**M).toString(),s=s.mul(10**o),l=l.mul(10**o),_>M)for(let e=0;e<_-M;e++)c+=" ";else for(let e=0;e<M-_;e++)I+=" ";for(let e=0;e<Math.abs(Math.min(0,Math.floor(Math.log10(b.toNumber()))));e++)I="0"+I;for(let e=0;e<Math.abs(Math.min(0,Math.floor(Math.log10(j.toNumber()))));e++)c="0"+c;q=s.plus(l),S=q.toString();for(let e=0;e<Math.abs(Math.min(0,Math.floor(Math.log10(k.toNumber()))));e++)S="0"+S;y=S.length}else o=0,I=Q(s,i),c=Q(l,i),q=s.plus(l),S=Q(q,i),y=S.length;const $=I.length,u=c.length,r=Math.max($,u);let t=" ";if($>u)for(let e=0;e<$-u;e++)c=" "+c;else if(u>$)for(let e=0;e<u-$;e++)I=" "+I;for(let e=r-1;e>0;e--)p=isNaN(parseInt(I[e],i))?0:parseInt(I[e],i),a=isNaN(parseInt(c[e],i))?0:parseInt(c[e],i),p+a+parseInt(Number(t[0])>0?t[0]:"0")>i-1?t=`1${t}`:t=` ${t}`;t=" "+t,I=` ${I}`,c=`+${c}`;for(let e=0;e<r+1-y;e++)S=` ${S}`;for(let e=0;e<r+1;e++)I[e]!==" "&&N.push(m(I[e],e*n,4,0,"black",1.2,"milieu",!1)),c[e]!==" "&&N.push(m(c[e],e*n,3,0,"black",1.2,"milieu",!1)),N.push(F(0,2,(r+1)*n,2)),t[e]!==" "&&w&&h&&N.push(m(t[e],e*n,4.5,0,"red",.8,"milieu",!1)),S[e]!==" "&&h&&N.push(m(S[e],e*n,1,0,"black",1.2,"milieu",!1));return o!==0&&(N.push(m(",",.3+n*(r-o),4,0,"black",1.2,"milieu",!1)),N.push(m(",",.3+n*(r-o),3,0,"black",1.2,"milieu",!1)),h&&N.push(m(",",.3+n*(r-o),1,0,"black",1.2,"milieu",!1))),f+=Z(Object.assign({pixelsParCm:20,scale:.8,style:J},R(N)),N),f},et=function(s,l,i,w=!0,h=!0,_=!0){if(s=new O(s),l=new O(l),s.lessThan(l))return`Je ne sais pas faire de soustraction avec un résultat négatif, or ici $${E(s)} < ${E(l)}$.`;if(l.equals(0))return`Lorsqu'on soustrait 0, le résultat est le nombre initial, ici $${E(s)}$.`;let M="";const b=[];let j,k,f,N,I,c,S,q;if(!i||i===10){const $=L(s),u=L(l);c=Math.max($,u),s=s.mul(10**c),l=l.mul(10**c),N=s.sub(l),f=N.toString(),I=f.length,s.lt(l)?(k=s.toString(),j=l.toString()):(j=s.toString(),k=l.toString())}else c=0,j=Q(s,i),k=Q(l,i),N=s.sub(l),f=Q(N,i),I=f.length;const y=j.length,o=k.length,p=y;let a="00";if(y>o)for(let $=0;$<y-o;$++)k=" "+k;for(let $=p-1;$>=y-o;$--)S=isNaN(parseInt(j[$],i))?0:parseInt(j[$],i),q=isNaN(parseInt(k[$],i))?0:parseInt(k[$],i),S<q+parseInt(a.charAt(0),i)?a=`1${a}`:a=`0${a}`;j=` ${j}`,k=`-${k}`,a=`0${a}`;for(let $=0;$<p+1-I;$++)f=` ${f}`;if(h||!_){const $=y-o;for(let u=0;u<p+1;u++)a[u]!=="0"&&w&&_&&b.push(m(a[u],u*n-.25+n*$,4,0,"red",.8,"milieu",!1)),j[u]!==" "&&b.push(m(j[u],u*n,4,0,"black",1.2,"milieu",!1)),k[u]!==" "&&b.push(m(k[u],u*n,3,0,"black",1.2,"milieu",!1)),a[u]!=="0"&&w&&_&&b.push(m(`+${a[u]}`,(u+$-1)*n,2.5,0,"blue",.6,"milieu",!1)),f[u]!==" "&&_&&b.push(m(f[u],u*n,1,0,"black",1.2,"milieu",!1))}else{const $=Array.apply(null,Array(p+1)).map(function(){return 0}),u=Array.apply(null,Array(j.length)).map(function(r,t){return j[t]});for(let r=p;r>=0;r--){q=isNaN(parseInt(k[r],i))?0:parseInt(k[r],i);const t=new O(parseInt(f[r]===" "?"0":f[r],i)+q);if(u[r]!==" "&&b.push(m(u[r],r*n,4,0,"black",1.2,"milieu",!1)),w&&t.sub(parseInt(u[r])).abs().greaterThan(.5)){for(let e=0;e<2;e++)if(t.gte(10)&&t.sub(10).sub(parseInt(u[r])).abs().greaterThan(.5)||t.lt(10)&&t.sub(parseInt(u[r])).abs().greaterThan(.5))b.push(F(r*n-.3,4+$[r]-.3,r*n+.3,4+$[r]+.3)),parseInt(u[r])>0?u[r]=(parseInt(u[r])-1).toString():(u[r]="9",b.push(m("1",r*n-.25,4+$[r],0,"red",.8,"milieu",!1))),$[r]++,b.push(m(u[r],r*n,4+$[r],0,"black",1.2,"milieu",!1));else if(t.gte(10)&&t.sub(10).sub(parseInt(u[r])).abs().lessThan(.5)){b.push(m("1",r*n-.25,4+$[r],0,"red",.8,"milieu",!1));break}}k[r]!==" "&&b.push(m(k[r],r*n,3,0,"black",1.2,"milieu",!1)),f[r]!==" "&&b.push(m(f[r],r*n,1,0,"black",1.2,"milieu",!1))}}return b.push(F(0,2,(p+1)*n,2)),c!==0&&(b.push(m(",",.3+n*(p-c),4,0,"black",1.2,"milieu",!1)),b.push(m(",",.3+n*(p-c),3,0,"black",1.2,"milieu",!1)),_&&b.push(m(",",.3+n*(p-c),1,0,"black",1.2,"milieu",!1))),M+=Z(Object.assign({pixelsParCm:20,scale:.8,style:J},R(b)),b),M},K=function(s,l,i,w=!0){if(s=new O(s),l=new O(l),s.equals(0)||l.equals(0))return s.equals(0)?`$${E(s)}$ étant nul, le produit est nul.`:`$${E(l)}$ étant nul, le produit est nul.`;if(s.equals(1)||l.equals(1))return s.equals(1)?`Lorsqu'on multiplie par 1, le produit est le nombre initial, ici $${E(l)}$.`:`Lorsqu'on multiplie par 1, le produit est le nombre initial, ici $${E(s)}$.`;let h,_;const M=[];let b=0,j,k;const f=[];let N=0;const I=[];let c,S;!i||i===10?(j=s.lt(1),k=l.lt(1),c=L(s),S=L(l),s=s.mul(10**c),l=l.mul(10**S),h=(j?"0":"")+Number(s).toString(),_=(k?"0":"")+Number(l).toString()):(c=0,S=0,h=Q(s,i),_=Q(l,i));let q;const y=h.length,o=_.length,p=y+o+1,a=[];for(let t=0;t<o;t++){a.push("0"),f.push("");for(let e=0;e<t;e++)a[t]=`${a[t]}0`,f[t]=`${f[t]}°`;if(_[o-t-1]!=="0"){for(let e=0;e<y;e++)!i||i===10?(N=parseInt(h[y-e-1])*parseInt(_[o-t-1])+parseInt(a[t][0]),e!==y-1&&(a[t]=`${Number(Math.floor(N/10)).toString()}${a[t]}`),f[t]=`${Number(N%10).toString()}${f[t]}`):(N=parseInt(h[y-e-1],i)*parseInt(_[o-t-1],i)+parseInt(a[t][0],i),a[t]=`${Number(Math.floor(N/i)).toString()}${a[t]}`,f[t]=`${Number(N%i).toString()}${f[t]}`);f[t]=`${Number(Math.floor(N/10)).toString()}${f[t]}`}else for(let e=0;e<y;e++)a[t]=`0${a[t]}`,f[t]=`°${f[t]}`}for(let t=o;t<p;t++)_=` ${_}`;for(let t=y;t<=p;t++)h=` ${h}`;for(let t=0;t<o;t++)for(let e=a[t].length;e<=p;e++)a[t]=`0${a[t]}`;let $;!i||i===10?$=s.mul(l):$=Q(s.mul(l),i),q=$.toString(),c+S===q.length&&(q="0"+q);const u=q.length;for(let t=0;t<o;t++)for(let e=f[t].length;e<=u;e++)f[t]=`0${f[t]}`;a.push("0");for(let t=0;t<u-1;t++){I.push(0),I[t]+=parseInt(a[o][0]);for(let e=0;e<o;e++)f[e][u-t]!=="0"&&f[e][u-t]!=="°"&&(I[t]+=parseInt(f[e][u-t]));a[o]=`${Number(Math.floor(I[t]/10)).toString()}${a[o]}`}for(let t=0;t<o;t++){f[t]=tt(f[t]);for(let e=f[t].length;e<=p;e++)f[t]=` ${f[t]}`}_=`×${_}`;for(let t=u;t<=p;t++)q=` ${q}`;for(let t=a[o].length;t<=p;t++)a[o]=`0${a[o]}`;for(let t=0;t<=p;t++)h[t]!==" "&&M.push(m(h[t],t*n,7,0,"black",1.2,"milieu",!1)),_[t]!==" "&&M.push(m(_[t],t*n,6,0,"black",1.2,"milieu",!1));if(c!==0&&M.push(m(",",.3+(p-c)*n,7,0,"black",1.2,"milieu",!1)),S!==0&&M.push(m(",",.3+(p-S)*n,6,0,"black",1.2,"milieu",!1)),w&&o!==1){for(let t=0;t<o;t++)if(_[p-t]!=="0")for(let e=0;e<=p;e++)f[t][e]!==" "&&f[t][e]!=="°"&&M.push(m(f[t][e],e*n,5-t+b,0,"black",1.2,"milieu",!1));else b++;for(let t=0;t<=p;t++)f[o-1][2]===" "&&t===2||a[o][t]!=="0"&&M.push(m(a[o][t],t*n,5.5,0,"red",.7,"milieu",!1))}if(w&&o!==1&&M.push(F(0,5.2-o+b,(p+1)*n,5.2-o+b)),M.push(F(0,5.5,(p+1)*n,5.5)),w){for(let t=0;t<=p;t++)q[t]!==" "&&M.push(m(q[t],t*n,4.5-(o===1?0:o)+b,0,"black",1.2,"milieu",!1));c+S!==0&&M.push(m(",",.3+(p-S-c)*n,4.5-(o===1?0:o)+b,0,"black",1.2,"milieu",!1));for(let t=1;t<o-b;t++)M.push(m("+",0,5+t-o+b,0,"black",1.2,"milieu",!1))}return Z(Object.assign({pixelsParCm:20,scale:.8,style:J},R(M)),M)};switch(D.colore!=null&&D.colore,D.solution,X){case"soustraction":V=et(x,g,H,B,W,A);break;case"multiplication":V=K(x,g,H,A);break;case"division":V=Y(x,g,T,A);break;case"divisionE":V=Y(x,g,0,A);break;case"addition":default:V=d(x,g,H,B,A);break}return V}export{mt as O,kt as P,Q as b};

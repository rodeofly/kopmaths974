import{b as q,a1 as j,a2 as W,F as _,e as Z,k as G,p as e,a3 as z,a4 as B,A as K,I as M,j as L,o as t,D as g,c as Q}from"./embellissements-BYV7mIDn.js";import{m as d}from"./Matrice-C65I2nuw.js";import"./comparisonFunctions-B45ZZ3C7.js";import{round as U}from"mathjs";function X({tabInit:V=["",""],tabLines:b=[],lgt:h=3.5,espcl:r=5,deltacl:n=.8,colors:C=[],scale:y=.75}){{const f=Q.pixelsParCm,i=V[0],A=V[1];let u=0;const a=[];let T=0;const p=[];let $,I,m,H,Y,F=[],k=[],S=[],N,D=[];const P=h+(A.length/2-1)*r+2*n,E=1/Q.pixelsParCm/2,x=2*E,w=o=>{let s=o;return s==null||typeof s!="string"?!1:(s[0]==="$"&&(s=s.substring(1,s.length-1)),s)},v=(o,s,R)=>{let O=o;return typeof O!="string"?(window.notify(`Dans TableauDeVariation(), sortieTexte() a reçu un drôle de texte : ${O}, du coup je renvoie ''`,{}),{texte:"",x:s,y:R}):(O[0]==="$"&&O[O.length-1]==="$"&&(O=O.substring(1,O.length-2)),O.length>0?{texte:O,x:s,y:R}:{texte:"",x:s,y:R})};a.push(G(0,0,P,0)),a.push(G(0,0,0,-i[0][1]*f*x)),a.push(G(h,0,h,0-i[0][1]*f*x)),a.push(G(P,0,P,-i[0][1]*f*x)),$=i[0][0],I=i[0][2],p.push(v(w($),h/2,-i[0][1]*f*E));for(let o=0;o<A.length/2;o++)$=A[o*2],I=A[o*2+1],p.push(v(w($),h+n+r*o,-i[0][1]*f*E));u-=i[0][1]*f*x;for(let o=0;o<i.length&&T<b.length;)switch(b[T][0]){case"Line":o++,I=i[o][2],p.push(v(w(i[o][0]),h/2,u-i[o][1]*f*E));for(let s=1;s<b[T].length/2;s++)if(b[T][s*2]!=="")if($=b[T][s*2],I=b[T][s*2+1],$.length===1)switch($[0]){case"z":p.push(v("0",h+n+r/2*(s-1),u-i[o][1]*f*E)),m=G(h+n+r/2*(s-1),u,h+n+r/2*(s-1),u-i[o][1]*f*x),m.pointilles=4,a.push(m);break;case"d":a.push(G(h+n+r/2*(s-1)-.05,u,h+n+r/2*(s-1)-.05,u-i[o][1]*f*x)),a.push(G(h+n+r/2*(s-1)+.05,u,h+n+r/2*(s-1)+.05,u-i[o][1]*f*x));break;case"t":m=G(h+n+r/2*(s-1),u,h+n+r/2*(s-1),u-i[o][1]*f*x),m.pointilles=4,a.push(m);break;case"h":H=K([e(h+n+r/2*(s-1),u),e(h+n+r/2*s,u),e(h+n+r/2*s,u-i[o][1]*f*x),e(h+n+r/2*(s-1),u-i[o][1]*f*x)]),H.couleurDeRemplissage=M("gray"),a.push(H);break;case"+":p.push(v("+",h+n+r/2*(s-1),u-i[o][1]*f*E));break;case"-":p.push(v("-",h+n+r/2*(s-1),u-i[o][1]*f*E));break}else $==="R/"||p.push(v(w($),h+n+r/2*(s-1),u-i[o][1]*f*E));a.push(G(0,u,P,u)),a.push(G(0,u,0,u-i[o][1]*f*x)),a.push(G(h,u,h,u-i[o][1]*f*x)),a.push(G(P,u,P,u-i[o][1]*f*x)),u-=i[o][1]*f*x,T++;break;case"Var":o++,F=[],S=[],N=!1,D=[];for(let s=1;s<b[T].length/2;s++)if(p.push(v(w(i[o][0]),h/2,u-i[o][1]*f*E)),b[T][s*2]!==""&&($=b[T][s*2],I=b[T][s*2+1],k=$.split("/"),k.length!==1))if(k.length===2)switch(k[0]){case"+":p.push(v(w(k[1]),h+n+r*(s-1),u-.95)),F.push(e(h+n+r*(s-1),u-.95)),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-":p.push(v(w(k[1]),h+n+r*(s-1),u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+C":p.push(v(w(k[1]),h+n+r*(s-1),u-.95)),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-C":p.push(v(w(k[1]),h+n+r*(s-1),u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+D":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-D":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+H":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),F.push(e(h+n+r*(s-1),u-.95)),S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!0,D.push(!0);break;case"-H":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!0,D.push(!0);break;case"D-":p.push(v(w(k[1]),h+n+r*(s-1)+I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"D+":p.push(v(w(k[1]),h+n+r*(s-1)+I/28,u-.95)),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-DH":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),S.push(e(h+n+r*(s-1)+.06,u),e(h+n+r*(s-1)+.06,u-i[o][1]*f*x)),N=!0,D.push(!0);break;case"+DH":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),S.push(e(h+n+r*(s-1)+.06,u),e(h+n+r*(s-1)+.06,u-i[o][1]*f*x)),N=!0,D.push(!0);break;case"-CH":p.push(v(w(k[1]),h+n+r*(s-1),u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),S.push(e(h+n+r*(s-1)+.06,u),e(h+n+r*(s-1)+.06,u-i[o][1]*f*x)),N=!0,D.push(!0);break;case"+CH":p.push(v(w(k[1]),h+n+r*(s-1),u-.95)),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),S.push(e(h+n+r*(s-1)+.06,u),e(h+n+r*(s-1)+.06,u-i[o][1]*f*x)),N=!0,D.push(!0);break}else switch(k[0]){case"":break;case"-CD-":p.push(v(w(k[1]),h+n+r*(s-1),u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+CD+":p.push(v(w(k[1]),h+n+r*(s-1),u-.95)),p.push(v(w(k[1]),h+n+r*(s-1)+I/14,u-.95)),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-CD+":p.push(v(w(k[1]),h+n+r*(s-1),u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+CD-":p.push(v(w(k[1]),h+n+r*(s-1),u-.95)),p.push(v(w(k[1]),h+n+r*(s-1)+I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-D-":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+D+":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-.95)),F.push(e(h+n+r*(s-1),u-.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-D+":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+D-":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-DC-":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1),u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+DC+":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),p.push(v(w(k[2]),h+n+r*(s-1),u-.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-DC+":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1),u-.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+DC-":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),p.push(v(w(k[2]),h+n+r*(s-1),u-i[o][1]*f*E+.95)),F.push(e(h+n+r*(s-1),u-.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),m=G(h+n+r*(s-1)-.05,u,h+n+r*(s-1)-.05,u-i[o][1]*f*x),a.push(m),m=G(h+n+r*(s-1)+.05,u,h+n+r*(s-1)+.05,u-i[o][1]*f*x),a.push(m),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-V-":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+V+":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"-V+":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-i[o][1]*f*x+.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-.95)),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-.95)),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break;case"+V-":p.push(v(w(k[1]),h+n+r*(s-1)-I/28,u-.95)),p.push(v(w(k[2]),h+n+r*(s-1)+I/28,u-i[o][1]*f*x+.95)),F.push(e(h+n+r*(s-1),u-.95)),D.push(!0),F.push(e(h+n+r*(s-1),u-i[o][1]*f*x+.95)),N&&(S.push(e(h+n+r*(s-1),u),e(h+n+r*(s-1),u-i[o][1]*f*x)),N=!1),D.push(!1);break}for(let s=0;s<F.length-1;s++)D[s]||(Y=z(B(F[s],z(.5,0)),B(F[s+1],z(-1.5,0))).representant(B(F[s],z(1,0))),Y.styleExtremites="->",a.push(Y));for(let s=0;s<=S.length/4-1;s++)H=K(S[4*s],S[4*s+2],S[4*s+3],S[4*s+1]),H.opacite=1,H.hachures="north east lines",a.push(H);a.push(G(0,u,P,u)),a.push(G(0,u,0,u-i[o][1]*f*x)),a.push(G(h,u,h,u-i[o][1]*f*x)),a.push(G(P,u,P,u-i[o][1]*f*x)),u-=i[o][1]*f*x,T++;break;case"Val":b[T][5]!==""&&(I=b[T][6],p.push(v(w(b[T][5]),h+n+r*(b[T][1]-1)+1+(r-2)*(b[T][2]-b[T][1])*b[T][3],u+1.1+b[T][3]*i[o][1]*f*E)),p.push(v(w(b[T][4]),h+n+r*(b[T][1]-1)+1+(r-2)*(b[T][2]-b[T][1])*b[T][3],-i[0][1]*f*E))),T++;break;case"Ima":b[T][4]!==""&&($=b[T][4],I=b[T][3],p.push(v(w($),h+n+r*(b[T][1]-1+(b[T][2]-1))/2,u+i[o][1]*f*E))),T++;break;case"Slope":for(let s=1;s<b[T].length/2;s++)b[T][s*2]!==""&&($=b[T][s*2],I=b[T][s*2+1]);break}a.push(G(0,u,P,u));for(const o of p)a.push(L(o.texte,o.x,o.y,{letterSize:"normalsize"}));return t(Object.assign({},g(a,{rxmin:-.05,rymin:-.1,rxmax:.1,rymax:.05})),a)}}function c({fonction:V,xMin:b,xMax:h,tol:r=1e-13,maxIter:n=100,precision:C=3}){const y=[];for(let f=b;f<=h-.2;f+=.2)if(V(f)*V(f+.2)<0){const{root:i}=u1(V,f,f+.2,r,n);i!=null&&y.push(U(i,C))}else V(f)===0&&y.push(U(f,C)),V(f+.2)===0&&y.push(U(f+.2,C));return Array.from(new Set(y).values())}function J(V,b,h,r=[]){const n=[];let C=[];b instanceof _&&(b=b.toNumber()),h instanceof _&&(h=h.toNumber());const y=c({fonction:V,xMin:b,xMax:h});if(r.length!==0&&y.length!==r.length)C=y,window.notify("Le nombre de racines données à la fonction tableauSignesFonction ne correspond au nombre de racines de la fonction sur l'intervalle fourni.",{zeros:r,zerosCalcules:y});else if(r.length===0)C=y;else{const i=r.map((u,a)=>({valeur1:u.toNumber(),valeur2:u}));i.sort((u,a)=>u.valeur1-a.valeur1),r=i.map(u=>u.valeur2);let A=!0;for(let u=0;u<r.length;u++)if(A=Math.abs(r[u].toNumber()-y[u])<1e-12,!A){window.notify("Les racines données à la fonction tableauSignesFonction n'ont pas les mêmes valeurs que celles de la fonction sur l'intervalle fourni.",{zeros:r,zerosCalcules:y}),C=y;break}A&&(C=r)}if(y.length===0)return[{xG:b,xD:h,signe:V((b+h)/2)>0?"+":"-"}];b!==y[0]&&n.push({xG:b,xD:C[0],signe:V(b)>0?"+":"-"}),n.push({xG:C[0],xD:C[0],signe:"z"});for(let i=1;i<y.length;i++){const A=V((y[i-1]+y[i])/2);n.push({xG:C[i-1],xD:C[i],signe:A>0?"+":"-"}),n.push({xG:C[i],xD:C[i],signe:"z"})}if(y[y.length-1]===h)return n;const f=V((y[y.length-1]+h)/2);return n.push({xG:y[y.length-1],xD:h,signe:f>0?"+":"-"}),n}function l(V,b,h,r,n=.005){if(V!==null&&typeof V=="function"){const C=J(V,b,h),y=[];for(const f of C)f.signe==="+"?y.push({xG:f.xG,xD:f.xD,variation:"croissant"}):f.signe==="-"&&y.push({xG:f.xG,xD:f.xD,variation:"decroissant"});return y.filter(f=>f.xG!==f.xD)}else return window.notify("variationsFonction() appelée avec autre chose qu'une fonction",{derivee:V}),[]}function f1(V,b,h,r){if(V===b)return window.notify("trouveFonctionAffine() appelée avec x1=x2",{x1:V,x2:b}),[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];const n=d([[V,1],[b,1]]);if(typeof n.inverse().multiply([h,r])=="number")return window.notify("trouveFonctionAffine() retourne un nombre",{matrice:n,y1:h,y2:r}),[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if(n){const C=n.inverse();if(C)return C.multiply([h,r]).toArray()}return window.notify("Pas de solution au système",{x1:V,x2:b,y1:h,y2:r}),[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]}function o1([V,b,h,r]){const n=4*b*b-12*V*h;if(n<=0)return[[0,10**99],[0,10**99]];const C=(-2*b-Math.sqrt(n))/(6*V),y=(-2*b+Math.sqrt(n))/(6*V);return[[C,V*C**3+b*C**2+h*C+r],[y,V*y**3+b*y**2+h*y+r]]}function x1(V,b,h,{substituts:r=[],step:n=W(1,1e3),tolerance:C=.005,nomVariable:y="x",nomFonction:f="f(x)",fractionTex:i=!1,zeros:A=[]}){const u=J(V,b,h,A),a=[];for(let p=0;p<u.length;p++)p===0&&(i===!1?u[0].xG instanceof _?a.push(Z(u[0].xG.toNumber()),10):a.push(q(u[0].xG,2),10):u[0].xG instanceof _?a.push(u[0].xG.texFractionSimplifiee,10):a.push(new _(u[0].xG,1).texFractionSimplifiee,10)),p>0&&(u[p].xG instanceof _?u[p].xG.toNumber():u[p].xG)!==(u[p-1].xG instanceof _?u[p-1].xG.toNumber():u[p-1].xG)&&(i===!1?u[p].xG instanceof _?a.push(Z(u[p].xG.toNumber()),10):a.push(q(u[p].xG,2),10):u[p].xG instanceof _?a.push(u[p].xG.texFractionSimplifiee,10):a.push(new _(u[p].xG,1).texFractionSimplifiee,10));if(i===!1?u[u.length-1].xD instanceof _?a.push(Z(u[u.length-1].xD.toNumber()),10):a.push(q(u[u.length-1].xD,2),10):u[u.length-1].xD instanceof _?a.push(u[u.length-1].xD.texFractionSimplifiee,10):a.push(new _(u[u.length-1].xD,1).texFractionSimplifiee,10),r&&Array.isArray(r))for(let p=0;p<a.length;p+=2){const $=Number(String(a[p]).replaceAll(/\s/g,"").replace(",",".")),I=r.find(m=>j(m.antVal,$,.01));I&&(a[p]=I.antTex)}const T=["Line",30];j(V(b),0)?T.push("z",10):T.push("",10);for(const p of u)T.push(p.signe,10);return X({tabInit:[[[y,1.5,10],[f,1.5,10]],a],tabLines:[T],espcl:2.1,deltacl:.8,lgt:3})}function m1(V,b,h,r,{substituts:n=[],step:C=W(1,1e3),tolerance:y=.005,ligneDerivee:f=!1,nomVariable:i="x",nomFonction:A="f(x)",nomDerivee:u="f^{\\prime}(x)",precisionImage:a=2}){const T=J(b,h,r).filter(D=>D.xG!==D.xD),p=[],$=[],I=[];if(p.push(...T.reduce((D,P)=>D.concat([q(P.xG,3),10]),$)),p.push(q(T[T.length-1].xD,3),10),n&&Array.isArray(n))for(let D=0;D<p.length;D+=2){const P=Number(String(p[D]).replaceAll(/\s/g,"").replace(",",".")),E=n.find(x=>j(x.antVal,P,Number(y)));E&&(I.push({index:D+2,antVal:E.antVal,imgTex:E.imgTex}),p[D]=typeof E.antTex=="string"?E.antTex:String(E.antTex))}const m=["Line",30];j(b(h),0)?m.push("z",10):m.push("",10);for(const D of T)m.push(D.signe,10),m.push("z",10);j(b(r),0)||m.splice(-2,2);const H=l(b,h,r,C,Number(y)),Y=["Var",10],F=[];let k=H[0],S;k.variation==="croissant"?Y.push(`-/${q(V(k.xG),a)}`,10):Y.push(`+/${q(V(k.xG),a)}`,10);for(let D=0;D<H.length-1;D++)k=H[D],S=H[D+1],k.variation===S.variation?(Y.push("R/",10),F.push(["Ima",D+1,D+3,D+2,q(V(k.xD),a)])):Y.push(`${k.variation==="croissant"?"+":"-"}/${q(V(k.xD),a)}`,10);if(S!=null?S.variation==="croissant"?Y.push(`+/${q(V(S.xD,1),a)}`,10):Y.push(`-/${q(V(S.xD,1),a)}`,10):Y.push(`${k.variation==="croissant"?"+":"-"}/${q(V(k.xD),a)}`,10),n&&Array.isArray(n))for(let D=2;D<Y.length;D+=2){const P=String(Y[D]).split("/"),E=I.find(x=>x.index===D);E&&E.imgTex&&(Y[D]=`${P[0]}/${E.imgTex}`)}const N=f?[m]:[];return N.push(Y),F.length>0&&N.push(...F),X({tabInit:[f?[[i,1.5,10],[u,2,10],[A,3,10]]:[[i,1.5,10],[A,3,10]],p],tabLines:N,espcl:4.5,deltacl:.8,lgt:3})}function u1(V,b,h,r=1e-5,n=100){if(V(b)*V(h)>=0)throw new Error("La fonction doit changer de signe sur l'intervalle [a, b]");let C=V(b),y=V(h),f=b,i=C,A=h-b,u=A;for(let a=0;a<n;a++){y*i>0&&(f=b,i=C,A=u=h-b),Math.abs(i)<Math.abs(y)&&([b,h,f]=[h,f,h],[C,y,i]=[y,i,y]);const T=2*r*Math.abs(h)+.5*r,p=.5*(f-h);if(Math.abs(p)<=T||y===0)return{root:h,iter:a};if(Math.abs(u)>=T&&Math.abs(C)>Math.abs(y)){const $=y/C;let I,m;if(b===f)I=2*p*$,m=1-$;else{m=C/i;const H=y/i;I=$*(2*p*m*(m-H)-(h-b)*(H-1)),m=(m-1)*(H-1)*($-1)}I>0&&(m=-m),I=Math.abs(I),2*I<Math.min(3*p*m-Math.abs(T*m),Math.abs(u*m))?(u=A,A=I/m):A=u=p}else A=u=p;b=h,C=y,Math.abs(A)>T?h+=A:h+=p>=0?T:-T,y=V(h)}throw new Error("Maximum number of iterations exceeded")}export{X as a,u1 as b,m1 as c,f1 as d,o1 as e,x1 as t,l as v};

import{S as M}from"./main-Vl0czKSA.js";import{r as w}from"./exerciseMethods-CtbYPwln.js";import{am as D,r as j,y as x,p as A,aI as q,I as C,ah as G,cI as v,cQ as d,aH as g,cL as R,o as O,D as E,a1 as y}from"./embellissements-BYV7mIDn.js";import{g as S}from"./reperes-WwrVcExd.js";import{f as Q}from"./figureApigeom-Da_B6AP0.js";import{c as L}from"./aleatoires-BLhzzHLc.js";import{E as F}from"./Exercice-DtXhjCyI.js";import"./index-BUDQz6-w.js";import"katex";import"mathjs";import"crypto-js";import"seedrandom";import"decimal.js";import"earcut";import"roughjs";import"./generalStore-C3E9FHtR.js";import"./canStore-DaSrd7sp.js";import"./dateEtHoraires-yqKtvK1K.js";const ae="Construire des symétriques de points par rapport à un point",le="27/09/2024",ce=!0,he="custom",pe="67c96",ue={"fr-fr":["5G11-10"],"fr-ch":["9ES6-27","10ES2-14"]};function I(f,i){return f.x<i.x?"above left":f.x>i.x?"below right":f.y>i.y?"above left":"below right"}function _(f){for(const i of f)if(i.y<-8||i.y>8)return!1;return!0}class fe extends F{antecedents;labels;centres;exoCustomResultat;nbPoints;figuresApiGeom;constructor(){super(),this.exoCustomResultat=!0,this.nbQuestions=1,this.besoinFormulaireNumerique=["Type d'aide",4,`Quadrillages
Demi-droites en pointillés
Marques de compas
Aucune`],this.besoinFormulaire2Numerique=["Nombre de points à construire (5 maxi)",5],this.sup=1,this.sup2=3}nouvelleVersion(){const i=["//","///","x","O","|||"],p=["red","green","purple","blue","gray"];this.answers={},this.figuresApiGeom=[],this.nbPoints=D(1,5,this.sup2,3),this.antecedents=[],this.labels=[],this.centres=[];for(let e=0,u=0;e<this.nbQuestions&&u<20;){let a="",n=[];const b=[],h=[];let l=[];h.length=0,l.length=0,b.length=0,n.length=0;let o=[];do{o=[];for(let s=-8;s<8;s+=1)s!==0&&o.push({y:(j(2,8)+1)*(-1)**s,x:s});o=x(o),o=o.slice(0,this.nbPoints)}while(!_(o));this.labels[e]=Array.from(L(o.length,"Q",!0));const c=L(1,this.labels[e].join("")+"Q",!0)[0];n=x(o).map((s,t)=>A(s.x,s.y,this.labels[e][t])),this.centres[e]=A(0,0,c,"above");const r=[];for(let s=0;s<this.nbPoints;s++){const t=q(n[s],this.centres[e]);t.pointilles=2,t.color=C(p[s]),t.opacite=.8,r.push(t)}a=`${this.sup===1?"Placer":"Construire"} le${this.nbPoints>1?"s":""} symétrique${this.nbPoints>1?"s":""} $${this.nbPoints>1?this.labels[e].slice(0,this.nbPoints-1).join("',")+"'":this.labels[e][0]+"' "}$`+(this.nbPoints>1?` et $${this.labels[e][this.nbPoints-1]+"'"}$`:"")+(this.nbPoints>1?" respectifs ":""),a+=`${this.nbPoints>1?" des":" du"} point${this.nbPoints>1?"s":""} $${this.nbPoints>1?this.labels[e].slice(0,this.nbPoints-1).join(","):this.labels[e][0]+`$ par rapport au point $${c}$.`}$`+(this.nbPoints>1?` et $${this.labels[e][this.nbPoints-1]}$ par rapport au point $${c}$.<br>`:"<br>");const m=[];for(let s=0;s<this.nbPoints;s++){b[s]=G(n[s],this.centres[e],180);const t=v(this.centres[e],n[s],p[s]);t.pointilles=2,t.opacite=.8,m.push(t)}this.sup===1?h.push(S(-8,-8,8,8,"gray",.5,1,0)):this.sup===2?(a+=`Les demi-droites tracées en pointillés passent par $${c}$.<br>`,h.push(...r)):this.sup===3&&(a+=`Les cercles tracés en pointillés sont centrés en $${c}$.<br>`,h.push(...m)),h.push(new d(this.centres[e]),g(this.centres[e])),l.push(new d(this.centres[e]),g(this.centres[e]));for(let s=0;s<this.nbPoints;s++){h.push(new d(n[s]));const t=G(n[s],this.centres[e],180,n[s].nom+"'");t.positionLabel=I(t,n[s]),n[s].positionLabel=I(n[s],t);const N=R(n[s],t,p[s],i[s]),P=new d(t);P.color=C("red");const k=g(t),T=g(n[s]);h.push(T),l.push(P,k,N)}l=[...h,...l,...r],this.sup2===2&&(r.forEach(s=>{s.epaisseur=1,s.opacite=.8}),l.push(...r)),this.sup2===3&&(m.forEach(s=>{s.epaisseur=1,s.opacite=.8}),l.push(...m));const $={};if(this.sup===1&&Object.assign($,{snapGrid:!0,dx:1,dy:1}),this.questionJamaisPosee(e,c,this.labels.join())){if(this.interactif){this.figuresApiGeom[e]=new M(Object.assign($,{xMin:-10,yMin:-10,width:600,height:600})),this.figuresApiGeom[e].scale=1,this.figuresApiGeom[e].setToolbar({tools:["NAME_POINT","POINT_ON","POINT_INTERSECTION","CIRCLE_CENTER_POINT","RAY","UNDO","REDO","REMOVE"],position:"top"}),this.centres[e]=this.figuresApiGeom[e].create("Point",{x:0,y:0,isVisible:!0,isSelectable:!0,label:c}),this.antecedents[e]=[];for(let t=0;t<this.nbPoints;t++)this.antecedents[e][t]=this.figuresApiGeom[e].create("Point",{x:n[t].x,y:n[t].y,isFree:!1,isSelectable:!0,label:n[t].nom});if(this.sup===1&&this.figuresApiGeom[e].create("Grid",{xMin:-10,yMin:-10,xMax:10,yMax:10,stepX:1,stepY:1,color:"gray",axeX:!1,axeY:!1,labelX:!1,labelY:!1}),this.sup===2)for(let t=0;t<this.nbPoints;t++)this.figuresApiGeom[e].create("Ray",{point1:this.antecedents[e][t],point2:this.centres[e],isDashed:!0,color:"gray"});if(this.sup===3)for(let t=0;t<this.nbPoints;t++)this.figuresApiGeom[e].create("CircleCenterPoint",{center:this.figuresApiGeom[e].create("Point",{isVisible:!1,x:this.centres[e].x,y:this.centres[e].y}),point:this.antecedents[e][t],isDashed:!0,color:"gray"});this.figuresApiGeom[e].options.limitNumberOfElement.set("Point",1);const s=Q({exercice:this,i:e,figure:this.figuresApiGeom[e],defaultAction:"NAME_POINT"});this.listeQuestions[e]=a+"<br><br>"+s}else this.listeQuestions[e]=a+"<br><br>"+O(Object.assign({scale:.5,pixelsParCm:20},E([...h,...l])),h);this.listeCorrections[e]=O(Object.assign({scale:.5,pixelsParCm:20},E(l)),l),e++}u++}}correctionInteractive=i=>{this.answers===void 0&&(this.answers={}),this.answers[this.figuresApiGeom[i].id]=this.figuresApiGeom[i].json;const p=[],e=document.querySelector(`#feedbackEx${this.numeroExercice}Q${i}`);let u="";for(let a=0;a<this.nbPoints;a++){const{x:n,y:b}=w(this.antecedents[i][a],this.centres[i],180),l=Array.from(this.figuresApiGeom[i].elements.values()).filter(r=>r.type!=="pointer"&&(r.type==="Point"||r.type==="PointOnLine"||r.type==="PointOnCircle"||r.type==="PointIntersectionLL"||r.type==="PointIntersectionLC"||r.type==="PointIntersectionCC")),o=l.find(r=>r.label===`${this.labels[i][a]}'`),c=l.find(r=>y(n,r.x,.001)&&y(b,r.y,.001));o!=null?y(n,o.x,.001)&&y(b,o.y,.001)?(o.color="green",o.thickness=2,o.colorLabel="green",p.push("OK")):(o.color="red",o.thickness=2,o.colorLabel="green",u+=`Il y a  bien un point nommé $${this.antecedents[i][a].label}'$ mais ce n'est pas le symétrique de $${this.antecedents[i][a].label}$ !<br>`,p.push("KO")):(c!=null?(c.color="green",c.thickness=2,c.colorLabel="red",u+=`Le symétrique de $${this.antecedents[i][a].label}$ est bien construit mais il n'est pas nommé $${this.antecedents[i][a].label}'$ !<br>`):u+=`Il n'y a pas de point symétrique de $${this.antecedents[i][a].label}$ et il n'y a pas de point nommé $${this.antecedents[i][a].label}'$ !<br>`,p.push("KO"))}return e&&(e.innerHTML=u),this.figuresApiGeom[i].isDynamic=!1,this.figuresApiGeom[i].divButtons.style.display="none",this.figuresApiGeom[i].divUserMessage.style.display="none",p}}export{le as dateDePublication,fe as default,ce as interactifReady,he as interactifType,ue as refs,ae as titre,pe as uuid};

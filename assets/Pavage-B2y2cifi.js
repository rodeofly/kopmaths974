import{p as E,a3 as r,aa as v,ah as l,ce as C,a4 as x,A as z,ai as F,cd as D,T as G,C as H,S as J,a1 as O}from"./embellissements-BYV7mIDn.js";class K{type;polygones;barycentres;tracesCentres;numeros;coordonnees;Nx;Ny;echelle;fenetre;nb_polygones;constructor(){this.type=1,this.polygones=[],this.barycentres=[],this.tracesCentres=[],this.numeros=[],this.coordonnees=[],this.Nx=1,this.Ny=1,this.echelle=20,this.nb_polygones=0}construit(R=1,u=1,A=1,S=3){const T=function(y){let p,t;for(let X=0;X<y.length;X++){p=D(y[X]);for(let _=X+1;_<y.length;)t=D(y[_]),O(p.x,t.x,.1)&&O(p.y,t.y,.1)?y.splice(_,1):_++}};let i,e,h,m,g,I,o=0,s=0,a=0,n=0,M,f,c,P,b,k,d,j,w,Y,q,B;switch(i=E(0,0),e=E(S,0),R){case 1:h=r(i,e),m=l(h,i,-90),m=v(m,i,1.73205);for(let y=0;y<A;y++){for(let p=0;p<u;p++){M=C(i,e,3),f=l(M,i,60),c=l(M,i,-60),P=l(M,i,-120),this.polygones.push(M,f,c,P);for(const t of M.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of f.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of c.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of P.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);i=x(i,h),e=x(e,h)}i=x(i,r(-u*h.x,-2*h.y)),e=x(e,r(-u*h.x,-2*h.y)),i=x(i,m),e=x(e,m)}break;case 2:h=r(i,e),h=v(h,i,2),m=l(h,i,-90);for(let y=0;y<A;y++){for(let p=0;p<u;p++){M=C(i,e,4),f=l(M,i,90),c=l(M,i,-90),P=l(M,i,-180),this.polygones.push(M,f,c,P);for(const t of M.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of f.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of c.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of P.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);i=x(i,h),e=x(e,h)}i=x(i,r(-u*h.x,-2*h.y)),e=x(e,r(-u*h.x,-2*h.y)),i=x(i,m),e=x(e,m)}break;case 3:e=v(e,i,.8),h=r(i,e),h=v(h,i,2),m=l(h,i,-90),m=v(m,i,1.73205);for(let y=0;y<A;y++){for(let p=0;p<u;p++){g=F(e,i,30,1.1547),M=C(i,g,6),f=l(M,i,-120),c=x(M,h),P=x(f,h),this.polygones.push(M,f,c,P);for(const t of M.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of f.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of c.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of P.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);i=x(i,r(2*h.x,0)),e=x(e,r(2*h.x,0))}i=x(i,r(-u*2*h.x,m.y)),e=x(e,r(-u*2*h.x,m.y))}break;case 4:h=r(i,e),h=v(h,i,2.73205),m=l(h,i,-90);for(let y=0;y<A;y++){for(let p=0;p<u;p++){g=l(e,i,60),M=C(i,e,3),f=l(M,i,150),k=l(M,e,-150),d=l(M,e,60),w=l(f,g,150),Y=l(w,i,-60),q=l(f,e,60),B=l(k,i,-60),c=C(i,g,4),P=C(g,e,4),b=l(P,e,-150),j=l(c,i,150),this.polygones.push(M,f,c,P,b,k,d,j,w,Y,q,B);for(const t of M.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of f.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of q.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of B.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of c.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of P.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of b.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of k.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of d.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of j.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of w.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of Y.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);i=x(i,r(h.x,0)),e=x(e,r(h.x,0))}i=x(i,r(-u*h.x,m.y)),e=x(e,r(-u*h.x,m.y))}break;case 5:h=r(i,e),h=v(h,i,2.4142),m=l(h,i,-90);for(let y=0;y<A;y++){for(let p=0;p<u;p++){g=l(i,e,-135),M=C(i,e,8),f=C(e,i,8),c=x(M,h),P=x(f,h),b=C(g,e,4),k=x(b,h),d=x(b,m),j=x(k,m),this.polygones.push(M,f,c,P,b,k,d,j);for(const t of M.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of f.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of c.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of P.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of b.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of k.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of d.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of j.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);i=x(i,r(2*h.x,0)),e=x(e,r(2*h.x,0))}i=x(i,r(-u*2*h.x,2*m.y)),e=x(e,r(-u*2*h.x,2*m.y))}break;case 6:h=r(i,e),m=l(h,i,60),h=r(h.x+m.x,h.y+m.y),m=l(h,i,-60);for(let y=0;y<A;y++){for(let p=0;p<u;p++){g=l(i,e,120),I=l(e,g,60),M=z(i,e,g,I),f=l(M,g,-60),c=l(M,i,60),P=x(f,h),b=x(M,h),k=x(c,h),d=x(M,m),j=x(f,m),w=x(c,m),this.polygones.push(M,f,c,P,b,k,d,j,w);for(const t of M.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of f.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of c.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of P.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of b.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of k.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of d.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of j.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of w.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);i=x(i,r(m.x+h.x,m.y+h.y)),e=x(e,r(m.x+h.x,m.y+h.y))}i=x(i,r(-u*(m.x+h.x)+2*m.x-h.x,2*m.y-h.y)),e=x(e,r(-u*(m.x+h.x)+2*m.x-h.x,2*m.y-h.y))}break;case 7:default:h=r(i,e),h=v(h,i,2),m=l(h,i,-60);for(let y=0;y<A;y++){for(let p=0;p<u;p++){g=l(i,e,-120),I=l(e,g,-120),M=C(i,e,6),f=C(g,e,3),c=l(f,g,180),P=x(c,m),b=x(f,m),k=l(M,e,180),this.polygones.push(M,f,c,k,b,P);for(const t of M.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of f.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of c.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of P.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of b.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);for(const t of k.listePoints)o=Math.min(o,t.x),a=Math.max(a,t.x),s=Math.min(s,t.y),n=Math.max(n,t.y);i=x(i,h),e=x(e,h)}i=x(i,r(-u*h.x+2*m.x-h.x,2*m.y-h.y)),e=x(e,r(-u*h.x+2*m.x-h.x,2*m.y-h.y))}break}this.echelle=80/Math.sqrt(a-o),this.fenetre={xmin:o-.5,ymin:s-.5,xmax:a+.5,ymax:n+.5,pixelsParCm:this.echelle,scale:this.echelle/30},T(this.polygones),this.nb_polygones=this.polygones.length;for(let y=0;y<this.nb_polygones;y++)this.barycentres.push(D(this.polygones[y])),this.tracesCentres.push(G(this.barycentres[y],"blue")),this.tracesCentres[y].opacite=.5,this.tracesCentres[y].taille=2,this.coordonnees.push([this.barycentres[y].x,this.barycentres[y].y]),this.numeros.push(H(J(y+1),this.barycentres[y].x+.5,this.barycentres[y].y,0,"black",50/this.echelle,"milieu",!0));return this}}function U(){return new K}export{K as P,U as p};

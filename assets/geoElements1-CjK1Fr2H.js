import{S as c}from"./main-Vl0czKSA.js";import{P as p}from"./exerciseMethods-CtbYPwln.js";import{f as h}from"./figureApigeom-Da_B6AP0.js";import{y}from"./embellissements-BYV7mIDn.js";import g from"./ExerciceSimple-CWWOU0FG.js";import"./index-BUDQz6-w.js";import"katex";import"mathjs";import"crypto-js";import"seedrandom";import"./generalStore-C3E9FHtR.js";import"./canStore-DaSrd7sp.js";import"decimal.js";import"earcut";import"roughjs";import"./Exercice-DtXhjCyI.js";function $(i,n){let t=[...n.elements.values()].filter(e=>e.type!=="pointer").filter(e=>e.type===i.type);switch(i.type){case"Point":return t=t.filter(e=>e.type==="Point"),t=t.filter(e=>e.label===i.label),{isValid:t.length===1,result:t,type:i.type};case"Line":return t=t.filter(e=>e.type==="Line"),t=t.filter(e=>e.point1.label===i.point1&&e.point2.label===i.point2||e.point1.label===i.point2&&e.point2.label===i.point1),{isValid:t.length===1,result:t,type:i.type};case"Segment":return t=t.filter(e=>e.type==="Segment"),t=t.filter(e=>e.point1.label===i.point1&&e.point2.label===i.point2||e.point1.label===i.point2&&e.point2.label===i.point1),{isValid:t.length===1,result:t,type:i.type};case"Ray":return t=t.filter(e=>e.type==="Ray"),t=t.filter(e=>e.point1.label===i.point1&&e.point2.label===i.point2),{isValid:t.length===1,result:t,type:i.type};case"Circle":return t=t.filter(e=>e.type==="Circle"),t=t.filter(e=>e.center.label===i.center&&e.radius===i.radius),{isValid:t.length===1,result:t,type:i.type};case"CircleCenterPoint":return t=t.filter(e=>e.type==="CircleCenterPoint"),t=t.filter(e=>e.center.label===i.center&&e.radius===i.radius),{isValid:t.length===1,result:t,type:i.type};default:t=[]}return{isValid:!1,result:[],type:""}}const V="Tracer segment, droite et demi-droite (depuis notation)",K="29/01/2024",F=!0,N="custom",D={"fr-fr":["elements1"],"fr-ch":[]},_="6fdab";class l{type;nameA;nameB;constructor(n,r,t){this.type=n,this.nameA=r,this.nameB=t}checkExist(n){return $({type:this.type,point1:this.nameA,point2:this.nameB},n)}create(n){const r=[...n.elements.values()].filter(e=>e instanceof p&&e.label===this.nameA)[0],t=[...n.elements.values()].filter(e=>e instanceof p&&e.label===this.nameB)[0];n.create(this.type,{point1:r,point2:t})}get point1(){return this.nameA}get point2(){return this.nameB}get descriptionConstruction(){return this.type==="Segment"?`On trace le segment $[${this.nameA+this.nameB}]$.`:this.type==="Ray"?`On trace la demi-droite $[${this.nameA+this.nameB})$.`:`On trace la droite $(${this.nameA+this.nameB})$.`}get description(){return this.type==="Segment"?`le segment d'extr√©mit√©s $${this.nameA}$ et $${this.nameB}$`:this.type==="Ray"?`la demi-droite d'origine $${this.nameA}$ passant par $${this.nameB}$`:`la droite passant par les points $${this.nameA}$ et $${this.nameB}$`}get notation(){return this.type==="Segment"?`$[${this.nameA+this.nameB}$]`:this.type==="Ray"?`$[${this.nameA+this.nameB}$)`:`$(${this.nameA+this.nameB}$)`}get wrongFeedback(){return this.type==="Segment"?`Le segment $[${this.nameA+this.nameB}$] n'existe pas.`:this.type==="Ray"?`La demi-droite $[${this.nameA+this.nameB}$) n'existe pas.`:`La droite $(${this.nameA+this.nameB}$) n'existe pas.`}}class Q extends g{figure;nameA;nameB;nameC;traits;constructor(){super(),this.typeExercice="simple",this.nbQuestions=1,this.nbQuestionsModifiable=!1,this.reponse="",this.formatChampTexte="none",this.exoCustomResultat=!0}nouvelleVersion(){this.figure=new c({xMin:0,yMin:0,width:800,height:500,border:!0}),this.traits=[];const n=65+Math.floor(Math.random()*22);this.nameA=String.fromCharCode(n),this.nameB=String.fromCharCode(n+1),this.nameC=String.fromCharCode(n+2),this.figure.options.labelAutomaticBeginsWith=this.nameA;const r=y(["Segment","Line","Ray"]);this.traits.push(new l(r[0],this.nameA,this.nameB)),this.traits.push(new l(r[1],this.nameB,this.nameC)),this.traits.push(new l(r[2],this.nameC,this.nameA));let t="";this.sup?t=`Tracer ${this.traits[0].description},<br>${this.traits[1].description}<br>et ${this.traits[2].description}.`:t=`Tracer ${this.traits[0].notation}, ${this.traits[1].notation} et ${this.traits[2].notation}.`,this.figure.setToolbar({tools:["POINT","NAME_POINT","SEGMENT","LINE","RAY","DRAG","REMOVE","UNDO","REDO"],position:"top",nbCols:9});const e=h({exercice:this,i:0,figure:this.figure,defaultAction:"POINT"}),o=b(this.traits),a=h({animation:!0,exercice:this,i:0,idAddendum:"Correction",figure:o});this.question=t+e,this.correction=a}correctionInteractive=()=>{const n=[];this.answers==null&&(this.answers={}),this.answers[this.figure.id]=this.figure.json;let r="";const t=document.querySelector(`#feedbackEx${this.numeroExercice}Q0`),e=document.querySelector(`#resultatCheckEx${this.numeroExercice}Q0`),o=[...this.figure.elements.values()].filter(s=>s instanceof p&&s.type!=="pointer"),a=o.filter(s=>s.label===this.nameA),u=o.filter(s=>s.label===this.nameB),m=o.filter(s=>s.label===this.nameC);if(a.length>1||u.length>1||m.length>1)r="Il ne doit pas y avoir plusieurs points avec le m√™me nom",n.push("KO","KO","KO");else for(const s of this.traits){const{isValid:f,result:d}=s.checkExist(this.figure);f?(n.push("OK"),d[0].color="green"):(n.push("KO"),r+=s.wrongFeedback+"<br><br>")}return t&&(t.innerHTML=r||"Bravo !"),e&&(e.innerHTML=n.every(s=>s==="OK")?"üòé":"‚òπÔ∏è"),this.figure.setToolbar({position:"top",tools:["DRAG","DESCRIPTION"]}),n}}function b(i){const n=new c({xMin:0,yMin:0,width:800,height:500,border:!0});n.setToolbar({position:"top",tools:["RESTART","PLAY_SKIP_BACK","PLAY","PLAY_SKIP_FORWARD","PAUSE"]});const r=n.create("TextByPosition",{anchor:"bottomLeft",backgroundColor:"white",text:"",x:10,y:15});n.create("Point",{x:3,y:3,label:i[0].point1}),n.create("Point",{x:12,y:4,label:i[0].point2}),n.create("Point",{x:8,y:10,label:i[1].point2});for(const t of i)r.text=t.descriptionConstruction,t.create(n),n.saveState();return n}export{K as dateDePublication,Q as default,F as interactifReady,N as interactifType,D as refs,V as titre,_ as uuid};

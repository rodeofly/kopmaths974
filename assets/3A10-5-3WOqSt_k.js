import{E,K as M}from"./Exercice-DtXhjCyI.js";import{h as C}from"./gestionInteractif-DujZpSu8.js";import{a as N}from"./questionMathLive-DdRvWqlN.js";import{am as D,c as I,g as P,r as v,a as w,e as b,s as n,m as $,aB as S,l as q}from"./embellissements-BYV7mIDn.js";import"./exerciseMethods-CtbYPwln.js";import"./index-BUDQz6-w.js";import"katex";import"mathjs";import"crypto-js";import"seedrandom";import"decimal.js";import"./comparisonFunctions-B45ZZ3C7.js";import"./compute-engine.min.umd-BwAhpA7x.js";import"./Hms-u2AUyU1C.js";import"./ListeDeroulanteElement-CXmzV-cr.js";import"./tableauMathlive-xx-nDjq0.js";import"./canStore-DaSrd7sp.js";import"./generalStore-C3E9FHtR.js";import"earcut";import"roughjs";import"./sizeTools-DfTC1Dgv.js";import"./time-DMC-jnVL.js";import"./AjouteTableauMathlive-Bz24QHd3.js";const pe="Recourir √† une d√©composition en facteurs premiers dans des cas simples",me=!0,fe="mathLive",$e=!0,he="AMCOpen",be="29/08/2022",de="16/09/2024",xe="eee79",ke={"fr-fr":["3A10-5"],"fr-ch":["9NO4-28"]};function B(f){const p=f.split("\\times"),a=[];for(const s of p)if(s.includes("^")){const e=s.split("^"),i=Number(e[0]),t=Number(e[1].replace("{","").replace("}",""));if(isNaN(i)||isNaN(t)||!Number.isInteger(i)||!Number.isInteger(t))return[];const r=a.find(o=>o[0]===i);r==null?a.push([i,t]):r[1]+=t}else{const e=Number(s),i=1;if(isNaN(e)||isNaN(i)||!Number.isInteger(e)||!Number.isInteger(i))return[];const t=a.find(r=>r[0]===e);t==null?a.push([e,i]):t[1]+=i}return a}function h(f,p,a,s,e,i){let t="",r="";if(p!==0&&(t+=`${f}`,r+=`${f}`,p!==1)){for(let o=1;o<p;o++)t+=`\\times${f}`;r+=`^${p}`}if(s!==0&&(t+=p===0?"":"\\times",r+=p===0?"":"\\times",t+=`${a}`,r+=`${a}`,s!==1)){for(let o=1;o<s;o++)t+=`\\times${a}`;r+=`^${s}`}if(i!==0&&(t+=`\\times${e}`,r+=`\\times${e}`,i!==1)){for(let o=1;o<i;o++)t+=`\\times${e}`;r+=`^${i}`}return[t,r]}function V(f,p){if(!(Array.isArray(f)&&Array.isArray(p)))return{isOk:!1,feedback:"La r√©ponse n'a pas la forme attendue"};let a=1;for(const e of f)a*=e[0]**e[1];let s=1;for(const e of p)s*=e[0]**e[1];if(a!==s)return{isOk:!1,feedback:`La d√©composition saisie ne donne pas $${b(s,0)}$ mais $${b(a,0)}$.`};for(const e of f){const i=e[0],t=e[1],r=p.find(x=>x[0]===i);if(r==null)return{isOk:!1,feedback:`$${b(i,0)}$ n'est pas un facteur premier.`};const o=r[1];if(t!==o)return{isOk:!1,feedback:`Le nombre de facteur $${i}$ dans la d√©composition est incorrect.`}}return{isOk:!0,feedback:""}}class Me extends E{constructor(){super(),this.nbQuestions=4,this.besoinFormulaireTexte=["Nombres premiers utilis√©s ",`Nombres s√©par√©s par des tirets :
1 : 2, 3 et 5
2 : 2, 3 et 7
3 : 2, 5 et 7
4 : 3, 5 et 7
5 : Au moins un nombre premier entre 10 et 20
6 : M√©lange`],this.besoinFormulaire2Numerique=["Puissance la plus √©lev√©e possible (entre 2 et 5)",3],this.sup=6,this.sup2=4}nouvelleVersion(){this.sup2=D(1,3,parseInt(this.sup2),3),this.consigne="D√©composer, en produit de facteurs premiers, ",this.consigne+=this.nbQuestions===1||I.isAmc?"le nombre suivant.":"les nombres suivants.";const p=P({saisie:this.sup,min:1,max:5,melange:6,defaut:6,nbQuestions:this.nbQuestions}),a=D(2,5,this.sup2,3);for(let s=0,e,i,t,r,o,x,O=0,u,c,l,m;s<this.nbQuestions&&O<50;){switch(u=v(0,a),c=v(0,a,u),l=v(0,a,[u,c]),p[s]){case 1:m=Math.pow(2,u)*Math.pow(3,c)*Math.pow(5,l),e=`$${b(m)}`,i=e+`${n(2)}=${n(1)}`+$(h(2,u,3,c,5,l)[0],"blue")+`${n(2)}=${n(1)}`+$(h(2,u,3,c,5,l)[1])+"$",e+="$"+N(this,s,M.clavierFullOperations,{texteAvant:`${n(2)}=`});break;case 2:m=Math.pow(2,u)*Math.pow(3,c)*Math.pow(7,l),e=`$${b(m)}`,i=e+`${n(2)}=${n(1)}`+$(h(2,u,3,c,7,l)[0],"blue")+`${n(2)}=${n(1)}`+$(h(2,u,3,c,7,l)[1])+"$",e+="$"+N(this,s,M.clavierFullOperations,{texteAvant:`${n(2)}=`});break;case 3:m=Math.pow(2,u)*Math.pow(5,c)*Math.pow(7,l),e=`$${b(m)}`,i=e+`${n(2)}=${n(1)}`+$(h(2,u,5,c,7,l)[0],"blue")+`${n(2)}=${n(1)}`+$(h(2,u,5,c,7,l)[1])+"$",e+="$"+N(this,s,M.clavierFullOperations,{texteAvant:`${n(2)}=`});break;case 4:m=Math.pow(3,u)*Math.pow(5,c)*Math.pow(7,l),e=`$${b(m)}`,i=e+`${n(2)}=${n(1)}`+$(h(3,u,5,c,7,l)[0],"blue")+`${n(2)}=${n(1)}`+$(h(3,u,5,c,7,l)[1])+"$",e+="$"+N(this,s,M.clavierFullOperations,{texteAvant:`${n(2)}=`});break;case 5:default:t=w([2,3,5]),r=w([2,3,5],[t]),t>r&&(o=t,t=r,r=o),o=w([11,13,17,19]),m=Math.pow(o,1)*Math.pow(t,c)*Math.pow(r,l),e=`$${b(m)}`,x=h(t,c,r,l,o,1),i=e+`${n(2)}=${n(1)}`+$(x[0],"blue")+`${n(2)}=${n(1)}`+$(x[1])+"$",e+="$"+N(this,s,M.clavierFullOperations,{texteAvant:`${n(2)}=`});break}const y=S(m);C(this,s,{reponse:{value:y},callback:(g,F)=>{let d,A="";const L=document.querySelector(`#champTexteEx${g.numeroExercice}Q${F}`);if(L==null)return{isOk:!1,feedback:"",score:{nbBonnesReponses:0,nbReponses:0}};let k=L.getValue();if(k=k.replaceAll("¬≤","^2").replaceAll("¬≥","^3").replaceAll("^{}","").replaceAll("^{^","^{"),k==null||k==="")d=!1,A="";else{const R=B(k);if(R.length===0)d=!1,A="La r√©ponse n'a pas la forme attendue";else{const T=V(R,y);d=T.isOk,A=String(T.feedback)}}const Q=document.querySelector(`#resultatCheckEx${g.numeroExercice}Q${F}`);return Q!=null&&(Q.innerHTML=d?"üòé":"‚òπÔ∏è"),{isOk:d,feedback:A,score:{nbBonnesReponses:d?1:0,nbReponses:1}}}}),this.questionJamaisPosee(s,u,c,l)&&(this.listeQuestions[s]=e,this.listeCorrections[s]=i,s++),O++}q(this)}}export{$e as amcReady,he as amcType,de as dateDeModifImportante,be as dateDePublication,Me as default,B as extraitLaDecomposition,me as interactifReady,fe as interactifType,ke as refs,pe as titre,xe as uuid};

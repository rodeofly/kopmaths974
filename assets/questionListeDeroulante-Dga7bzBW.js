import"./ListeDeroulanteElement-CXmzV-cr.js";function p(t,n,o,l,e){if(!t.interactif)return"";l=l!==void 0?!!l:!1,e=e?` style="${e}"`:"",t?.autoCorrection[n]?.reponse?.param?.formatInteractif!=="listeDeroulante"&&(t?.autoCorrection==null&&(t.autoCorrection=[]),t?.autoCorrection[n]==null&&(t.autoCorrection[n]={}),t?.autoCorrection[n].reponse==null&&(t.autoCorrection[n].reponse={}),t.autoCorrection[n].reponse.param==null&&(t.autoCorrection[n].reponse.param={}),t.autoCorrection[n].reponse.param.formatInteractif="listeDeroulante");let u=`<liste-deroulante class="mx-2 listeDeroulante" id="ex${t.numeroExercice}Q${n}"${e} choices="`+encodeURIComponent(JSON.stringify(o))+`" choix0="${l}"></liste-deroulante>`;return u+=`<span id="resultatCheckEx${t.numeroExercice}Q${n}"></span>`,u}function f(t,n,o,l,e){if(t==null||o==null||l==null){window.notify("Il manque des paramètres pour transformer la liste déroulante en qcm",{exercice:t,question:n,choix:o,reponse:l});return}if(!o.some(r=>r.value===l)){window.notify("La réponse doit faire partie de la liste !",{choix:o,reponse:l});return}const u=e?.vertical??!0,s=e?.ordered??!0;(t.autoCorrection==null||!Array.isArray(t.autoCorrection))&&(t.autoCorrection=[]),t.autoCorrection[n]==null&&(t.autoCorrection[n]={}),t.autoCorrection[n]={},t.autoCorrection[n].options={vertical:u,ordered:s,...e},t.autoCorrection[n].propositions=[];for(let r=0;r<o.length;r++)if(o[r].value!=="")if(o[r].label!=null)t.autoCorrection[n].propositions.push({texte:o[r].label,statut:o[r].value===l});else if(o[r].latex!=null)t.autoCorrection[n].propositions.push({texte:`$${o[r].latex}$`,statut:o[r].value===l});else if(o[r].svg!=null){const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","-10 -10 20 20"),a.classList.add("svgChoice"),a.style.display="inline-block",a.style.width="20px",a.style.height="20px",a.style.verticalAlign="middle",a.innerHTML=o[r].svg??"",t.autoCorrection[n].propositions.push({texte:a.outerHTML,statut:o[r].value===l}),setTimeout(()=>{document.removeChild(a)},0)}else if(o[r].image!=null){const a=document.createElement("img");a.src=o[r].image??o[r].value,a.style.width="30px",a.style.height="30px",t.autoCorrection[n].propositions.push({texte:a.outerHTML,statut:o[r].value===l})}else console.warn("La liste déroulante à convertir en qcm contient un choix de type inconnu",JSON.stringify(o[r]))}export{p as c,f as l};

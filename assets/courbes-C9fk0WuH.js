import{O as E,H as L,p as h,E as X,I as S,J as D,K as N,A as w,L as Y,D as T,M as P,N as q,k as f,C,c as O,Q as A,R as I}from"./embellissements-BYV7mIDn.js";import{R as B}from"./reperes-WwrVcExd.js";class G extends E{x;y;xscale;yscale;textAbs;textOrd;stringColor;constructor(t,s,e=1,i=1,r="red",l="",n=""){super(),this.x=t,this.y=s,this.xscale=e,this.yscale=i,this.textAbs=l,this.textOrd=n,this.stringColor=r}svg(t){const s=this.x/this.xscale,e=this.y/this.yscale,i=h(s,e),r=h(s,0),l=h(0,e),n=f(r,i,this.stringColor),o=f(i,l,this.stringColor);return n.styleExtremites="->",o.styleExtremites="->",n.pointilles=5,o.pointilles=5,`	
`+n.svg(t)+`	
`+o.svg(t)+`	
`+(this.textAbs!=null?C(this.textAbs,s,-1*20/t,0,this.stringColor).svg(t):"")+`	
`+(this.textOrd!=null?C(this.textOrd,-1*20/t,e,0,this.stringColor).svg(t):"")}tikz(){const t=this.x/this.xscale,s=this.y/this.yscale,e=h(t,s),i=h(t,0),r=h(0,s),l=f(i,e,this.stringColor),n=f(e,r,this.stringColor);return l.styleExtremites="->",n.styleExtremites="->",l.pointilles=5,n.pointilles=5,`	
`+l.tikz()+`	
`+n.tikz()+`	
`+C(this.textAbs,t,-1/O.scale,0,this.stringColor).tikz()+`	
`+C(this.textOrd,-1/O.scale,s,0,this.stringColor).tikz()}svgml(t,s){const e=this.x/this.xscale,i=this.y/this.yscale,r=h(this.x,this.y),l=h(e,0),n=h(0,i),o=f(l,r,this.stringColor),a=f(r,n,this.stringColor);return o.styleExtremites="->",a.styleExtremites="->",o.pointilles=5,a.pointilles=5,`	
`+o.svgml(t,s)+`	
`+a.svgml(t,s)+`	
`+C(this.textAbs,e,-1*20/t,0,this.stringColor).svg(t)+`	
`+C(this.textOrd,-1*20/t,i,0,this.stringColor).svg(t)}tikzml(t){const s=this.x/this.xscale,e=this.y/this.yscale,i=h(this.x,this.y),r=h(s,0),l=h(0,e),n=f(r,i,this.stringColor),o=f(i,l,this.stringColor);return n.styleExtremites="->",o.styleExtremites="->",n.pointilles=5,o.pointilles=5,`	
`+n.tikzml(t)+`	
`+o.tikzml(t)+`	
`+C(this.textAbs,s,-1/O.scale,0,this.stringColor).tikz()+`	
`+C(this.textOrd,-1/O.scale,e,0,this.stringColor).tikz()}}function tt(c,t,s=1,e=1,i="red",r="",l=""){return new G(c,t,s,e,i,r,l)}class H extends E{x;y;xscale;yscale;textAbs;textOrd;stringColor;constructor(t,s,e,i,r="black",l,n){super(),this.x=t,this.y=s,this.xscale=e,this.yscale=i,this.textAbs=n,this.textOrd=l,this.stringColor=r,this.bordures=[-2,-1.5,t+2,s>0?s+1:0]}svg(t){const s=this.x/this.xscale,e=this.y/this.yscale,i=h(s,e),r=h(s,0),l=h(0,e),n=f(i,r,this.stringColor),o=f(l,i,this.stringColor);return n.styleExtremites="->",o.styleExtremites="->",n.pointilles=5,o.pointilles=5,`	
`+n.svg(t)+`	
`+o.svg(t)+`	
`+(this.textAbs!=null?C(this.textAbs,s,-1*20/t,0,this.stringColor).svg(t):"")+`	
`+(this.textOrd!=null?C(this.textOrd,-1*20/t,e,0,this.stringColor).svg(t):"")}tikz(){const t=this.x/this.xscale,s=this.y/this.yscale,e=h(t,s),i=h(t,0),r=h(0,s),l=f(e,i,this.stringColor),n=f(r,e,this.stringColor);return l.styleExtremites="->",n.styleExtremites="->",l.pointilles=5,n.pointilles=5,`	
`+l.tikz()+`	
`+n.tikz()+`	
`+C(this.textAbs,t,-1/O.scale,0,this.stringColor).tikz()+`	
`+C(this.textOrd,-1/O.scale,s,0,this.stringColor).tikz()}svgml(t,s){const e=this.x/this.xscale,i=this.y/this.yscale,r=h(e,i),l=h(e,0),n=h(0,i),o=f(r,l,this.stringColor),a=f(n,r,this.stringColor);return o.styleExtremites="->",a.styleExtremites="->",o.pointilles=5,a.pointilles=5,`	
`+o.svgml(t,s)+`	
`+a.svgml(t,s)+`	
`+C(this.textAbs,e,-1*20/t,0,this.stringColor).svg(t)+`	
`+C(this.textOrd,-1*20/t,i,0,this.stringColor).svg(t)}tikzml(t){const s=this.x/this.xscale,e=this.y/this.yscale,i=h(s,e),r=h(s,0),l=h(0,e),n=f(i,r,this.stringColor),o=f(l,i,this.stringColor);return n.styleExtremites="->",o.styleExtremites="->",n.pointilles=5,o.pointilles=5,`	
`+n.tikzml(t)+`	
`+o.tikzml(t)+`	
`+C(this.textAbs,s,-1/O.scale,0,this.stringColor).tikz()+`	
`+C(this.textOrd,-1/O.scale,e,0,this.stringColor).tikz()}}function st(c,t,s,e,i="black",r,l){return new H(c,t,s,e,i,r,l)}class V extends E{stringColor;f;usePgfplots;xmin;xmax;ymin;ymax;samples=100;xunite;yunite;epaisseur;fLatex;constructor(t,{repere:s,color:e="black",epaisseur:i=2,step:r=!1,xMin:l,xMax:n,yMin:o,yMax:a,xUnite:m=1,yUnite:p=1,usePgfplots:d=!1,fLatex:k}={}){super(),this.objets=[],this.usePgfplots=d,this.epaisseur=i,this.fLatex=k,s==null&&(window.notify("Erreur dans Courbe : Il faut préciser le repère dans lequel tracer la courbe",{repere:s}),s=new B({xMin:-10,xMax:10,yMin:-10,yMax:10}));const z=l??(l=s.xMin??0),v=n??(n=s.xMax??0),u=o??(o=s.yMin??0),g=a??(a=s.yMax??0);this.xmin=z,this.xmax=v,this.ymin=u,this.ymax=g,this.bordures=s?.bordures??[0,0,0,0],this.stringColor=e;let x,y;x=s.xUnite,y=s.yUnite,isNaN(x)&&(x=m),isNaN(y)&&(y=p),this.xunite=x,this.yunite=y;let b=[],j,$;r?j=Number(r):j=.2/m;for(let M=z;L(M,n??10);M+=j){M>v&&(M=v);const U=Number(t(M));isFinite(U)?t(M)<g+1&&t(M)>u-1?b.push(h(M*x,t(M)*y)):b.length>1&&($=X([...b],e),$.epaisseur=i,this.objets.push($),b=[]):M+=.05}b.length>1&&($=X([...b],e),$.epaisseur=i,this.objets.push($))}svg(t){let s="";if(this.objets==null)return s;for(const e of this.objets)s+=`
	`+e.svg(t);return s}tikz(t,s){if(this.usePgfplots&&this.fLatex){let e=S(this.stringColor)[1]||"black";e=e.replace(/[{}]/g,"");const i=(this.xmin*this.xunite).toFixed(3),r=(this.xmax*this.xunite).toFixed(3),l=(t!==void 0?t*20:this.ymin*this.yunite*20).toFixed(3),n=(s!==void 0?s*20:this.ymax*this.yunite*20).toFixed(3);return`\\addplot[color=${e},line width=${this.epaisseur/2}pt,domain=${i}:${r},restrict y to domain=${l}:${n},samples=${this.samples}] {${this.fLatex}};
`}else{let e="";if(this.objets==null)return e;for(const i of this.objets)e+=`
	`+i.tikz();return e}}svgml(t,s){let e="";if(this.objets==null)return e;for(const i of this.objets)typeof i.svgml>"u"?e+=`
	`+i.svg(t):e+=`
	`+i.svgml(t,s);return e}tikzml(t){let s="";if(this.objets==null)return s;for(const e of this.objets)typeof e.tikzml>"u"?s+=`
	`+e.tikz():s+=`
	`+e.tikzml(t);return s}}function R(c,{repere:t,color:s="black",epaisseur:e=2,step:i=!1,xMin:r,xMax:l,yMin:n,yMax:o,xUnite:a=1,yUnite:m=1,usePgfplots:p=!1,fLatex:d}={}){return new V(c,{repere:t,color:s,epaisseur:e,step:i,xMin:r,xMax:l,yMin:n,yMax:o,xUnite:a,yUnite:m,usePgfplots:p,fLatex:d})}class J extends E{constructor(t,{repere:s,color:e="black",couleurDeRemplissage:i="blue",epaisseur:r=2,step:l=!1,a:n=0,b:o=1,opacite:a=.5,hachures:m=0}={}){super(),this.objets=[];const p=s?.yMin??-10,d=s?.yMax??10,k=s?.xUnite??1,z=s?.yUnite??1,v=[];let u;l?u=Number(l):u=.2/k;for(let x=n;L(x,o);x+=u)x>o&&(x=o),isFinite(t(x))?t(x)<d+1&&t(x)>p-1?v.push(h(x*k,t(x)*z)):window.notify("Erreur dans Integrale : Il semble que la fonction ne soit pas continue sur l'intervalle",{f:t,a:n,b:o}):x+=.05;v.push(h(o*k,t(o)*z),h(o*k,0),h(n*k,0));const g=w([...v],e);g.epaisseur=r,g.couleurDeRemplissage=S(i),g.opaciteDeRemplissage=a,g.hachures=m!==-1?q(m):!1,this.bordures=s?.bordures}svg(t){let s="";if(this.objets==null)return s;for(const e of this.objets)s+=`
	`+e.svg(t);return s}tikz(){let t="";if(this.objets==null)return t;for(const s of this.objets)t+=`
	`+s.tikz();return t}svgml(t,s){let e="";if(this.objets==null)return e;for(const i of this.objets)typeof i.svgml>"u"?e+=`
	`+i.svg(t):e+=`
	`+i.svgml(t,s);return e}tikzml(t){let s="";if(this.objets==null)return s;for(const e of this.objets)typeof e.tikzml>"u"?s+=`
	`+e.tikz():s+=`
	`+e.tikzml(t);return s}}function et(c,{repere:t,color:s="black",couleurDeRemplissage:e="blue",epaisseur:i=2,step:r=!1,a:l=0,b:n=1,opacite:o=.5,hachures:a=0}={}){return new J(c,{repere:t,color:s,couleurDeRemplissage:e,epaisseur:i,step:r,a:l,b:n,opacite:o,hachures:a})}class it extends E{aire;constructor(t,{xMin:s,xMax:e,pas:i=1,sup:r=!1,colorPositif:l="red",colorNegatif:n="blue"}){super(),this.objets=[];const o=[],a=[];for(let u=0;u<(e-s)/i;u++){a[u]=[];for(let g=0;g<5;g++){const x=s+u*i+g*i/5;D(t(x)/i,.05)?a[u].push(Math.round(t(x)/i)*i):a[u].push(r?Math.ceil(t(x)/i)*i:Math.floor(t(x)/i)*i)}}for(let u=0;u<a.length-1;u++)a[u].push(a[u+1][0]);D(t(e)/i,.05)?a[a.length-1].push(Math.round(t(e)/i)*i):a[a.length-1].push(r?Math.ceil(t(e)/i)*i:Math.floor(t(e)/i)*i);for(let u=0;u<a.length;u++){const g=s+u*i,x=r?Math.max(...a[u]):Math.min(...a[u]);if(N(a[u])){const y=w([h(g,0),h(g,x),h(g+i,x),h(g+i,0)],x>0?l:n);y.couleurDeRemplissage=S(x>0?l:n),o.push(y)}else{const y=r?l:n,b=w([h(g,0),h(g,x),h(g+i,x),h(g+i,0)],y);b.couleurDeRemplissage=S(y),o.push(b)}}let m=[],p=h(0,0);for(;o.length>0;){const u=[o[0].listePoints[0],o[0].listePoints[1],o[0].listePoints[2]];m=o[0].color.slice();const g=o.shift();for(g!=null&&(p=g.listePoints[3]);o.length>0&&o[0].couleurDeRemplissage[0]===m[0];){u.push(o[0].listePoints[1],o[0].listePoints[2]);const b=o.shift();b!=null&&(p=b.listePoints[3])}if(o.length===0){u.push(p);const b=Y(u),j=w(b.map($=>h($.x,$.y)));j.color=j.bordures[1]<0&&j.bordures[3]===0?S(n):S(l),j.couleurDeRemplissage=j.color,this.objets.push(j);break}u.push(p);const x=Y(u),y=w(x.map(b=>h(b.x,b.y)));if(y.color=y.bordures[1]<0&&y.bordures[3]===0?S(n):S(l),y.couleurDeRemplissage=y.color,this.objets.push(y),o.length===1){this.objets.push(o[0]),o.length=0;break}}const{xmin:d,xmax:k,ymin:z,ymax:v}=T(this.objets,{rxmax:0,rxmin:0,rymax:0,rymin:0});this.bordures=[d,k,z,v],this.aire={negative:0,positive:0};for(const u of this.objets)u.bordures[1]<0&&u.bordures[3]===0?this.aire.negative+=u.aire:this.aire.positive+=u.aire}}class nt extends E{xStart;yStart;listeOfTriplets;constructor({xStart:t=0,yStart:s=0,listeOfTriplets:e=[[[1,1],[-1,-1],[1,1]]],color:i="black",epaisseur:r=2,opacite:l=1}){super(),this.color=S(i),this.opacite=l,this.epaisseur=r,this.xStart=t,this.yStart=s,this.listeOfTriplets=e}svg(t){let s=`<path fill="none" stroke="${this.color[0]}" stroke-width=${this.epaisseur} d="M${A(this.xStart,t)},${I(this.yStart,t)} c`;for(const e of this.listeOfTriplets)s+=`${A(e[0][0],t)},${I(e[0][1],t)} ${A(e[1][0],t)},${I(e[1][1],t)} ${A(e[2][0],t)},${I(e[2][1],t)} `;return s+=`" />
`,s}tikz(){let t=`
	\\draw[color = ${this.color[1]},line width = ${this.epaisseur}, opacity = ${this.opacite}](${this.xStart},${this.yStart})`,s=this.xStart,e=this.yStart;for(const i of this.listeOfTriplets){const r=s+i[2][0],l=e+i[2][1],n=i[1][0]-i[2][0],o=i[1][1]-i[2][1];t+=` .. controls +(${i[0][0].toFixed(2)},${i[0][1].toFixed(2)}) and +(${n.toFixed(2)},${o.toFixed(2)})  .. (${r.toFixed(2)},${l.toFixed(2)})
`,s=r,e=l}return t+=`;
`,t}}const F=(c,t,s)=>{const e=(1-Math.cos(s*Math.PI))/2;return c*(1-e)+t*e};class K extends E{courbes;constructor(t,{color:s="black",epaisseur:e=2,repere:i,xMin:r,xMax:l,step:n=.2}={}){super(),this.courbes=[];const o=r??i?.xMin??-1,a=l??i?.xMax??1;for(let d=0;d<t.length-1;d++){const k=t[d][0],z=t[d][1],v=t[d+1][0],u=t[d+1][1],g=j=>F(z,u,(j-k)/(v-k));let x,y;o>k?x=r:x=k,a<v?y=l:y=v;const b=R(g,{repere:i,xMin:x,xMax:y,color:s,epaisseur:e,step:n});this.courbes.push(b)}const m=t.map(d=>d[1]),p=t.map(d=>d[0]);this.bordures=[Math.min(...p),Math.min(...m),Math.max(...p),Math.max(...m)]}svg(t){let s="";if(this.courbes==null)return s;for(const e of this.courbes)s+=`
	`+e.svg(t);return s}tikz(){let t="";if(this.courbes==null)return t;for(const s of this.courbes)t+=`
	`+s.tikz();return t}}function ot(c,{color:t="black",epaisseur:s=1,repere:e,xMin:i=-10,xMax:r=10,step:l=.2}={}){return new K(c,{color:t,epaisseur:s,repere:e,xMin:i,xMax:r,step:l})}class Q extends E{courbes;constructor(t,{color:s="black",epaisseur:e=1,repere:i,step:r=.2}={}){super(),this.courbes=[];const l=i?.xMin??t[0][0],n=i?.xMax??t[t.length-1][0],o=i?.yMin??Math.min(...t.map(m=>m[0])),a=i?.yMax??Math.max(...t.map(m=>m[1]));for(let m=0;m<t.length-1;m++){const p=t[m][0],d=t[m][1],k=t[m+1][0],z=t[m+1][1],v=y=>F(d,z,(y-p)/(k-p));let u,g;l>p?u=l:u=p,n<k?g=n:g=k;const x=R(v,{repere:i,step:r,xMin:u,xMax:g,color:s,epaisseur:e,xUnite:i?.xUnite??1,yUnite:i?.yUnite??1,yMin:o,yMax:a});this.courbes.push(x)}this.bordures=i?.bordures}svg(t){let s="";for(const e of this.courbes)s+=`
	`+e.svg(t);return s}tikz(){let t="";for(const s of this.courbes)t+=`
	`+s.tikz();return t}}function lt(c,{color:t="black",epaisseur:s=1,repere:e,step:i=.2}={}){return new Q(c,{color:t,epaisseur:s,repere:e,step:i})}function rt(c,t){const s=c[0][0],e=c[0][1],i=c[1][0],r=c[1][1];return(n=>F(e,r,(n-s)/(i-s)))(t)}function ct(c,t){const s=c[0][0],e=c[0][1],i=c[1][0],r=c[1][1];return W(s,i,n=>F(e,r,(n-s)/(i-s)),t,.01)}function W(c,t,s,e,i=.01){const r=Number(Math.max(s(t),s(c)).toFixed(6)),l=Number(Math.min(s(t),s(c)).toFixed(6));if(e>r||e<l)return!1;let n,o;c>t&&(n=c,c=t,t=n),n=(t+c)/2,o=s(n);let a=0;for(;Math.abs(o-e)>i&&a<1e3;)s(c)<s(t)?o>e?t=n:c=n:o>e?c=n:t=n,n=(c+t)/2,o=s(n),a++;return a>1e3?!1:n}function ht(c,t,s="gauche",e=.1,i="black"){const r=h(c+(s==="gauche"?-e:e),t),l=h(c+(s==="gauche"?-e:e),t-e),n=h(c+(s==="gauche"?-e:e),t+e),o=s==="gauche"?P(l,r,n):P(n,r,l);return o.color=S(i),o}export{nt as B,V as C,it as I,ht as a,ct as b,R as c,ot as d,W as e,tt as f,lt as g,et as h,rt as i,st as l};

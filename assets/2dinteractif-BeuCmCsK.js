import{O as $,p,T as C,A as L,I as b}from"./embellissements-BYV7mIDn.js";class q extends ${point;etat;width;style;taille;stringColor;radius;groupe;stopCliquable;out;over;click;constructor(u,r,i){super(),this.point=p(u,r),this.width=i.width??i.size??1,this.stringColor=i.color??"black",this.style=i.style??"x",this.taille=i.size??i.taille??3,this.radius=i.radius??1,this.groupe=null,i||(i={}),this.out=i.out??{opacity:"0"},this.over=i.over??{opacity:"0.5"},this.click=i.click??{opacity:String(i.opacite)??"1"},this.etat=!1;const c=()=>{document.removeEventListener("exercicesAffiches",c),this.groupe=document.getElementById(`${this.id}`);const s=e=>{this.etat=e},h=()=>{for(const e in this.out)try{this.out[e]!=null&&(this.groupe.style[e]=this.out[e])}catch(n){const a=n instanceof Error?n:new Error("Erreur inconnue");window.notify(a.message+`
Problème pour modifier groupe.style.${e} sur ${this}`,{element:this,key:e})}},d=()=>{for(const e in this.over)try{this.over[e]!=null&&(this.groupe.style[e]=this.over[e])}catch(n){const a=n instanceof Error?n:new Error("Erreur inconnue");window.notify(a.message+`
Problème pour modifier groupe.style.${e} sur ${this}`,{element:this,key:e})}},m=()=>{if(this.etat&&this.groupe){this.groupe.addEventListener("mouseover",d),this.groupe.addEventListener("mouseout",h);for(const e in this.out)try{this.out[e]!=null&&(this.groupe.style[e]=this.out[e])}catch(n){const a=n instanceof Error?n:new Error("Erreur inconnue");window.notify(a.message+`
Problème pour modifier style.${e} sur ${this}`,{element:this,key:e})}this.etat=!1,s(!1)}else if(this.groupe){this.groupe.removeEventListener("mouseover",d),this.groupe.removeEventListener("mouseout",h);for(const e in this.click)try{this.click[e]!=null&&(this.groupe.style[e]=this.click[e])}catch(n){const a=n instanceof Error?n:new Error("Erreur inconnue");window.notify(a.message+`
Problème pour modifier style.${e} sur ${this}`,{element:this,key:e})}this.etat=!0}};if(this.groupe){for(const e in this.out)try{this.out[e]!=null&&(this.groupe.style[e]=this.out[e])}catch(n){const a=n instanceof Error?n:new Error("Erreur inconnue");window.notify(a.message+`
Problème pour modifier style.${e} sur ${this.groupe}`,{element:this.groupe,key:e})}this.groupe.addEventListener("mouseover",d),this.groupe.addEventListener("mouseout",h),this.groupe.addEventListener("click",m)}};document.addEventListener("exercicesAffiches",c),this.stopCliquable=()=>{this.groupe&&this.groupe.replaceWith(this.groupe.cloneNode(!0))}}svg(u){let r;const i=C(this.point,this.stringColor);return i.epaisseur=this.width??this.epaisseur??1,i.taille=this.taille??3,i.style=this.style??"x",r=`<g id="${this.id}">
`,r+=i.svg(u)+`
`,r+=`<circle cx="${this.point.xSVG(u)}" cy="${this.point.ySVG(u)}" r="${(this.radius??1)*u}" fill="none" pointer-events="visible" />
`,r+="</g>",r}tikz(){return""}}function O(f,u,r){return new q(f,u,r)}class x extends ${bordure;rectangle;etat;out;over;click;stringColor;cliquable;groupe;stopCliquable;constructor(u,r,i,c,s){super();const h=p(u,r),d=p(i,r),m=p(i,c),e=p(u,c);this.rectangle=L(h,d,m,e),this.bordure=L(h,d,m,e),s||(s={}),this.out=s.out??{opacity:"0"},this.over=s.over??{opacity:"0.2"},this.click=s.click??{opacity:"1"},this.stringColor=s.couleur??"#f15929",this.cliquable=s.cliquable!==void 0?s.cliquable:!0,this.rectangle.hachures=s.hachures??!1,this.rectangle.couleurDesHachures=b("black"),this.rectangle.epaisseurDesHachures=s.epaisseurDesHachures??4,this.bordure.epaisseur=s.epaisseur??1,this.etat=s.etat??!1,this.groupe=null,this.stopCliquable=()=>{this.groupe.replaceWith(this.groupe.cloneNode(!0))};const n=()=>{document.removeEventListener("exercicesAffiches",n);const a=t=>{this.etat=t};if(this.groupe)for(const t in this.out)try{const o=this.etat?this.click[t]:this.out[t];o!=null&&(this.groupe.style[t]=o)}catch(o){const l=o instanceof Error?o:new Error("Erreur inconnue");window.notify(l.message+`
Problème pour modifier style.${t} sur ${this.groupe}`,{element:this.groupe,key:t})}const y=()=>{for(const t in this.over)try{this.out[t]!=null&&(this.groupe.style[t]=this.out[t])}catch(o){const l=o instanceof Error?o:new Error("Erreur inconnue");window.notify(l.message+`
Problème pour modifier style.${t} sur ${this}`,{element:this,key:t})}},E=()=>{for(const t in this.out)try{this.out[t]!=null&&(this.groupe.style[t]=this.out[t])}catch(o){const l=o instanceof Error?o:new Error("Erreur inconnue");window.notify(l.message+`
Problème pour modifier style.${t} sur ${this}`,{element:this,key:t})}},w=()=>{if(this.etat&&this.groupe){this.groupe.addEventListener("mouseover",y),this.groupe.addEventListener("mouseout",E);for(const t in this.out)try{this.out[t]!=null&&(this.groupe.style[t]=this.out[t])}catch(o){const l=o instanceof Error?o:new Error("Erreur inconnue");window.notify(l.message+`
Problème pour modifier style.${t} sur ${this}`,{element:this,key:t})}this.etat=!1,a(!1)}else if(this.groupe){this.groupe.removeEventListener("mouseover",y),this.groupe.removeEventListener("mouseout",E);for(const t in this.click)try{this.click[t]!=null&&(this.groupe.style[t]=this.click[t])}catch(o){const l=o instanceof Error?o:new Error("Erreur inconnue");window.notify(l.message+`
Problème pour modifier style.${t} sur ${this}`,{element:this,key:t})}this.etat=!0}};this.groupe&&this.cliquable&&(this.groupe.addEventListener("mouseover",y),this.groupe.addEventListener("mouseout",E),this.groupe.addEventListener("click",w))};document.addEventListener("exercicesAffiches",n)}svg(u){let r;return this.rectangle.couleurDeRemplissage=b(this.stringColor??"black"),this.rectangle.epaisseur=0,r=`<g id="rectangle${this.id}">
`,r+=this.rectangle.svg(u)+`
`,r+="</g>",r+=this.bordure.svg(u),r}tikz(){return this.etat&&(this.bordure.couleurDeRemplissage=b(this.stringColor)),this.bordure.couleurDesHachures=b("white"),this.bordure.hachures=this.rectangle.hachures,this.bordure.tikz()}}function k(f,u,r,i,c){return new x(f,u,r,i,c)}class P extends ${constructor(u,r,i,c,s={}){super(),this.objets=[],s||(s={});const h=s.longueur??4,d=s.ecart??1,m=s.hauteur??1,e=s.liste1??[],n=s.liste2??[];let a=s.couleur1??"#f15929",y=s.couleur2??"#1DA962";const E=s.hachures1??!1,w=s.hachures2??!1,t=s.couleur??(e.length===0?a:"white"),o=s.cliquable!==void 0?s.cliquable:!0;let l;for(let v=0;v<i;v++){l=p(u+v*(h+d),r);for(let g=0;g<c;g++)e.includes(v*c+g+1)?this.objets.push(k(l.x+g*h/c,r,l.x+(g+1)*h/c,r+m,{cliquable:o,etat:!0,couleur:a,hachures:E})):n.includes(v*c+g+1)?this.objets.push(k(l.x+g*h/c,r,l.x+(g+1)*h/c,r+m,{cliquable:o,etat:!0,couleur:y,hachures:w})):this.objets.push(k(l.x+g*h/c,r,l.x+(g+1)*h/c,r+m,{cliquable:o,couleur:t,etat:!1}))}}}function A(f,u,r,i,c){return new P(f,u,r,i,c)}export{A as f,O as p};

import q from"decimal.js";import{isNumber as A}from"mathjs";import{g as T,V as E,c as z,h as B,i as G,j as H,s as w,u as J,p as K}from"./patternsPreDef-CbRb9iae.js";import{l as r,a as v}from"./shapes2d-C4LL3wzV.js";import{V as N}from"./VisualPattern-D11BgzPT.js";import{t as M,o as O,D as C,m as R,r as U,a as W,C as X,A as Y,p as I}from"./embellissements-BYV7mIDn.js";import{b as V}from"./colors-bl7PrqSM.js";import{E as Z}from"./Exercice-DtXhjCyI.js";import"./Canvas3DElement-BqpJ_f1x.js";import"./three.module-6qJVdblD.js";import"./Figures2D-C1IYLm7-.js";import"katex";import"earcut";import"roughjs";import"./exerciseMethods-CtbYPwln.js";import"./index-BUDQz6-w.js";import"crypto-js";import"seedrandom";const $e="Liste des patterns disponibles pour l'exercice 6I13",ye="23/07/2025",Pe={"fr-fr":["P023-6I13"],"fr-ch":[]},ge="71ff5";class Me extends Z{destroyers=[];constructor(){super(),this.nbQuestions=1,this.listePackages=["twemojis"],this.nbQuestionsModifiable=!1,this.besoinFormulaire3Numerique=["Nombre de motifs par pattern",6],this.sup3=4,this.comment=`Cette page affiche la liste des patterns disponibles dans 6I13 avec leur numéro de référence et pour information, le nombre d'éléments 
    pour le motif 43 ainsi que le nombre d'éléments au rang n de chaque pattern.<br>`}destroy(){this.destroyers.forEach(Q=>Q()),this.destroyers.length=0}nouvelleVersion(){this.destroyers.forEach(e=>e()),this.destroyers.length=0,this.sup3=Math.max(2,this.sup3);const y=[...T.filter(e=>e.fonctionRatio==null&&e.fonctionFraction==null&&(!("shapes"in e)||e.shapes.length===1))];let l="";if(!(y==null||y.length===0)){for(let e=0;e<y.length;e++){const t=y[e];if(t==null){l+=`
${M(`Pattern ${e+1}`,"red")}: ${M("Pattern inexistant","red")}`;continue}if("nbMotifMin"in t&&A(t.nbMotifMin)){const h=[];if("shapes"in t)for(const a of t.shapes)a in r&&h.push(r[a].shapeDef);for(let a=0;a<=t.nbMotifMin;a++){const x=new N([]);"shapes"in t&&(x.shapes=t.shapes),"iterate"in t&&(x.iterate=t.iterate),h.push(x.render(a,a+1,0))}l+=`
${M(`Pattern ${e+1}`,"blue")}:  <br>`,l+=O(Object.assign(C(h,{rxmin:0,rymin:-1,rxmax:0,rymax:1}),{pixelsParCm:20,scale:.4,optionsTikz:"transform shape"}),h)}else{const h="nbMotifMin"in t?null:new q(t.fonctionNb(43)).toString(),x=(t.shapes[0]in r?r[t.shapes[0]]:{nomPluriel:"cubes"}).nomPluriel;l+=`${M(`Pattern ${e+1}`,"blue")}:<br> Pour le motif 43, il y a ${h} ${x}.<br>`,l+=`Pour le motif $${R("n",V)}$, il y a $${R(t.formule,V)}$ éléments.<br>`;const P=t,i="iterate3d"in P?new E({initialCells:[],type:"iso",prefixId:`Ex${this.numeroExercice}Q${e}`,shapes:["cube"]}):new N([]);i instanceof E?(i.shapes=["cube"],i.iterate3d=P.iterate3d):(i.shapes=P.shapes||v[U(0,v.length-1)],i.iterate=P.iterate);const $=Math.PI/2.5;let j=0,D=0;const o=[];for(let s=0;s<this.sup3;s++){o[s]=[];let u=[],g=1/0,m=-1/0,b=1/0,d=-1/0;for(let p=0;p<i.shapes.length;p++){let c=i.shapes[p];if(c in r)if(c==="carré"){const n=String(W(Object.keys(r)));c=n,i.shapes[p]=n,o[s].push(r[n].shapeDef)}else o[s].push(r[c].shapeDef);else if(c==="cube"){const n=z(`cubeIsoQ${e}F${s}`,1);n.svg=function(L){return`
          <defs>
            <g id="cubeIsoQ${e}F${s}">
              ${B($)}
              ${G($)}
              ${H($)}
            </g>
          </defs>`},o[s].push(n)}else console.warn(`Shape ${c} n'est pas dans listeShapesDef ou emojis et n'est pas un cube`)}if(i instanceof E){i.shape==null&&(i.shape=w(`cubeIsoQ${e}F${s}`,1,1,{scale:1}));{const p=J({pattern:i,i:e,j:s,angle:$});p&&this.destroyers.push(p),i.shape.codeSvg=`<use href="#cubeIsoQ${e}F${s}"></use>`,i.update3DCells(s+1).forEach(n=>{const[S,k]=K(n[0],n[1],n[2],$),f=w(`cubeIsoQ${e}F${s}`,S,k,{scale:1});f.x=S/20,f.y=-k/20,u.push(f),g=Math.min(g,f.y*1),m=Math.max(m,(f.y+1)*1),b=Math.min(b,f.x*1),d=Math.max(d,(f.x+1)*1)})}}else u=i.render(s+1,0,0),{xmin:b,ymin:g,xmax:d,ymax:m}=C(u);o[s].push(...u),o[s].push(X(`Motif ${s+1}`,(d+b)/2,-1.5,0,"black",.8,"milieu"));const F=Y(I(b-2,-2),I(d+2,-2),I(d+2,m+2),I(b-2,m+2));F.pointilles=4,o[s].push(F),j=Math.max(j,m),D=Math.min(D,g)}l+=o.map((s,u)=>O(Object.assign(C(s,{rxmin:0,rymin:-1,rxmax:0,rymax:1}),{id:`Motif${e}F${u}`,pixelsParCm:20,yMax:j,yMin:D,scale:.5,style:"display: inline-block",optionsTikz:"transform shape"}),s)).join(`
`)+"<br>"}}this.listeQuestions=[l]}}}export{ye as dateDePublication,Me as default,Pe as refs,$e as titre,ge as uuid};

import{a as Zt,c as Xt}from"./index-BUDQz6-w.js";import Jt from"katex";import{dN as Ot,bh as O,dO as ct,dP as qt,dQ as Vt,dR as Kt,dS as G,dG as tt,dT as Qt,dU as te,dV as ht,dW as ee,dX as ie,dY as dt,dZ as pt,d_ as ut,d$ as gt,e0 as mt,e1 as se,F as ne}from"./embellissements-BYV7mIDn.js";import{create as oe,unaryMinusDependencies as re,powDependencies as ae,divideDependencies as le,multiplyDependencies as ce,subtractDependencies as he,addDependencies as de,evaluateDependencies as pe,parseDependencies as ue}from"mathjs";import ft from"crypto-js";import ge from"seedrandom";var zt={exports:{}};(function(n,t){(function(e,s){n.exports=s(Jt)})(typeof self<"u"?self:Xt,function(i){return function(){var e={757:function(x){x.exports=i}},s={};function o(x){var m=s[x];if(m!==void 0)return m.exports;var v=s[x]={exports:{}};return e[x](v,v.exports,o),v.exports}(function(){o.n=function(x){var m=x&&x.__esModule?function(){return x.default}:function(){return x};return o.d(m,{a:m}),m}})(),function(){o.d=function(x,m){for(var v in m)o.o(m,v)&&!o.o(x,v)&&Object.defineProperty(x,v,{enumerable:!0,get:m[v]})}}(),function(){o.o=function(x,m){return Object.prototype.hasOwnProperty.call(x,m)}}();var r={};o.d(r,{default:function(){return $}});var a=o(757),c=o.n(a);const l=function(x,m,v){let k=v,N=0;const I=x.length;for(;k<m.length;){const P=m[k];if(N<=0&&m.slice(k,k+I)===x)return k;P==="\\"?k++:P==="{"?N++:P==="}"&&N--,k++}return-1},h=function(x){return x.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},d=/^\\begin{/;var g=function(x,m){let v;const k=[],N=new RegExp("("+m.map(I=>h(I.left)).join("|")+")");for(;v=x.search(N),v!==-1;){v>0&&(k.push({type:"text",data:x.slice(0,v)}),x=x.slice(v));const I=m.findIndex(W=>x.startsWith(W.left));if(v=l(m[I].right,x,m[I].left.length),v===-1)break;const P=x.slice(0,v+m[I].right.length),_=d.test(P)?P:x.slice(m[I].left.length,v);k.push({type:"math",data:_,rawData:P,display:m[I].display}),x=x.slice(v+m[I].right.length)}return x!==""&&k.push({type:"text",data:x}),k};const y=function(x,m){const v=g(x,m.delimiters);if(v.length===1&&v[0].type==="text")return null;const k=document.createDocumentFragment();for(let N=0;N<v.length;N++)if(v[N].type==="text")k.appendChild(document.createTextNode(v[N].data));else{const I=document.createElement("span");let P=v[N].data;m.displayMode=v[N].display;try{m.preProcess&&(P=m.preProcess(P)),c().render(P,I,m)}catch(_){if(!(_ instanceof c().ParseError))throw _;m.errorCallback("KaTeX auto-render: Failed to parse `"+v[N].data+"` with ",_),k.appendChild(document.createTextNode(v[N].rawData));continue}k.appendChild(I)}return k},f=function(x,m){for(let v=0;v<x.childNodes.length;v++){const k=x.childNodes[v];if(k.nodeType===3){let N=k.textContent,I=k.nextSibling,P=0;for(;I&&I.nodeType===Node.TEXT_NODE;)N+=I.textContent,I=I.nextSibling,P++;const _=y(N,m);if(_){for(let W=0;W<P;W++)k.nextSibling.remove();v+=_.childNodes.length-1,x.replaceChild(_,k)}else v+=P}else if(k.nodeType===1){const N=" "+k.className+" ";m.ignoredTags.indexOf(k.nodeName.toLowerCase())===-1&&m.ignoredClasses.every(P=>N.indexOf(" "+P+" ")===-1)&&f(k,m)}}};var $=function(x,m){if(!x)throw new Error("No element provided to render");const v={};for(const k in m)m.hasOwnProperty(k)&&(v[k]=m[k]);v.delimiters=v.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],v.ignoredTags=v.ignoredTags||["script","noscript","style","textarea","pre","code","option"],v.ignoredClasses=v.ignoredClasses||[],v.errorCallback=v.errorCallback||console.error,v.macros=v.macros||{},f(x,v)};return r=r.default,r}()})})(zt);var me=zt.exports;const nt=Zt(me);function fe(n,t){const i=document.createElement("div");i.style.display="flex",i.classList.add("apiGeom-color-palette");for(const e of n){const s=document.createElement("button");s.style.backgroundColor=e,s.style.width="30px",s.style.height="30px",s.style.marginRight="10px",s.style.marginLeft="4px",s.style.marginTop="10px",s.style.cursor="pointer",s.style.borderRadius="5px",s.style.backgroundColor=e,s.style.border="1px solid black",s.style.padding="2px",s.title=ye(e),s.addEventListener("click",()=>{t.options.color=e,et(t),t.options.changeColorChangeActionToSetOptions&&t.buttons.get("SET_OPTIONS")?.click()}),i.appendChild(s)}return setTimeout(()=>{et(t)},100),i}function et(n){const t=document.querySelectorAll(".apiGeom-color-palette button");for(const i of Array.from(t)){const e=i;e.style.backgroundColor===n.options.color?(e.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.75)",e.style.transform="scale(1.2) translate(1px, 1px"):(e.style.boxShadow="",e.style.transform="")}}const yt={black:"Noir",blue:"Bleu",gray:"Gris",green:"Vert",lightgray:"Gris clair",purple:"Violet",red:"Rouge",yellow:"Jaune"};function ye(n){return yt[n]!==void 0?yt[n]:n.charAt(0).toUpperCase()+n.slice(1)}const xe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='183.46666'%20height='36'%20viewBox='0%200%20172%2033.750001'%20id='svg7795'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='traitPointilles.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='2.9324129'%20inkscape:cx='91.73333'%20inkscape:cy='18.073853'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1620'%20inkscape:window-height='2786'%20inkscape:window-x='-11'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20units='px'%20height='40px'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:7.80938;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:15.6188,%2015.6188;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20237.13226,248.95148%20H%20383.91529'%20id='path2564'%20sodipodi:nodetypes='cc'%20/%3e%3c/g%3e%3c/svg%3e",ve="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='183.46666'%20height='36'%20viewBox='0%200%20172%2033.750001'%20id='svg7795'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='traitContinu.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='7.6035613'%20inkscape:cx='35.378159'%20inkscape:cy='18.017873'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1620'%20inkscape:window-height='2786'%20inkscape:window-x='-11'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20units='px'%20height='40px'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:7.80938;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20235.17991,248.95148%20H%20381.96294'%20id='path2564'%20sodipodi:nodetypes='cc'%20/%3e%3c/g%3e%3c/svg%3e";function we(n){const t=document.createElement("div");t.style.display="flex",t.classList.add("apiGeom-dashed-choice");for(const i of["noDashed","dashed"]){const e=document.createElement("img");e.src=i==="noDashed"?ve:xe,e.title=i==="noDashed"?"Trait plein":"Pointillés",e.style.width="30px",e.style.margin="10px",e.style.marginLeft="4px",e.style.marginTop="30px",e.style.cursor="pointer",e.style.padding="2px",e.addEventListener("click",()=>{n.options.isDashed=i==="dashed",it(n)}),e.id=i,t.appendChild(e)}return setTimeout(()=>{it(n)},100),t}function it(n){const t=document.querySelectorAll(".apiGeom-dashed-choice img#dashed"),i=document.querySelectorAll(".apiGeom-dashed-choice img#noDashed");if(n.options.isDashed){for(const e of Array.from(i)){const s=e;s.style.boxShadow="",s.style.transform=""}for(const e of Array.from(t)){const s=e;s.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.75)",s.style.transform="scale(1.2) translate(1px, 1px"}}else{for(const e of Array.from(t)){const s=e;s.style.boxShadow="",s.style.transform=""}for(const e of Array.from(i)){const s=e;s.style.boxShadow="0px 0px 10px 0px rgba(0,0,0,0.75)",s.style.transform="scale(1.2) translate(1px, 1px"}}}function ke(n,t,i=!1){if(i&&(n.stackUndo=[],n.stackRedo=[]),n.elements.clear(),n.divFigure!=null&&(n.divFigure.innerHTML=""),n.clearHtml(),n.divFigure?.appendChild(n.svg),t.options!=null){const e=t.options;for(const[s,o]of Object.entries(e))s in n.options&&(n.options[s]=o)}et(n),it(n),n.pointer=n.create("Point",{isChild:!0,isFree:!1,isVisible:!1,color:"black",shape:"",x:0,y:0}),n.pointer.type="pointer";for(const e of Object.values(t))if(e.type==="Point")n.create("Point",{x:e.x,y:e.y,...e});else if(e.type==="Arc"){const s=n.elements.get(e.idCenter),o=n.elements.get(e.idStart),r=n.elements.get(e.idDynamicAngle);n.create("Arc",{center:s,dynamicAngle:r,start:o,...e})}else if(e.type==="ArcByCenterRadiusAndAngles"){const s=n.elements.get(e.idCenter),o=e.radius,r=e.startAngle,a=e.endAngle;n.create("ArcByCenterRadiusAndAngles",{center:s,endAngle:a,radius:o,startAngle:r,...e})}else if(e.type==="BisectorByPoints"){const s=n.elements.get(e.idOrigin),o=n.elements.get(e.idPointOnSide1),r=n.elements.get(e.idPointOnSide2);n.create("BisectorByPoints",{origin:s,pointOnSide1:o,pointOnSide2:r,...e})}else if(e.type==="Circle"){const s=n.elements.get(e.idCenter);n.create("Circle",{center:s,radius:e.radius,...e})}else if(e.type==="CircleCenterPoint"){const s=n.elements.get(e.idCenter),o=n.elements.get(e.idPoint);n.create("CircleCenterPoint",{center:s,point:o,...e})}else if(e.type==="CircleDynamicRadius"){const s=n.elements.get(e.idCenter),o=n.elements.get(e.idRadius);n.create("CircleCenterDynamicRadius",{center:s,radius:o,...e})}else if(e.type==="CircleFractionDiagram"){const s=new Set(e.arrayIndicesSectorsInColor);n.create("CircleFractionDiagram",{indicesSectorsInColor:s,...e})}else if(e.type==="Distance"){const s=n.elements.get(e.idPoint1),o=n.elements.get(e.idPoint2);n.create("Distance",{point1:s,point2:o,...e})}else if(e.type==="DynamicX"){const s=n.elements.get(e.idPoint);n.create("DynamicX",{point:s,...e})}else if(e.type==="DynamicY"){const s=n.elements.get(e.idPoint);n.create("DynamicY",{point:s,...e})}else if(e.type==="PointOnLine"){const s=n.elements.get(e.idLine);n.create("PointOnLine",{line:s,...e})}else if(e.type==="PointOnCircle"){const s=n.elements.get(e.idCircle);n.create("PointOnCircle",{circle:s,...e})}else if(e.type==="GraphByParts")n.create("GraphByParts",{...e});else if(e.type==="Graph")n.create("Graph",{...e});else if(e.type==="GraduatedLine")n.create("GraduatedLine",{...e});else if(e.type==="Grid")n.create("Grid",{...e});else if(e.type==="Line"){const s=n.elements.get(e.idPoint1),o=n.elements.get(e.idPoint2);n.create("Line",{point1:s,point2:o,...e})}else if(e.type==="Middle"){const s=n.elements.get(e.idPoint1),o=n.elements.get(e.idPoint2);n.create("Middle",{point1:s,point2:o,...e})}else if(e.type==="LineByPointVector"){const s=n.elements.get(e.idVector),o=n.elements.get(e.idPoint);n.create("LineByPointVector",{point:o,vector:s,...e})}else if(e.type==="LineFractionDiagram"){const s=new Set(e.arrayIndicesRectanglesInColor);n.create("LineFractionDiagram",{indicesRectanglesInColor:s,...e})}else if(e.type==="RectangleFractionDiagram"){const s=new Set(e.arrayIndicesRectanglesInColor);n.create("RectangleFractionDiagram",{indicesRectanglesInColor:s,...e})}else if(e.type==="LineParallel"){const s=n.elements.get(e.idLine),o=n.elements.get(e.idPoint);n.create("LineParallel",{line:s,point:o,...e})}else if(e.type==="LinePerpendicular"){const s=n.elements.get(e.idLine),o=n.elements.get(e.idPoint);n.create("LinePerpendicular",{line:s,point:o,...e})}else if(e.type==="MarkBetweenPoints"){const s=n.elements.get(e.idPoint1),o=n.elements.get(e.idPoint2);n.create("MarkBetweenPoints",{text:e.text,point1:s,point2:o,...e})}else if(e.type==="MarkRightAngle"){const s=n.elements.get(e.idPoint),o=n.elements.get(e.idDirectionPoint);n.create("MarkRightAngle",{point:s,directionPoint:o,...e})}else if(e.type==="PerpendicularBisector"){const s=n.elements.get(e.idSegment);n.create("PerpendicularBisector",{segment:s,...e})}else if(e.type==="PerpendicularBisectorByPoints"){const s=n.elements.get(e.idPoint1),o=n.elements.get(e.idPoint2);n.create("PerpendicularBisectorByPoints",{point1:s,point2:o,...e})}else if(e.type==="ElementByReflect"){const s=n.elements.get(e.idTransformationOrigin),o=n.elements.get(e.idTransformationCenter);s.reflect(o,e)}else if(e.type==="ElementByReflectOverLine"){const s=n.elements.get(e.idTransformationOrigin),o=n.elements.get(e.idTransformationLine);s.reflectOverLine(o,e)}else if(e.type==="ElementByDilate"){const s=n.elements.get(e.idTransformationOrigin),o=n.elements.get(e.idTransformationCenter),r=e.transformationFactor;s.dilate(o,r,e)}else if(e.type==="ElementByRotation"){const s=n.elements.get(e.idTransformationOrigin),o=n.elements.get(e.idTransformationCenter),r=e.transformationAngle;s.rotate(o,r,e)}else if(e.type==="ElementByTranslation"){const s=n.elements.get(e.idTransformationOrigin),o=n.elements.get(e.idTransformationPoint1),r=n.elements.get(e.idTransformationPoint2);s.translate(o,r,e)}else if(e.type==="PointByProjection"){const s=n.elements.get(e.idOrigin),o=n.elements.get(e.idLine);n.create("PointByProjection",{line:o,origin:s,...e})}else if(e.type==="PointByProjectionOnAxisX"){const s=n.elements.get(e.idOrigin);n.create("PointByProjectionOnAxisX",{origin:s,...e})}else if(e.type==="PointByProjectionOnAxisY"){const s=n.elements.get(e.idOrigin);n.create("PointByProjectionOnAxisY",{origin:s,...e})}else if(e.type==="PointIntersectionLL"){const s=n.elements.get(e.idLine1),o=n.elements.get(e.idLine2);n.create("PointIntersectionLL",{line1:s,line2:o,...e})}else if(e.type==="PointIntersectionCC"){const s=n.elements.get(e.idCircle1),o=n.elements.get(e.idCircle2);n.create("PointIntersectionCC",{circle1:s,circle2:o,...e})}else if(e.type==="PointIntersectionLC"){const s=n.elements.get(e.idLine),o=n.elements.get(e.idCircle);n.create("PointIntersectionLC",{circle:o,line:s,...e})}else if(e.type==="PointOnGraph"){const s=n.elements.get(e.idGraph);n.create("PointOnGraph",{graph:s,...e})}else if(e.type==="PointOnPolyline"){const s=n.elements.get(e.idPolyline);n.create("PointOnPolyline",{polyline:s,...e})}else if(e.type==="Segment"){const s=n.elements.get(e.idPoint1),o=n.elements.get(e.idPoint2);n.create("Segment",{point1:s,point2:o,...e})}else if(e.type==="Polyline"){const s=[];for(const o of e.idPoints)s.push(n.elements.get(o));n.create("Polyline",{points:s,...e})}else if(e.type==="Polygon"){const s=[];for(const o of e.idPoints)s.push(n.elements.get(o));n.create("Polygon",{points:s,...e})}else if(e.type==="Ray"){const s=n.elements.get(e.idPoint1),o=n.elements.get(e.idPoint2);n.create("Ray",{point1:s,point2:o,...e})}else if(e.type==="TextByPosition")n.create("TextByPosition",{text:e.text,x:e.x,y:e.y,...e});else if(e.type==="TextByPoint"){const s=n.elements.get(e.idPoint);n.create("TextByPoint",{point:s,text:e.text,...e})}else if(e.type==="TextDynamicByPosition"){const s=n.elements.get(e.idDynamicNumber);n.create("TextDynamicByPosition",{dynamicNumber:s,...e})}else if(e.type==="Vector"){const s=n.elements.get(e.idOrigin);n.create("Vector",{origin:s,...e})}else if(e.type==="VectorByPoints"){const s=n.elements.get(e.idOrigin),o=n.elements.get(e.idPoint1),r=n.elements.get(e.idPoint2);n.create("VectorByPoints",{origin:s,point1:o,point2:r,...e})}else if(e.type==="VectorPerpendicular"){const s=n.elements.get(e.idOrigin),o=n.elements.get(e.idLine);n.create("VectorPerpendicular",{line:o,origin:s,...e})}if(n.stackUndo.length===0&&n.saveState(),i&&"history"in t&&t.history!==null){const e=t.history;n.stackUndo=[...e],n.handleUndoRedoButtons()}}class b{constructor(t=0,i=0){this.x=t,this.y=i}}function xt(n,t){if(n.x===void 0||n.y===void 0||t.x===void 0||t.y===void 0)return Number.NaN;try{return Math.atan2(t.y-n.y,t.x-n.x)*180/Math.PI}catch{return Number.NaN}}function vt(n,t,i=1){try{const e=n.center,s=t.center,o=n._radius,r=t._radius,a=e.x,c=s.x,l=e.y,h=s.y;if(a===void 0||c===void 0||l===void 0||h===void 0)return new b;const d=c-a,u=h-l,g=Math.sqrt(u*u+d*d);if(g>o+r)return{x:Number.NaN,y:Number.NaN};if(g<Math.abs(o-r))return{x:Number.NaN,y:Number.NaN};const y=(o*o-r*r+g*g)/(2*g),f=a+d*y/g,w=l+u*y/g,$=Math.sqrt(o*o-y*y),x=-u*($/g),m=d*($/g),v=f+x,k=f-x,N=w+m,I=w-m;return i===1?I>N?new b(k,I):new b(v,N):I>N?new b(v,N):new b(k,I)}catch{return new b(Number.NaN,Number.NaN)}}function wt(n,t){try{const[i,e,s]=n.equation,[o,r,a]=t.equation;let c,l;if(o*e-r*i===0)return{x:Number.NaN,y:Number.NaN};l=(a*i-s*o)/(o*e-r*i),i===0?c=(-a-r*l)/o:c=(-s-e*l)/i;let h=!0;return n.type==="Segment"&&(c<Math.min(n.point1.x,n.point2.x)||c>Math.max(n.point1.x,n.point2.x)||l<Math.min(n.point1.y,n.point2.y)||l>Math.max(n.point1.y,n.point2.y))&&(h=!1),t.type==="Segment"&&(c<Math.min(t.point1.x,t.point2.x)||c>Math.max(t.point1.x,t.point2.x)||l<Math.min(t.point1.y,t.point2.y)||l>Math.max(t.point1.y,t.point2.y))&&(h=!1),n.type==="Ray"&&(n.point1.x<n.point2.x&&c<n.point1.x&&(h=!1),n.point1.x>n.point2.x&&c>n.point1.x&&(h=!1),n.point1.y<n.point2.y&&l<n.point1.y&&(h=!1),n.point1.y>n.point2.y&&l>n.point1.y&&(h=!1)),t.type==="Ray"&&(t.point1.x<t.point2.x&&c<t.point1.x&&(h=!1),t.point1.x>t.point2.x&&c>t.point1.x&&(h=!1),t.point1.y<t.point2.y&&l<t.point1.y&&(h=!1),t.point1.y>t.point2.y&&l>t.point1.y&&(h=!1)),h||(c=Number.NaN,l=Number.NaN),new b(c,l)}catch(i){return console.error(i),new b(Number.NaN,Number.NaN)}}function C(n,t){return Math.hypot(n.x-t.x,n.y-t.y)}function H(n,t){try{const i=n.y-t.y,e=t.x-n.x,s=(n.x-t.x)*n.y+(t.y-n.y)*n.x;return[i,e,s]}catch(i){return console.error("Erreur dans Line.equation()",i),[Number.NaN,Number.NaN,Number.NaN]}}function kt(n,t,i=1){try{const e=t.center,s=t.radius,[o,r,a]=n.equation,c=e.x,l=e.y;let h,d,u,g,y,f;if(r===0){if(u=-a/o,y=u,h=4*(-c*c-a*a/(o*o)-2*c*a/o+s*s),h<0)return new b(Number.NaN,Number.NaN);Math.abs(h)<10**-6?(g=l+Math.sqrt(h)/2,f=g):(g=l-Math.sqrt(h)/2,f=l+Math.sqrt(h)/2)}else if(o===0){if(g=-a/r,f=g,h=4*(-l*l-a*a/(r*r)-2*l*a/r+s*s),h<0)return new b(Number.NaN,Number.NaN);Math.abs(h)<10**-6?(u=c+Math.sqrt(h)/2,y=u):(u=c-Math.sqrt(h)/2,y=c+Math.sqrt(h)/2)}else{if(h=(2*(o*a/(r*r)+l*o/r-c))**2-4*(1+(o/r)**2)*(c*c+l*l+(a/r)**2+2*l*a/r-s*s),h<0)return new b(Number.NaN,Number.NaN);Math.abs(h)<10**-6?(d=Math.sqrt(h),u=(-2*(o*a/(r*r)+l*o/r-c)-d)/(2*(1+(o/r)**2)),y=u,g=(-o*u-a)/r,f=g):(d=Math.sqrt(h),u=(-2*(o*a/(r*r)+l*o/r-c)-d)/(2*(1+(o/r)**2)),y=(-2*(o*a/(r*r)+l*o/r-c)+d)/(2*(1+(o/r)**2)),g=(-o*u-a)/r,f=(-o*y-a)/r)}return i===1?f>g?new b(y,f):new b(u,g):f>g?new b(u,g):new b(y,f)}catch{return new b(Number.NaN,Number.NaN)}}function j(n,t){try{const[i,e,s]=t.equation,o=1/(i*i+e*e);let r,a;if(i===0)r=n.x,a=-s/e;else if(e===0)a=n.y,r=-s/i;else{if(n.x===void 0||n.y===void 0)return new b;r=o*(e*e*n.x-i*e*n.y-i*s),a=o*(-i*e*n.x+i*i*n.y+i*i*s/e)-s/e}return new b(r,a)}catch{return new b(Number.NaN,Number.NaN)}}function L(n,t,i){try{if(t.x===void 0||t.y===void 0||n.x===void 0||n.y===void 0)return new b;const e=t.x+(n.x-t.x)*Math.cos(i*Math.PI/180)-(n.y-t.y)*Math.sin(i*Math.PI/180),s=t.y+(n.x-t.x)*Math.sin(i*Math.PI/180)+(n.y-t.y)*Math.cos(i*Math.PI/180);return new b(e,s)}catch{return new b(Number.NaN,Number.NaN)}}function Y(n,t,i){if(n.x===void 0||n.y===void 0||t.x===void 0||t.y===void 0)return new b;try{const e=t.x+i*(n.x-t.x),s=t.y+i*(n.y-t.y);return new b(e,s)}catch{return new b(Number.NaN,Number.NaN)}}function T(n,t,i,e){if(n.x===void 0||n.y===void 0||t.x===void 0||t.y===void 0)return new b;try{const s=e*Math.PI/180,o=t.x+i*(Math.cos(s)*(n.x-t.x)-Math.sin(s)*(n.y-t.y)),r=t.y+i*(Math.cos(s)*(n.y-t.y)+Math.sin(s)*(n.x-t.x));return new b(o,r)}catch{return new b(Number.NaN,Number.NaN)}}function be(n,t){let i,e;const[s,o,r]=t.equation,a=1/(s*s+o*o);return s===0?(i=n.x,e=-(n.y+2*r/o)):o===0?(e=n.y,i=-(n.x+2*r/s)):(i=a*((o*o-s*s)*n.x-2*s*o*n.y-2*s*r),e=a*((s*s-o*o)*n.y-2*s*o*n.x+s*s*r/o-o*r)-r/o),{x:i,y:e}}function Ce(n,t,i){const e=n.x+i.x-t.x,s=n.y+i.y-t.y;return{x:e,y:s}}function Se(n,t,i){const e={x:i.x-t.x,y:i.y-t.y},s={x:n.x-t.x,y:n.y-t.y};return(s.x*e.y-e.x*s.y>=0?1:-1)*Bt(n,t,i)}function Bt(n,t,i){const e={norme:0,x:n.x-t.x,y:n.y-t.y};e.norme=Math.sqrt(e.x**2+e.y**2);const s={norme:0,x:i.x-t.x,y:i.y-t.y};s.norme=Math.sqrt(s.x**2+s.y**2);const o=e.x*s.x+e.y*s.y;return e.norme*s.norme<Ot?0:Math.acos(o/(e.norme*s.norme))*180/Math.PI}function Z(n,t){try{const i=(n.x+t.x)/2,e=(n.y+t.y)/2,s=t.x-n.x,r=-(t.y-n.y),a=s,c=Math.sqrt(r*r+a*a),l=r/c,h=a/c,d=l*.5,u=h*.5,g=i+d,y=e+u;return new b(g,y)}catch{return new b(Number.NaN,Number.NaN)}}function bt({line:n,point:t,figure:i}){try{const e=t.x,s=t.y;let o,r;return n.point2.x-n.point1.x===0?(o=e,r=i.yMax):(o=e+5,r=s+5*(n.point2.y-n.point1.y)/(n.point2.x-n.point1.x)),{x1:e,y1:s,x2:o,y2:r}}catch(e){return console.error("Erreur dans Coords.parallelCoords",e),{x1:Number.NaN,y1:Number.NaN,x2:Number.NaN,y2:Number.NaN}}}function p(n,t=4){return Math.round(n*10**t)/10**t}function A(n,t=4){return p(n,t).toLocaleString("fr-FR")==="-0"?"0":p(n,t).toLocaleString("fr-FR").replace(",","{,}")}function z({delta:n=3,figure:t,repeat:i=5,time:e=1}){const s=e/i;t.container.style.animation="none",t.container.offsetWidth,t.container.style.animation=`shake ${s}s`,t.container.style.animationIterationCount=i.toString();const o=l=>{const d=p(l+(Math.random()-.5)*n,1);return d>t.xMin+.5&&d<t.xMax-.5?d:l},r=l=>{const d=p(l+(Math.random()-.5)*n,1);return d>t.yMin+2&&d<t.yMax-2?d:l},c=[...t.elements.values()].filter(l=>l.type!=="pointer"&&l.type==="Point").filter(l=>l.isFree);for(let l=0;l<i;l++)for(const h of c)h.moveTo(o(h.x),r(h.y));t.container.style.animation="none"}function $e({angle:n,figure:t,label1:i,label2:e,label3:s}){const o=[...t.elements.values()].filter(g=>g.type!=="pointer"&&g.type.includes("Point")),r=o.filter(g=>g.label===i),a=o.filter(g=>g.label===e),c=o.filter(g=>g.label===s);if(r.length===0)return{isValid:!1,message:`Il n'y a pas de point $${i}$ dans la figure.`};if(r.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${i}$ dans la figure.`};if(a.length===0)return{isValid:!1,message:`Il n'y a pas de point $${e}$ dans la figure.`};if(a.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${e}$ dans la figure.`};if(c.length===0)return{isValid:!1,message:`Il n'y a pas de point $${s}$ dans la figure.`};if(c.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${s}$ dans la figure.`};let l=!0;const h=r[0],d=a[0],u=c[0];for(let g=0;g<3;g++)l=l&&p(Bt(h,d,u),2)===p(n,2),z({figure:t});return l?{isValid:l,message:`L'angle $\\widehat{${i}${e}${s}}$ est bien toujours égal à ${n}°.`}:{isValid:l,message:`L'angle $\\widehat{${i}${e}${s}}$ n'est pas toujours égal à ${n}°.`}}function Ie({center:n,figure:t,labelCenter:i,radius:e}){const s=[...t.elements.values()].filter(a=>a.type.includes("Circle"));let o=[];if(i&&(o=s.filter(a=>a.center.label===i)),s.length===0)return{isValid:!1,message:"Il n'y a pas de cercle dans la figure."};const r=s.find(a=>p(a.center.x)===p(n.x)&&p(a.center.y)===p(n.y)&&p(a.radius)===p(e));if(!r)return{isValid:!1,message:`Le cercle de centre $(${p(n.x,2)}\\;;\\;${p(n.y,2)})$ et de rayon ${p(e,1)} n'existe pas dans la figure.`};if(i){const a=o.find(c=>p(c.center.x)===p(n.x)&&p(c.center.y)===p(n.y)&&p(c.radius)===p(e));return a?{isValid:!0,message:"",element:a}:{isValid:!1,message:`Le cercle de centre $(${p(n.x,2)}\\;;\\;${p(n.y,2)})$ et de rayon ${p(e,2)} est bien tracé mais son centre n'est pas ${i}.`,element:r}}return{isValid:!0,message:"",element:r}}function Ne(n){const t=n.replace(/^#/,""),i=Number.parseInt(t,16),e=i>>16&255,s=i>>8&255,o=i&255;return`{rgb,255:red,${e}; green,${s}; blue,${o}}`}function Me(n){const t=n.match(/\d+(\.\d+)?/g);if(t&&t.length>=3){const i=Number.parseInt(t[0]),e=Number.parseInt(t[1]),s=Number.parseInt(t[2]);return`{rgb,255:red,${i}; green,${e}; blue,${s}}`}throw new Error("Invalid RGBA color format")}function st(n){return n.includes("#")?Ne(n):n.includes("rgba")?Me(n):n==="currentColor"?"black":n}class S{constructor(t,{color:i,id:e,isChild:s,isDashed:o,isSelectable:r,isVisible:a,opacity:c,thickness:l}){if(this._isHover=!1,this._isSelected=!1,this._opacity=1,this.isHidden=!1,this.isDeletable=!0,this.figure=t,this.isChild=s??!1,this.isSelectable=r??!0,e==null||this.figure.elements.has(e)){if(e!=null&&this.figure.elements.has(e))throw Error(`id ${e} déjà utilisé`);if(this.isChild){let h=0;for(;this.figure.elements.has(`elementTmp${h.toString()}`);)h++;this.id=`elementTmp${h.toString()}`}else{let h=0;for(;this.figure.elements.has(`element${h.toString()}`);)h++;this.id=`element${h.toString()}`}}else this.id=e;this.figure.elements.set(this.id,this),this._color=i??this.figure.options.color,this._thickness=l??this.figure.options.thickness,this._isDashed=o??this.figure.options.isDashed,this._isVisible=a??!0,this._opacity=c??1,this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","g"),this.observers=[]}changeColor(t,i){const e=i==="mathalea"?O:i;if(t.groupSvg.children.length>0)for(const s of Array.from(t.groupSvg.children))s.setAttribute("stroke",e);else t.groupSvg.setAttribute("stroke",e)}distancePointer(t,i){return Number.POSITIVE_INFINITY}draw(){}hide(){this.isVisible=!1,this.isHidden=!0}jsonOptions(){const t={color:this.color,id:this.id,isChild:this.isChild,isDashed:this.isDashed,isVisible:this.isVisible,isSelectable:this.isSelectable,isDeletable:this.isDeletable,opacity:this.opacity,thickness:this.thickness,type:this.type};return this.transformation?.type==="dilate"?{...t,idTransformationCenter:this.transformation.center.id,idTransformationOrigin:this.transformation.origin.id,transformationFactor:this.transformation.factor,type:"ElementByDilate"}:this.transformation?.type==="reflect"?{...t,idTransformationCenter:this.transformation.center.id,idTransformationOrigin:this.transformation.origin.id,type:"ElementByReflect"}:this.transformation?.type==="reflectOverLine"?{...t,idTransformationLine:this.transformation.line.id,idTransformationOrigin:this.transformation.origin.id,type:"ElementByReflectOverLine"}:this.transformation?.type==="rotation"?{...t,idTransformationCenter:this.transformation.center.id,idTransformationOrigin:this.transformation.origin.id,transformationAngle:this.transformation.angle,type:"ElementByRotation"}:this.transformation?.type==="translation"?{...t,idTransformationPoint1:this.transformation.point1.id,idTransformationPoint2:this.transformation.point2.id,idTransformationOrigin:this.transformation.origin.id,type:"ElementByTranslation"}:t}notify(){for(const t of this.observers)t.update()}remove(){if(!this.isDeletable)return;const t=this.figure.elements.get(this.id),i=t?.observers;if(i!==void 0)for(const e of i)e.remove();t!==void 0&&this.figure.elements.delete(this.id),this.groupSvg.remove()}setVisibilityColorThicknessAndDashed(){this.isVisible=this._isVisible,this.color=this._color,this.thickness=this._thickness,!this.type.includes("Point")&&(this.isDashed=this._isDashed)}show(){this.isVisible=!0}subscribe(t){this.observers.push(t)}temp(){return this.figure.tmpElements.push(this),this.color=this.figure.options.tmpColor,this.thickness=this.figure.options.tmpThickness,"isDashed"in this&&(this.isDashed=this.figure.options.tmpIsDashed),"fillColor"in this&&(this.fillColor=this.figure.options.tmpFillColor),"fillOpacity"in this&&(this.fillOpacity=this.figure.options.tmpFillOpacity),this}tempShow(){this.isVisible=!0,this.changeColor(this,this.figure.options.tmpColor),V(this,.5)}toJSON(){return{...this.jsonOptions}}unsubscribe(t){this.observers=this.observers.filter(i=>i!==t)}update(){}set color(t){this._color=t,this.changeColor(this,t)}get color(){return this._color}get description(){return this.id}set isDashed(t){t?this.groupSvg.setAttribute("stroke-dasharray","4 3"):this.groupSvg.removeAttribute("stroke-dasharray"),this._isDashed=t}get isDashed(){return this._isDashed}get isHover(){return this._isHover}set isHover(t){this.figure.currentState==="HIDE"?t?(this.changeColor(this,O),V(this,this._thickness+2)):!this._isSelected&&!this.isHidden?(this.changeColor(this,this._color),V(this,this._thickness)):this.tempShow():t?(this.changeColor(this,O),V(this,this._thickness+2)):!this._isSelected&&!this.isHidden&&(this.changeColor(this,this._color),V(this,this._thickness)),this._isHover=t}get isSelected(){return this._isSelected}set isSelected(t){t?(this.changeColor(this,O),V(this,this._thickness+2)):this._isHover||(this.changeColor(this,this._color),V(this,this._thickness)),this._isSelected=t}set isVisible(t){t?this.figure.svg.appendChild(this.groupSvg):this.groupSvg.remove(),this._isVisible=t}get isVisible(){return this._isVisible}get latex(){return`% ${this.type} ${this.id}} n'a pas de sortie LaTeX`}get latexOptions(){const t=[];return this.color!=="black"&&this.color!==""&&t.push(`color=${st(this.color)}`),this.thickness!==1&&t.push(`line width=${this.thickness}`),this.isDashed&&t.push("dashed"),t.length>0?`[${t.join(",")}]`:""}get opacity(){return this._opacity}set opacity(t){this._opacity=t,this.groupSvg.setAttribute("opacity",`${t}`)}set thickness(t){this._thickness=t,V(this,t)}get thickness(){return this._thickness}}function V(n,t){if(n.groupSvg.children.length>0)for(const i of Array.from(n.groupSvg.children))(i.getAttribute("stroke-readonly")===null||i.getAttribute("stroke-readonly")==="0")&&i.setAttribute("stroke-width",`${t}`);else n.groupSvg.setAttribute("stroke-width",`${t}`)}function Pe({checkOnlyAbscissa:n=!1,figure:t,label:i,x:e,y:s=0,color:o}){let r=[];if(o!==void 0?r=[...t.elements.values()].filter(l=>l instanceof S&&l.type!=="pointer"&&l.type.includes("Point")&&l.color===o):r=[...t.elements.values()].filter(l=>l.type!=="pointer"&&l.type.startsWith("Point")&&l instanceof S&&l.isSelectable),i!==void 0){const l=r.filter(g=>g.label===i);if(l.length===0)return{isValid:!1,message:`Il n'y a pas de point $${i}$ dans la figure.`,points:[]};if(l.length>1)return{isValid:!1,message:`Il y a ${l.length} points $${i}$ dans la figure.`,points:l};const h=l[0],d=p(h.x)===p(e)&&p(h.y)===p(s);let u;return n?u=d?"":`Le point $${i}$ a pour abscisse $${A(h.x)}$ et non $${A(e)}$.`:u=d?"":`Le point $${i}$ a pour coordonnées $(${A(h.x)}\\;;\\;${A(h.y)})$ et non $(${A(e)}\\;;\\;${A(s)})$.`,{isValid:d,message:u,points:[h]}}let a=r.filter(l=>p(l.x)===p(e)&&p(l.y)===p(s));return n&&(a=r.filter(l=>p(l.x)===p(e))),a.length===0?n?{isValid:!1,message:`Il n'y a pas de point d'abscisse $${A(e)}$ dans la figure.`,points:[]}:{isValid:!1,message:`Il n'y a pas de point en $(${A(e)}\\;;\\;${A(s)})$ dans la figure.`,points:[]}:a.length>1?n?{isValid:!0,message:`Il y a ${a.length} points d'abscisse $${A(e)}$ dans la figure.`,points:a}:{isValid:!0,message:`Il y a ${a.length} points de coordonnées $(${A(e)}\\;;\\;${A(s)})$ dans la figure.`,points:a}:{isValid:!0,message:"",points:[a[0]]}}function Ae({distance:n,figure:t,label1:i,label2:e,shake:s=!0,time:o=0}){const r=[...t.elements.values()].filter(g=>g.type!=="pointer"&&g.type.includes("Point")),a=r.filter(g=>g.label===i);if(a.length===0)return{isValid:!1,message:`Il n'y a pas de point $${i}$ dans la figure.`};if(a.length>1)return{isValid:!1,message:`Il y a ${a.length} points $${i}$ dans la figure.`};const c=r.filter(g=>g.label===e);if(c.length===0)return{isValid:!1,message:`Il n'y a pas de point $${e}$ dans la figure.`};if(c.length>1)return{isValid:!1,message:`Il y a ${c.length} points $${e}$ dans la figure.`};const l=a[0],h=c[0];let d=Math.abs(C(l,h)-n)<.001;s&&(z({figure:t,time:o}),d=d&&Math.abs(C(l,h)-n)<.001,z({figure:t,time:o}),d=d&&Math.abs(C(l,h)-n)<.001);let u="";return d?u=`La distance entre les points $${i}$ et $${e}$ est bien toujours égale à ${n}.`:u=`La distance entre les points $${i}$ et $${e}$ n'est pas toujours égale à ${n}.`,{isValid:d,message:u}}function pn({figure:n,nameLine:t,color:i}){let e,s=[],o=[];if(e=[...n.elements.values()].filter(a=>a.type==="Line"),e.length===0)return{isValid:!1,message:"Il n'y a pas de droite dans la figure."};const r=Array.isArray(t)?t[0]:t;return e.length!==0&&(s=e.filter(a=>t.includes(a.notation)||t.includes(a.point1.label+a.point2.label)||t.includes(a.point2.label+a.point1.label)),s.length===0)?{isValid:!1,message:`${r} n'existe pas sur la figure.`}:(o=s.filter(a=>a.color===i),o.length===0?{isValid:!1,message:"Il n'y a pas de droite de la couleur demandée dans la figure."}:{isValid:!0,message:"La droite a bien été tracée."})}function Te({figure:n,point1:t,point2:i,color:e}){let s,o;if(s=[...n.elements.values()].filter(l=>l.type.includes("Line")),s.length===0)return{isValid:!1,message:"Il n'y a pas de droite dans la figure."};if(e!==void 0){if(o=s.filter(u=>u.color===e),o.length===0)return{isValid:!1,message:"Il n'y a pas de droite de la couleur demandée dans la figure."};const[l,h,d]=H(t,i);for(const u of o){const[g,y,f]=u.equation;if(Ct(l,h,d,g,y,f))return{isValid:!0,message:"La droite a bien été tracée."}}}const[r,a,c]=H(t,i);for(const l of s){const[h,d,u]=l.equation;if(Ct(r,a,c,h,d,u))return e===void 0?{isValid:!0,message:"La droite a bien été tracée."}:{isValid:!1,message:"La droite n'est pas tracée de la bonne couleur."}}return{isValid:!1,message:"Aucune droite ne correspond à la réponse attendue."}}function Ct(n,t,i,e,s,o,r=2){if(t===0&&s===0)return i/n===o/e;const a=t!==0?-n/t:Number.POSITIVE_INFINITY,c=s!==0?-e/s:Number.POSITIVE_INFINITY,l=t!==0?-i/t:Number.NaN,h=s!==0?-o/s:Number.NaN;return p(a,r)===p(c,r)&&p(l,r)===p(h,r)}function Le({figure:n,label1:t,label2:i,time:e=0}){const[s,o]=t.split(""),[r,a]=i.split(""),c=[...n.elements.values()].filter(m=>m.type!=="pointer"&&m.type.includes("Point")),l=c.filter(m=>m.label===s);if(l.length===0)return{isValid:!1,message:`Il n'y a pas de point $${s}$ dans la figure.`};if(l.length>1)return{isValid:!1,message:`Il y a ${l.length} points $${s}$ dans la figure.`};const h=c.filter(m=>m.label===o);if(h.length===0)return{isValid:!1,message:`Il n'y a pas de point $${o}$ dans la figure.`};if(h.length>1)return{isValid:!1,message:`Il y a ${h.length} points $${o}$ dans la figure.`};const d=c.filter(m=>m.label===r);if(d.length===0)return{isValid:!1,message:`Il n'y a pas de point $${r}$ dans la figure.`};if(d.length>1)return{isValid:!1,message:`Il y a ${d.length} points $${r}$ dans la figure.`};const u=c.filter(m=>m.label===a);if(u.length===0)return{isValid:!1,message:`Il n'y a pas de point $${a}$ dans la figure.`};if(u.length>1)return{isValid:!1,message:`Il y a ${u.length} points $${a}$ dans la figure.`};const g=l[0],y=h[0],f=d[0],w=u[0];let $=p((y.y-g.y)/(y.x-g.x),2)===p((w.y-f.y)/(w.x-f.x),2);z({figure:n,time:e}),$=$&&p((y.y-g.y)/(y.x-g.x),2)===p((w.y-f.y)/(w.x-f.x),2),z({figure:n,time:e}),$=$&&p((y.y-g.y)/(y.x-g.x),2)===p((w.y-f.y)/(w.x-f.x),2);const x=$?`Les droites $(${s}${o})$ et $(${r}${a})$ sont bien toujours parallèles.`:`Les droites $(${s}${o})$ et $(${r}${a})$ ne sont pas toujours parallèles.`;return{isValid:$,message:x}}class D extends S{constructor(t,{borderSize:i,color:e=t.options.color,isDashed:s=t.options.isDashed,point1:o,point2:r,shape:a="",thickness:c=t.options.thickness,...l}){super(t,l),this.type="Segment",this.point1=o,this.point2=r,this.shape=a,this.borderSize=i??t.options.borderSize,this.color=e,this.thickness=c,this.isDashed=s,this.point1.subscribe(this),this.point2.subscribe(this)}dilate(t,i,e){const s=this.point1.dilate(t,i,{isChild:!0,isVisible:!1}),o=this.point2.dilate(t,i,{isChild:!0,isVisible:!1,...e});let r=this.type;r!=="Ray"&&r!=="Segment"&&(r="Line");const a=this.figure.create(r,{point1:s,point2:o});return a.transformation={center:t,factor:i,origin:this,type:"dilate"},a}distancePointer(t,i){const e={x:t,y:i},s=C(e,this.point1),o=C(e,this.point2),r=C(this.point1,this.point2),a=((t-this.point1.x)*(this.point2.x-this.point1.x)+(i-this.point1.y)*(this.point2.y-this.point1.y))/r**2;if(a<0)return s;if(a>1)return o;const c=this.point1.x+a*(this.point2.x-this.point1.x),l=this.point1.y+a*(this.point2.y-this.point1.y);return C(e,{x:c,y:l})}draw(){this.svgLine=document.createElementNS("http://www.w3.org/2000/svg","line"),this.groupSvg.appendChild(this.svgLine),this.shape!==""&&(this.svgBorder1=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgBorder2=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgArrow1=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.svgArrow2=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.appendChild(this.svgBorder1),this.groupSvg.appendChild(this.svgBorder2),this.groupSvg.appendChild(this.svgArrow1),this.groupSvg.appendChild(this.svgArrow2)),this.setVisibilityColorThicknessAndDashed(),this.update()}drawArrow1(){const t={x:this.point1.x,y:this.point1.y},i={x:this.point2.x,y:this.point2.y},e=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:s,y:o}=T(i,t,1/e*this.borderSize*2,45),{x:r,y:a}=T(i,t,1/e*this.borderSize*2,-45),c=this.figure.xToSx(s),l=this.figure.xToSx(r),h=this.figure.yToSy(o),d=this.figure.yToSy(a),u=this.figure.xToSx(t.x),g=this.figure.yToSy(t.y);St(c,l,h,d,u,g)&&(this.svgArrow1.setAttribute("points",`${c},${h} ${u},${g} ${l},${d}`),this.groupSvg.appendChild(this.svgArrow1))}drawArrow2(){const t={x:this.point1.x,y:this.point1.y},i={x:this.point2.x,y:this.point2.y},e=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:s,y:o}=T(t,i,1/e*this.borderSize*2,45),{x:r,y:a}=T(t,i,1/e*this.borderSize*2,-45),c=this.figure.xToSx(s),l=this.figure.xToSx(r),h=this.figure.yToSy(o),d=this.figure.yToSy(a),u=this.figure.xToSx(i.x),g=this.figure.yToSy(i.y);St(c,l,h,d,u,g)&&(this.svgArrow2.setAttribute("points",`${c},${h} ${u},${g} ${l},${d}`),this.groupSvg.appendChild(this.svgArrow2))}drawBorder1(){const t={x:this.point1.x,y:this.point1.y},i={x:this.point2.x,y:this.point2.y},e=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:s,y:o}=T(i,t,1/e*this.borderSize,90),{x:r,y:a}=T(i,t,1/e*this.borderSize,-90),c=this.figure.xToSx(s).toString(),l=this.figure.xToSx(r).toString(),h=this.figure.yToSy(o).toString(),d=this.figure.yToSy(a).toString();this.svgBorder1.setAttribute("x1",c),this.svgBorder1.setAttribute("y1",h),this.svgBorder1.setAttribute("x2",l),this.svgBorder1.setAttribute("y2",d),this.groupSvg.appendChild(this.svgBorder1)}drawBorder2(){const t={x:this.point1.x,y:this.point1.y},i={x:this.point2.x,y:this.point2.y},e=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y),{x:s,y:o}=T(t,i,1/e*this.borderSize,90),{x:r,y:a}=T(t,i,1/e*this.borderSize,-90),c=this.figure.xToSx(s).toString(),l=this.figure.xToSx(r).toString(),h=this.figure.yToSy(o).toString(),d=this.figure.yToSy(a).toString();this.svgBorder2.setAttribute("x1",c),this.svgBorder2.setAttribute("y1",h),this.svgBorder2.setAttribute("x2",l),this.svgBorder2.setAttribute("y2",d),this.groupSvg.appendChild(this.svgBorder2)}reflect(t,i){const e=this.point1.reflect(t,{isChild:!0,isVisible:!1}),s=this.point2.reflect(t,{isChild:!0,isVisible:!1});let o=this.type;o!=="Ray"&&o!=="Segment"&&(o="Line");const r=this.figure.create(o,{point1:e,point2:s,...i});return r.transformation={center:t,origin:this,type:"reflect"},r}reflectOverLine(t,i){const e=this.point1.reflectOverLine(t,{isChild:!0,isVisible:!1}),s=this.point2.reflectOverLine(t,{isChild:!0,isVisible:!1});let o=this.type;o!=="Ray"&&o!=="Segment"&&(o="Line");const r=this.figure.create(o,{point1:e,point2:s,...i});return r.transformation={line:t,origin:this,type:"reflectOverLine"},r}rotate(t,i,e){const s=this.point1.rotate(t,i,{isChild:!0,isVisible:!1}),o=this.point2.rotate(t,i,{isChild:!0,isVisible:!1,...e});let r=this.type;r!=="Ray"&&r!=="Segment"&&(r="Line");const a=this.figure.create(r,{point1:s,point2:o});return a.transformation={angle:i,center:t,origin:this,type:"rotation"},a}toJSON(){return{...this.jsonOptions(),borderSize:this.borderSize,idPoint1:this.point1.id,idPoint2:this.point2.id,shape:this.shape}}translate(t,i,e){const s=this.point1.translate(t,i),o=this.point2.translate(t,i);let r=this.type;r!=="Ray"&&r!=="Segment"&&(r="Line");const a=this.figure.create(r,{point1:s,point2:o,...e});return a.transformation={origin:this,point1:t,point2:i,type:"translation"},a}update(){if(this.notify(),this.point1.x===void 0||this.point1.y===void 0||this.point2.x===void 0||this.point2.y===void 0||!Number.isFinite(this.point1.x)||!Number.isFinite(this.point1.y)||!Number.isFinite(this.point2.x)||!Number.isFinite(this.point2.y))this.svgLine.removeAttribute("x1"),this.svgLine.removeAttribute("x2"),this.svgLine.removeAttribute("y1"),this.svgLine.removeAttribute("y2");else{const t=this.figure.xToSx(this.point1.x),i=this.figure.xToSx(this.point2.x),e=this.figure.yToSy(this.point1.y),s=this.figure.yToSy(this.point2.y);this.svgLine.setAttribute("x1",`${t}`),this.svgLine.setAttribute("y1",`${e}`),this.svgLine.setAttribute("x2",`${i}`),this.svgLine.setAttribute("y2",`${s}`)}this.shape?.at(0)==="|"?(this.drawBorder1(),this.svgArrow1?.remove()):this.shape?.at(0)==="<"?(this.drawArrow1(),this.svgBorder1?.remove()):(this.svgArrow1?.remove(),this.svgBorder1?.remove()),this.shape?.at(-1)==="|"?(this.drawBorder2(),this.svgArrow2.remove()):this.shape?.at(-1)===">"?(this.drawArrow2(),this.svgBorder2?.remove()):(this.svgArrow2?.remove(),this.svgBorder2?.remove())}get angleWithHorizontalInDegres(){const[t,i]=this.equation;return Math.atan2(-t,i)*180/Math.PI}get color(){return this._color}set color(t){super.color=t;for(const i of[this.svgArrow1,this.svgArrow2])i!==void 0&&(i.setAttribute("stroke",t),i.setAttribute("fill",t))}get description(){return`Segment ${this.notation}`}get equation(){if(this.point1.x===void 0||this.point1.y===void 0||this.point2.x===void 0||this.point2.y===void 0)return[Number.NaN,Number.NaN,Number.NaN];try{const t=this.point1.y-this.point2.y,i=this.point2.x-this.point1.x,e=(this.point1.x-this.point2.x)*this.point1.y+(this.point2.y-this.point1.y)*this.point1.x;return[t,i,e]}catch(t){return console.error("Erreur dans Line.equation()",t),[Number.NaN,Number.NaN,Number.NaN]}}get latex(){let t=`%${this.description}`,e=[this.latexOptions.replace(/^\[|\]$/g,"").trim(),this.shape].filter(Boolean).join(", ");return(e.includes("->")||e.includes("<-"))&&(e+=", >=stealth"),t+=`
\\draw[${e}] (${this.point1.x}, ${this.point1.y}) -- (${this.point2.x}, ${this.point2.y});`,t}get notation(){const t=this.point1.label!==""?this.point1.label:this.point1.id,i=this.point2.label!==""?this.point2.label:this.point2.id;return`[${t}${i}]`}get unitPerpendicularVectorBinome(){try{const[t,i]=this.equation;return{x:t,y:i}}catch(t){return console.error("Erreur dans Line.directeur()",t),{x:Number.NaN,y:Number.NaN}}}get unitVectorBinome(){try{const[t,i]=this.equation;return{x:i,y:-t}}catch(t){return console.error("Erreur dans Line.normal()",t),{x:Number.NaN,y:Number.NaN}}}}function St(...n){for(const t of n)if(!Number.isFinite(t))return!1;return!0}function De({color:n,label1:t,label2:i,figure:e}){const s=[...e.elements.values()].filter(h=>h.type!=="pointer"&&h.type.includes("Point")),o=s.filter(h=>h.label===t),r=s.filter(h=>h.label===i);if(o.length===0)return{isValid:!1,message:`Il n'y a pas de point $${t}$ dans la figure.`};if(o.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${t}$ dans la figure.`};if(r.length===0)return{isValid:!1,message:`Il n'y a pas de point $${i}$ dans la figure.`};if(r.length>1)return{isValid:!1,message:`Il y a plusieurs points nommés $${i}$ dans la figure.`};let a=[...e.elements.values()].filter(h=>h instanceof D);if(n!==void 0){if(a=a.filter(h=>h instanceof D&&h.color===n),a.length>1)return{isValid:!1,message:`Il y a plusieurs droites de couleur ${n}.`};if(a.length===0)return{isValid:!1,message:`Il n'y a aucune droite de couleur ${n}.`}}if(a.length===0)return{isValid:!1,message:"Aucune droite n'est tracée."};let c=!1;for(const h of a){const d=C(h.point1,o[0]),u=C(h.point1,r[0]),g=C(h.point2,o[0]),y=C(h.point2,r[0]);if(c=Math.abs(d-u)<.001&&Math.abs(g-y)<.001,c)break}let l=c?`La médiatrice de $[${t+i}]$ bien construite`:`La médiatrice de [$${t+i}]$ n'est pas construite`;return l+=n!==void 0&&c?` en ${n}.`:".",{isValid:c,message:l}}function _e({figure:n,label:t,x:i,y:e,color:s}){let o=[];if(s!==void 0?o=[...n.elements.values()].filter(c=>c instanceof S&&c.type!=="pointer"&&c.type==="Point"&&c.color===s):o=[...n.elements.values()].filter(c=>c.type!=="pointer"&&c.type==="Point"),t!==void 0){const c=o.filter(u=>u.label===t);if(c.length===0)return{isValid:!1,message:`Il n'y a pas de point $${t}$ dans la figure.`,points:[]};if(c.length>1)return{isValid:!1,message:`Il y a ${c.length} points $${t}$ dans la figure.`,points:c};const l=c[0],h=p(l.x)===p(i)&&p(l.y)===p(e),d=h?"":`Le point $${t}$ n'est pas  non bien placé dans la figure.`;return{isValid:h,message:d,points:[l]}}const r=o.filter(c=>p(c.x)===p(i)&&p(c.y)===p(e));return r.length===0?{isValid:!1,message:"Un point attendu n'est pas à sa place dans la figure.",points:[]}:r.length>1?{isValid:!0,message:`Il y a ${r.length} points confondus à la place d'un point attendu dans la figure.`,points:r}:{isValid:!0,message:"",points:[r[0]]}}function X(n,t,i){const e=n<=t&&t<=i,s=n>=t&&t>=i;return e||s}function Oe({figure:n,labelPt:t,labelPt1:i,labelPt2:e}){const s=[...n.elements.values()].filter(a=>a.type!=="pointer"&&a.type.includes("Point")&&"label"in a&&a.label===t);if(s.length===0)return{isValid:!1,message:`Il n'existe pas de point ${t} sur la figure.`};if(s.length>1)return{isValid:!1,message:`Il existe trop de points ${t} sur la figure.`};const o=[...n.elements.values()].filter(a=>a.type!=="pointer"&&a.type.includes("Point")&&"label"in a&&a.label===i);if(o.length===0)return{isValid:!1,message:`Il n'existe pas de point ${i} sur la figure.`};if(o.length>1)return{isValid:!1,message:`Il existe trop de points ${i} sur la figure.`};const r=[...n.elements.values()].filter(a=>a.type!=="pointer"&&a.type.includes("Point")&&"label"in a&&a.label===e);return r.length===0?{isValid:!1,message:`Il n'existe pas de point ${e} sur la figure.`}:r.length>1?{isValid:!1,message:`Il existe trop de points ${e} sur la figure.`}:!n.checkPointOnLine({labelPt:t,nameLine:`${i}${e}`}).isValid||!X(o[0].x,s[0].x,r[0].x)||!X(o[0].y,s[0].y,r[0].y)?{isValid:!1,message:`Le point ${t} n'est pas sur le segment[${i}${e}].`}:{isValid:!0,message:`Le point ${t} est sur le segment[${i}${e}].`}}function R(n,t){return Math.hypot(n.x-t.x,n.y-t.y)}function Ve(n){try{let t,i;return n>180?(t=1,i=0):n<-180?(t=1,i=1):(t=0,i=n>0?0:1),[t,i]}catch{return[Number.NaN,Number.NaN]}}function K(n){return n-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}function $t(n,t,i){const e=i*Math.PI/180;return{x:n.x+t*Math.cos(e),y:n.y+t*Math.sin(e)}}class Ft extends S{constructor(t,{axeX:i=!0,axeY:e=!0,color:s="black",grid:o=!0,labelX:r=!0,labelY:a=!0,stepX:c=1,stepY:l=1,subGrid:h=!1,subGridDivisions:d=5,xMax:u=t.xMax,xMin:g=t.xMin,yMax:y=t.yMax,yMin:f=t.yMin,strokeWidthGrid:w=.5,thickThickness:$=2,thickHeight:x=4,repereOij:m=!1,...v}={}){super(t,{...v}),this.type="Grid",this._color=s,this.axeX=i,this.axeY=e,this.grid=o,this.subGrid=h,this.labelX=r,this.labelY=a,this.stepX=c,this.stepY=l,this.subGridDivisions=d,this.xMin=g,this.xMax=u,this.yMin=f,this.yMax=y,this.labels=[],this.vectors=[],this.strokeWidthGrid=w,this.thickThickness=$,this.thickHeight=x,this.repereOij=m,this.thicks=document.createElementNS("http://www.w3.org/2000/svg","g")}draw(){if(this.axeX){const i=document.createElementNS("http://www.w3.org/2000/svg","defs");this.figure.svg.appendChild(i);const e=document.createElementNS("http://www.w3.org/2000/svg","marker");e.setAttribute("id","arrow"),e.setAttribute("markerWidth","20"),e.setAttribute("markerHeight","20"),e.setAttribute("refX","0"),e.setAttribute("refY","6"),e.setAttribute("orient","auto"),e.setAttribute("markerUnits","strokeWidth");const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M0,0 L0,12 L18,6 z"),e.appendChild(s),i.appendChild(e);const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),o.setAttribute("y1",this.figure.yToSy(0).toString()),o.setAttribute("x2",(this.figure.xToSx(this.xMax)-20).toString()),o.setAttribute("y2",this.figure.yToSy(0).toString()),o.setAttribute("stroke","black"),o.setAttribute("stroke-width","1"),o.setAttribute("marker-end","url(#arrow)");for(let r=0;r<this.xMax;r+=this.stepX){const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",this.figure.xToSx(r).toString()),a.setAttribute("y1",(-this.thickHeight).toString()),a.setAttribute("x2",this.figure.xToSx(r).toString()),a.setAttribute("y2",this.thickHeight.toString()),a.setAttribute("stroke",this._color),a.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(a)}for(let r=0;r>=this.xMin;r-=this.stepX){const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",this.figure.xToSx(r).toString()),a.setAttribute("y1",(-this.thickHeight).toString()),a.setAttribute("x2",this.figure.xToSx(r).toString()),a.setAttribute("y2",this.thickHeight.toString()),a.setAttribute("stroke",this._color),a.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(a)}this.groupSvg.appendChild(o)}if(this.axeY){const i=document.createElementNS("http://www.w3.org/2000/svg","defs");this.figure.svg.appendChild(i);const e=document.createElementNS("http://www.w3.org/2000/svg","marker");e.setAttribute("id","arrow"),e.setAttribute("markerWidth","20"),e.setAttribute("markerHeight","20"),e.setAttribute("refX","0"),e.setAttribute("refY","6"),e.setAttribute("orient","auto"),e.setAttribute("markerUnits","strokeWidth");const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M0,0 L0,12 L18,6 z"),e.appendChild(s),i.appendChild(e);const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",this.figure.xToSx(0).toString()),o.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),o.setAttribute("x2",this.figure.xToSx(0).toString()),o.setAttribute("y2",(this.figure.yToSy(this.yMax)+20).toString()),o.setAttribute("stroke","black"),o.setAttribute("stroke-width","1"),o.setAttribute("marker-end","url(#arrow)");for(let r=0;r<this.yMax;r+=this.stepY){const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",(-this.thickHeight).toString()),a.setAttribute("y1",this.figure.yToSy(r).toString()),a.setAttribute("x2",this.thickHeight.toString()),a.setAttribute("y2",this.figure.yToSy(r).toString()),a.setAttribute("stroke",this._color),a.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(a)}for(let r=0;r>=this.yMin;r-=this.stepY){const a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",(-this.thickHeight).toString()),a.setAttribute("y1",this.figure.yToSy(r).toString()),a.setAttribute("x2",this.thickHeight.toString()),a.setAttribute("y2",this.figure.yToSy(r).toString()),a.setAttribute("stroke",this._color),a.setAttribute("stroke-width",this.thickThickness.toString()),this.thicks.appendChild(a)}this.groupSvg.appendChild(o)}if(this.grid){const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("stroke","gray"),i.setAttribute("stroke-opacity","0.5"),this.groupSvg.appendChild(i);for(let e=this.xMin<=0?0:this.xMin;e<=this.xMax;e+=this.stepX){const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",this.figure.xToSx(e).toString()),s.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),s.setAttribute("x2",this.figure.xToSx(e).toString()),s.setAttribute("y2",this.figure.yToSy(this.yMax).toString()),s.setAttribute("stroke-width",this.strokeWidthGrid.toString()),i.appendChild(s)}for(let e=this.xMax<0?this.xMax:this.xMax<this.stepX?0:-1;e>=this.xMin;e-=this.stepX){const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",this.figure.xToSx(e).toString()),s.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),s.setAttribute("x2",this.figure.xToSx(e).toString()),s.setAttribute("y2",this.figure.yToSy(this.yMax).toString()),s.setAttribute("stroke-width","0.5"),i.appendChild(s)}for(let e=this.yMin<=0?0:this.yMin;e<=this.yMax;e+=this.stepY){const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),s.setAttribute("y1",this.figure.yToSy(e).toString()),s.setAttribute("x2",this.figure.xToSx(this.xMax).toString()),s.setAttribute("y2",this.figure.yToSy(e).toString()),s.setAttribute("stroke-width",this.strokeWidthGrid.toString()),i.appendChild(s)}for(let e=this.yMax<0?this.yMax:this.yMax<this.stepY?0:-1;e>=this.yMin;e-=this.stepY){const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),s.setAttribute("y1",this.figure.yToSy(e).toString()),s.setAttribute("x2",this.figure.xToSx(this.xMax).toString()),s.setAttribute("y2",this.figure.yToSy(e).toString()),s.setAttribute("stroke-width","0.5"),i.appendChild(s)}}if(this.subGrid){const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("stroke","gray"),i.setAttribute("stroke-opacity","0.2"),this.groupSvg.appendChild(i);for(let e=this.xMin;e<=this.xMax;e+=this.stepX/this.subGridDivisions){const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",this.figure.xToSx(e).toString()),s.setAttribute("y1",this.figure.yToSy(this.yMin).toString()),s.setAttribute("x2",this.figure.xToSx(e).toString()),s.setAttribute("y2",this.figure.yToSy(this.yMax).toString()),s.setAttribute("stroke-width","0.25"),i.appendChild(s)}for(let e=this.yMin;e<=this.yMax;e+=this.stepY/this.subGridDivisions){const s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",this.figure.xToSx(this.xMin).toString()),s.setAttribute("y1",this.figure.yToSy(e).toString()),s.setAttribute("x2",this.figure.xToSx(this.xMax).toString()),s.setAttribute("y2",this.figure.yToSy(e).toString()),s.setAttribute("stroke-width","0.25"),i.appendChild(s)}}if(this.labelX){for(let i=this.labelY?this.stepX:0;i<this.xMax;i+=this.stepX)this.labels.push(this.figure.create("TextByPosition",{anchor:"topCenter",dyInPixels:-this.thickHeight-2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${i.toString()}$`,x:i,y:0}));for(let i=-this.stepX;i>=this.xMin;i-=this.stepX)this.labels.push(this.figure.create("TextByPosition",{anchor:"topCenter",dyInPixels:-this.thickHeight-2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${i.toString()}$`,x:i,y:0}))}if(this.labelY){for(let i=this.stepY;i<this.yMax;i+=this.stepY)this.labels.push(this.figure.create("TextByPosition",{anchor:"middleRight",dxInPixels:-this.thickHeight-5,dyInPixels:0,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${i.toString()}$`,x:0,y:i}));for(let i=-this.stepY;i>=this.yMin;i-=this.stepY)this.labels.push(this.figure.create("TextByPosition",{anchor:"middleRight",dxInPixels:-this.thickHeight-5,dyInPixels:2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:`$${i.toString()}$`,x:0,y:i-.1}));this.labelX||this.labels.push(this.figure.create("TextByPosition",{anchor:"middleRight",dxInPixels:this.thickHeight+10,dyInPixels:2,fontSize:"0.67em",isChild:!0,isSelectable:!0,text:"$0$",x:-1.2,y:0}))}if(this.groupSvg.appendChild(this.thicks),this.setVisibilityColorThicknessAndDashed(),this.repereOij){const i=this.figure.create("Point",{x:0,y:0,isVisible:!1,isChild:!0});this.vectors=[this.figure.create("Vector",{origin:i,x:1,y:0,color:O,thickness:3,isChild:!0}),this.figure.create("Vector",{origin:i,x:0,y:1,color:O,thickness:3,isChild:!0})],this.labels.push(this.figure.create("TextByPosition",{text:"$O$",x:-.25,y:-.25,anchor:"topRight",color:O,fontSize:"8pt",isChild:!0}),this.figure.create("TextByPosition",{text:"$\\vec \\imath$",x:.5,y:-.25,anchor:"topRight",color:O,fontSize:"8pt",isChild:!0}),this.figure.create("TextByPosition",{text:"$\\vec \\jmath$",x:-.5,y:.25,anchor:"bottomRight",color:O,fontSize:"8pt",isChild:!0}))}this.update()}get latex(){let t=`%${this.description}`;return t+=`
\\tkzInit[xmin=${this.xMin}, xmax=${this.xMax}, ymin=${this.yMin}, ymax=${this.yMax}]`,t+=`
\\tkzGrid[thick]`,t+="\\tkzAxeXY",t}get isVisible(){return super.isVisible}set isVisible(t){super.isVisible=t;for(const i of this.labels)i.isVisible=t;for(const i of this.vectors)i.isVisible=t}toJSON(){return{...this.jsonOptions(),xMin:this.xMin,xMax:this.xMax,yMin:this.yMin,yMax:this.yMax,axeX:this.axeX,axeY:this.axeY,grid:this.grid,labelX:this.labelX,labelY:this.labelY,repereOij:this.repereOij,stepX:this.stepX,stepY:this.stepY,subGrid:this.subGrid,thickHeight:this.thickHeight,thickThickness:this.thickThickness}}}class M extends S{constructor(t,{color:i=t.options.color,colorLabel:e=t.options.color,id:s,isChild:o,isFree:r=!0,isSelectable:a,isVisible:c=!0,label:l,labelIsVisible:h=t.options.labelIsVisible??!0,labelDxInPixels:d,labelDyInPixels:u,shape:g=t.options.shape,sizeInPixels:y,thickness:f,x:w=0,y:$=0}){if(s===void 0){let x=0;for(;t.elements.has(`point${x.toString()}`);)x++;s=`point${x.toString()}`}super(t,{color:i,id:s,isChild:o,isSelectable:a,thickness:f}),this.type="Point",this._shape=g??"x",this._sizeInPixels=y??t.options.pointSize,this._thickness=f??t.options.thicknessForPoint,this.labelDxInPixels=d??t.options.labelDxInPixels,this.labelDyInPixels=u??t.options.labelDyInPixels,this.figure.snapGrid&&this.isVisible?(this._x=Math.round(w/this.figure.dx)*this.figure.dx,this._y=Math.round($/this.figure.dy)*this.figure.dy):(this._x=w,this._y=$),this.label=l,this.labelIsVisible=h,this._colorLabel=e,this.isFree=r,this._isVisible=c??!0}redraw(){if(this.notify(),Number.isNaN(this._x)||Number.isNaN(this._y)){this.svgCircle?.remove(),this.svgLine1?.remove(),this.svgLine2?.remove(),this.elementTextLabel?.hide();return}if(this.elementTextLabel===void 0||this.elementTextLabel.x>this.figure.xMax||this.elementTextLabel.y>this.figure.yMax||this.elementTextLabel.x<this.figure.xMin||this.elementTextLabel.y<this.figure.yMin?this.elementTextLabel?.hide():this.isVisible&&this.labelIsVisible&&this.elementTextLabel?.show(),this._shape==="x"){const t=this.figure.xToSx(this._x)-this._sizeInPixels,i=this.figure.xToSx(this._x)+this._sizeInPixels,e=this.figure.xToSx(this._x)+this._sizeInPixels,s=this.figure.xToSx(this._x)-this._sizeInPixels,o=this.figure.yToSy(this._y)-this._sizeInPixels,r=this.figure.yToSy(this._y)+this._sizeInPixels,a=this.figure.yToSy(this._y)-this._sizeInPixels,c=this.figure.yToSy(this._y)+this._sizeInPixels;this.svgLine1.setAttribute("x1",`${t}`),this.svgLine1.setAttribute("y1",`${o}`),this.svgLine1.setAttribute("x2",`${i}`),this.svgLine1.setAttribute("y2",`${r}`),this.svgLine2.setAttribute("x1",`${e}`),this.svgLine2.setAttribute("y1",`${a}`),this.svgLine2.setAttribute("x2",`${s}`),this.svgLine2.setAttribute("y2",`${c}`),this.svgCircle?.remove(),this.groupSvg.appendChild(this.svgLine1),this.groupSvg.appendChild(this.svgLine2)}else if(this._shape==="o"){const t=this.figure.xToSx(this._x),i=this.figure.yToSy(this._y),e=this._sizeInPixels;this.svgCircle.setAttribute("cx",`${t}`),this.svgCircle.setAttribute("cy",`${i}`),this.svgCircle.setAttribute("r",`${e}`),this.svgLine1?.remove(),this.svgLine2?.remove(),this.groupSvg.appendChild(this.svgCircle)}else this._shape===""&&(this.svgLine1?.remove(),this.svgLine2?.remove(),this.svgCircle?.remove())}createSegmentToAxeX(){const t=this.figure.create("PointByProjectionOnAxisX",{isVisible:!1,origin:this});return this.figure.create("Segment",{isDashed:!0,point1:this,point2:t})}createSegmentToAxeY(){const t=this.figure.create("PointByProjectionOnAxisY",{isVisible:!1,origin:this});return this.figure.create("Segment",{isDashed:!0,point1:this,point2:t})}dilate(t,i,e){const s=this.figure.create("Point",e);return s.transformation={center:t,factor:i,origin:this,type:"dilate"},this.subscribe(s),t.subscribe(s),s.isFree=!1,s.update(),s}distancePointer(t,i){return this._x===void 0||this._y===void 0?Number.POSITIVE_INFINITY:Math.hypot((this._x-t)*this.figure.scale*this.figure.xScale,(this._y-i)*this.figure.scale*this.figure.yScale)}draw(){this.svgLine1=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgLine2=document.createElementNS("http://www.w3.org/2000/svg","line"),this.svgCircle=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","g"),this.setVisibilityColorThicknessAndDashed(),this.isVisible&&(this.shape=this._shape,this.label=this._label),this.update()}isInArc(t){const[i,e]=[this.x,this.y],s=R(this,t.center),o=R(t.center,t.start);if(s>o)return!1;const r=K(Math.atan2(e-t.center.y,i-t.center.x)),a=K(Math.atan2(t.start.y-t.center.y,t.start.x-t.center.x)),c=K(a+t.dynamicAngle.value*Math.PI/180);return a<c?a<r&&r<c:a<r||r<c}isInCircle(t){return(this.x-t.center.x)**2+(this.y-t.center.y)**2<=t.radius**2}isInPolygon(t){const i=this.x,e=this.y;let s=!1;for(let o=0;o<t.points.length;o++){const r=t.points.at(o%t.points.length),a=t.points.at((o+1)%t.points.length);r.y>e!=a.y>e&&i<(a.x-r.x)*(e-r.y)/(a.y-r.y)+r.x&&(s=!s)}return s}isOnline(t){const[i,e,s]=t.equation;let o=Math.abs(i*this.x+e*this.y+s)<10**-6;return t.type==="Segment"&&(this.x<Math.min(t.point1.x,t.point2.x)||this.x>Math.max(t.point1.x,t.point2.x)||this.y<Math.min(t.point1.y,t.point2.y)||this.y>Math.max(t.point1.y,t.point2.y))&&(o=!1),t.type==="Ray"&&(t.point1.x<t.point2.x&&this.x<t.point1.x&&(o=!1),t.point1.x>t.point2.x&&this.x>t.point1.x&&(o=!1),t.point1.y<t.point2.y&&this.y<t.point1.y&&(o=!1),t.point1.y>t.point2.y&&this.y>t.point1.y&&(o=!1)),o}jsonOptions(){return{...super.jsonOptions(),colorLabel:this.colorLabel,label:this.label,labelDxInPixels:this.labelDxInPixels,labelDyInPixels:this.labelDyInPixels,shape:this.shape,sizeInPixels:this.sizeInPixels,x:p(this.x),y:p(this.y)}}moveTo(t,i){this.x=t,this.y=i}reflect(t,i){const e=this.figure.create("Point",i);return e.transformation={center:t,origin:this,type:"reflect"},this.subscribe(e),t.subscribe(e),e.isFree=!1,e.update(),e}reflectOverLine(t,i){const e=this.figure.create("Point",i);return e.transformation={line:t,origin:this,type:"reflectOverLine"},this.subscribe(e),t.subscribe(e),e.isFree=!1,e.update(),e}rotate(t,i,e){const s=this.figure.create("Point",e);return s.transformation={angle:i,center:t,origin:this,type:"rotation"},this.subscribe(s),t.subscribe(s),s.isFree=!1,s.update(),s}toJSON(){return this.jsonOptions()}translate(t,i,e){const s=this.figure.create("Point",e);return s.transformation={origin:this,point1:t,point2:i,type:"translation"},this.subscribe(s),t.subscribe(s),i.subscribe(s),s.isFree=!1,s.update(),s}translateVector(t,i){const e=this.figure.create("Point",i);return e.transformation={origin:this,vector:t,type:"translationVector"},this.subscribe(e),t.subscribe(e),e.isFree=!1,e.update(),e}update(){if(this.transformation?.type==="reflect")this._x=2*this.transformation.center.x-this.transformation.origin.x,this._y=2*this.transformation.center.y-this.transformation.origin.y;else if(this.transformation?.type==="dilate")this._x=this.transformation.center.x+this.transformation.factor*(this.transformation.origin.x-this.transformation.center.x),this._y=this.transformation.center.y+this.transformation.factor*(this.transformation.origin.y-this.transformation.center.y);else if(this.transformation?.type==="rotation"){const{x:t,y:i}=L(this.transformation.origin,this.transformation.center,this.transformation.angle);this._x=t,this._y=i}else if(this.transformation?.type==="reflectOverLine"){const{x:t,y:i}=be(this.transformation.origin,this.transformation.line);this._x=t,this._y=i}else if(this.transformation?.type==="translation"){const{x:t,y:i}=Ce(this.transformation.origin,this.transformation.point1,this.transformation.point2);this._x=t,this._y=i}else if(this.transformation?.type==="translationVector"){const t=this.transformation.origin.x+this.transformation.vector.x,i=this.transformation.origin.y+this.transformation.vector.y;this._x=t,this._y=i}this.redraw()}get color(){return this._color}set color(t){this._color=t,this.svgCircle!==void 0&&(this.svgCircle.setAttribute("fill",t),this.svgCircle.setAttribute("stroke",t)),this.svgLine1!==void 0&&this.svgLine1.setAttribute("stroke",t),this.svgLine2!==void 0&&this.svgLine2.setAttribute("stroke",t)}get colorLabel(){return this._colorLabel}set colorLabel(t){this._colorLabel=t,this.elementTextLabel!==void 0&&(this.elementTextLabel.color=t)}get description(){return this.transformation?.type==="reflect"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la symétrie de centre $${this.transformation?.center.notation}$`:this.transformation?.type==="reflectOverLine"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la symétrie d'axe $${this.transformation?.line.notation}$`:this.transformation?.type==="dilate"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans l'homothétie de centre $${this.transformation?.center.notation}$ et de rapport $${this.transformation.factor}$`:this.transformation?.type==="rotation"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`:this.transformation?.type==="translation"?`Point $${this.label}$ image du point $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`:this.transformation?.type==="translationVector"?`Point $${this.label}$ image
      du point $${this.transformation.origin.notation}$
      par la translation de vecteur $${this.transformation.vector.notation}$
      `:this.figure.options.pointDescriptionWithCoordinates?`Point $${this.label}$ libre de coordonnées $(${p(this.x,2).toString().replace(".",",")}\\;;\\;${p(this.y,2).toString().replace(".",",")})$`:`Point $${this.label}$`}get isVisible(){return this._isVisible}set isVisible(t){this._isVisible=t,this.isVisible?this.elementTextLabel?.show():this.elementTextLabel?.hide(),this.isVisible||(this.labelIsVisible=!1),super.isVisible=t}get label(){return this._label===void 0?"":this._label}set label(t){if(this._label=t,!this.isVisible||!this.labelIsVisible){this.elementTextLabel?.hide();return}t!==void 0&&t.length>0&&(this.elementTextLabel===void 0?this.elementTextLabel=this.figure.create("TextByPoint",{color:this.colorLabel,dxInPixels:this.labelDxInPixels*this.figure.scale,dyInPixels:this.labelDyInPixels*this.figure.scale,id:`${this.id}_label`,isChild:!0,isSelectable:!0,point:this,text:`$${t}$`}):(this.elementTextLabel.text=`$${t}$`,this.elementTextLabel.color=this._colorLabel))}get latex(){if(this.shape==="")return"";let t=`% Point ${this.label}`;return t+=`
\\draw${this.latexOptions} plot[mark=${this.shape}, mark size=${.15/this.figure.scale}cm] coordinates{(${this.x},${this.y})};`,t}get notation(){return this.label!==""?this.label:this.id}get shape(){return this._shape}set shape(t){this._shape=t,this._shape==="x"?(this.figure.svg.appendChild(this.groupSvg),this.svgCircle?.remove(),this.groupSvg.appendChild(this.svgLine1),this.groupSvg.appendChild(this.svgLine2)):this._shape==="o"?(this.figure.svg.appendChild(this.groupSvg),this.svgLine1?.remove(),this.svgLine2?.remove(),this.groupSvg.appendChild(this.svgCircle)):this._shape===""&&(this.groupSvg?.remove(),this.svgLine1?.remove(),this.svgLine2?.remove(),this.svgCircle?.remove()),this.update()}get sizeInPixels(){return this._sizeInPixels}set sizeInPixels(t){this._sizeInPixels=t,this.update()}get x(){return this._x}set x(t){this.figure.snapGrid&&this.isVisible?(this._x=Math.round(t/this.figure.dx)*this.figure.dx,this.figure.options.gridWithTwoPointsOnSamePosition||this.goToClosestFreePosition()):this._x=t,this.update()}get y(){return this._y}set y(t){this.figure.snapGrid&&this.isVisible?(this._y=Math.round(t/this.figure.dy)*this.figure.dy,this.figure.options.gridWithTwoPointsOnSamePosition||this.goToClosestFreePosition()):this._y=t,this.update()}goToClosestFreePosition(){const{points:i}=this.figure.checkCoords({x:this._x,y:this._y}),e=[...this.figure.elements.values()].find(r=>r instanceof Ft),s=this._x>=this.figure.xMin&&this._x<=this.figure.xMax&&this._y>=this.figure.yMin&&this._y<=this.figure.yMax,o=e!==void 0&&this._x<=e.xMax&&this._x>=e.xMin&&this._y<=e.yMax&&this._y>=e.yMin;if(!(i.length===1&&s&&(!e||o)))for(let r=1;r<=10;r++)for(const a of[0,r,-r])for(const c of[0,r,-r]){if(c===0&&a===0)continue;const l=this._x+c*this.figure.dx,h=this._y+a*this.figure.dy;if(!(l<this.figure.xMin||l>this.figure.xMax||h<this.figure.yMin&&h>this.figure.yMax||e!==void 0&&(l<e.xMin||l>e.xMax||h<e.yMin&&h>e.yMax))&&this.checkAndMove(c*this.figure.dx,a*this.figure.dy))return}}checkAndMove(t,i){const e=this._x+t,s=this._y+i,{points:o}=this.figure.checkCoords({x:e,y:s});return o.length===0?(this._x=e,this._y=s,!0):!1}}class Et extends M{constructor(t,{line1:i,line2:e,...s}){const o=wt(i,e);super(t,{isFree:!1,x:o.x,y:o.y,...s}),this.type="PointIntersectionLL",this.line1=i,this.line2=e,this.line1.subscribe(this),this.line2.subscribe(this)}toJSON(){return{...this.jsonOptions(),...super.jsonOptions(),idLine1:this.line1.id,idLine2:this.line2.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){if(!(this.line1===void 0||this.line2===void 0)){try{const t=wt(this.line1,this.line2);this._x=t.x,this._y=t.y,super.update()}catch(t){console.error("Erreur dans PointIntersectionLL.update()",t)}this.notify()}}get description(){const t=this.line1.notation,i=this.line2.notation;return`Point $${this.notation}$ à l'intersection de la droite $${t}$ et de la droite $${i}$`}}function ze({figure:n,labelPt:t,nameLine1:i,nameLine2:e}){let s=[...n.elements.values()].filter(h=>h.type!=="pointer"&&h.type.includes("Point")&&"label"in h&&h.label===t);if(s.length===0)return{isValid:!1,message:`Il n'existe pas de point ${t} sur la figure.`};if(s.length>1)return{isValid:!1,message:`Il existe trop de points ${t} sur la figure.`};const o=[...n.elements.values()].filter(h=>h.type.includes("Line")||h.type.includes("Segment")||h.type.includes("Ray"));let r,a;const c=Array.isArray(i)?i[0]:i,l=Array.isArray(e)?e[0]:e;if(o.length!==0){if(r=o.filter(h=>i.includes(h.notation)),r.length===0)return{isValid:!1,message:`${c} n'existe pas sur la figure.`};if(a=o.filter(h=>e.includes(h.notation)),a.length===0)return{isValid:!1,message:`${l} n'existe pas sur la figure.`}}return s=[...n.elements.values()].filter(h=>h instanceof Et&&h.type!=="pointer"&&h.type.includes("PointIntersectionLL")&&"label"in h&&h.label===t&&r.some(d=>h.line1===d||h.line2===d)&&a.some(d=>h.line1===d||h.line2===d)),s.length===0?{isValid:!1,message:`Le point ${t} n'est pas à l'intersection de ${c} et de ${l}.`}:{isValid:!0,message:`Le point ${t} est à l'intersection de ${c} et de ${l}.`}}class B extends D{constructor(t,{point1:i,point2:e,...s}){super(t,{point1:i,point2:e,...s}),this.type="Line"}distancePointer(t,i){const e={x:t,y:i},s=j(e,this);return C(e,s)}update(){const[t,i,e,s]=It(this.point1,this.point2);Number.isNaN(t)||Number.isNaN(e)||Number.isNaN(i)||Number.isNaN(i)?(this.svgLine.removeAttribute("x1"),this.svgLine.removeAttribute("x2"),this.svgLine.removeAttribute("y1"),this.svgLine.removeAttribute("y2")):(this.svgLine.setAttribute("x1",`${this.figure.xToSx(t)}`),this.svgLine.setAttribute("y1",`${this.figure.yToSy(i)}`),this.svgLine.setAttribute("x2",`${this.figure.xToSx(e)}`),this.svgLine.setAttribute("y2",`${this.figure.yToSy(s)}`)),this.shape?.at(0)==="|"?this.drawBorder1():this.svgBorder1?.remove(),this.shape?.at(-1)==="|"?this.drawBorder2():this.svgBorder2?.remove(),this.notify()}get description(){return this.point1.label!==""||this.point2.label!==""?`Droite ${this.notation}`:`Droite n°${[...this.figure.elements.values()].filter(e=>e instanceof B).indexOf(this)+1}`}get latex(){const[t,i,e,s]=It(this.point1,this.point2);let o=`%${this.description}`;return o+=`
\\draw${this.latexOptions} (${t}, ${i}) -- (${e}, ${s});`,o}get notation(){const t=this.point1.label!==""?this.point1.label:this.point1.id,i=this.point2.label!==""?this.point2.label:this.point2.id;return`(${t}${i})`}}function It(n,t){if(n.x===void 0||n.y===void 0||t.x===void 0||t.y===void 0||Number.isNaN(n.x)||Number.isNaN(n.y)||Number.isNaN(t.x)||Number.isNaN(t.y))return[Number.NaN,Number.NaN,Number.NaN,Number.NaN];try{const i=n.figure;let e=ct;if(t.x!==n.x&&(e=(t.y-n.y)/(t.x-n.x)),Math.abs(e)>=ct)return[n.x,i.yMax,n.x,i.yMin];if(Math.abs(e)<Ot)return[i.xMin,n.y,i.xMax,n.y];let s=i.xMin,o=n.y+(i.xMin-n.x)*e;o>i.yMax?(o=i.yMax,s=n.x+(i.yMax-n.y)/e):o<i.yMin&&(o=i.yMin,s=n.x+(i.yMin-n.y)/e);let r=i.xMax,a=n.y+(i.xMax-n.x)*e;return a>i.yMax?(a=i.yMax,r=n.x+(i.yMax-n.y)/e):a<i.yMin&&(a=i.yMin,r=n.x+(i.yMin-n.y)/e),[s,o,r,a]}catch(i){return console.error("Erreur dans Line.getCoordsOut",i),[Number.NaN,Number.NaN,Number.NaN,Number.NaN]}}class ot extends D{constructor(t,{point1:i,point2:e,...s}){super(t,{point1:i,point2:e,...s}),this.type="Ray"}distancePointer(t,i){const e={x:t,y:i},s={x:this.point2.x-this.point1.x,y:this.point2.y-this.point1.y},o=Math.hypot(s.x,s.y);if(o===0)return C(e,this.point1);const r={x:s.x/o,y:s.y/o},a=(r.x*(t-this.point1.x)+r.y*(i-this.point1.y))/o;if(a<0)return C(e,this.point1);const c=this.point1.x+s.x*a,l=this.point1.y+s.y*a;return C(e,{x:c,y:l})}update(){const[t,i,e,s]=Nt(this.point1,this.point2),[o,r,a,c]=[this.figure.xToSx(t),this.figure.yToSy(i),this.figure.xToSx(e),this.figure.yToSy(s)];!Number.isFinite(o)||!Number.isFinite(a)||!Number.isFinite(r)||!Number.isFinite(c)?(this.svgLine.removeAttribute("x1"),this.svgLine.removeAttribute("x2"),this.svgLine.removeAttribute("y1"),this.svgLine.removeAttribute("y2")):(this.svgLine.setAttribute("x1",`${o}`),this.svgLine.setAttribute("y1",`${r}`),this.svgLine.setAttribute("x2",`${a}`),this.svgLine.setAttribute("y2",`${c}`)),this.shape?.at(0)==="|"?this.drawBorder1():this.svgBorder1?.remove(),this.shape?.at(-1)==="|"?this.drawBorder2():this.svgBorder2?.remove(),this.notify()}get description(){return`Demi-droite ${this.notation}`}get latex(){const[t,i,e,s]=Nt(this.point1,this.point2);let o=`%${this.description}`;return o+=`
\\draw${this.latexOptions} (${t}, ${i}) -- (${e}, ${s});`,o}get notation(){const t=this.point1.label!==""?this.point1.label:this.point1.id,i=this.point2.label!==""?this.point2.label:this.point2.id;return`[${t}${i})`}}function Nt(n,t){if(n.x===void 0||n.y===void 0||t.x===void 0||t.y===void 0||Number.isNaN(n.x)||Number.isNaN(n.y)||Number.isNaN(t.x)||Number.isNaN(t.y))return[Number.NaN,Number.NaN,Number.NaN,Number.NaN];try{const i=n.figure;let e=Number.POSITIVE_INFINITY;if(t.x!==n.x&&(e=(t.y-n.y)/(t.x-n.x)),e===Number.POSITIVE_INFINITY)return n.y>t.y?[n.x,n.y,n.x,i.yMin]:[n.x,n.y,n.x,i.yMax];if(Math.abs(e)<10**-4)return n.x>t.x?[n.x,n.y,i.xMin,n.y]:[n.x,n.y,i.xMax,n.y];let s,o,r=0;if(t.x>n.x){for(;s=n.x+r,o=n.y+r*e,r++,!(s>i.xMax+1||o>i.yMax+1||o<i.yMin-1););return[n.x,n.y,s,o]}for(;s=n.x-r,o=n.y-r*e,r++,!(s<i.xMin-1||o>i.yMax+1||o<i.yMin-1););return[n.x,n.y,s,o]}catch(i){return console.error("Erreur dans Ray.getRayCoordsOut",i),[Number.NaN,Number.NaN,Number.NaN,Number.NaN]}}class jt extends M{constructor(t,{k:i,line:e,shape:s="|",...o}){i===void 0&&(i=Math.random()),s===void 0&&(s="|"),super(t,{x:99,y:99,shape:s,...o}),this.center=e.point1,this.origin=e.point2,this.k=i,this.type="PointOnLine",this.line=e,this.isFree=!0,this.line.subscribe(this)}moveTo(t,i){const e={x:t,y:i};try{const[s,o,r]=this.line.equation,a=1/(s*s+o*o);let c,l;if(s===0?(c=e.x,l=-r/o):o===0?(l=e.y,c=-r/s):e.x===void 0||e.y===void 0?(c=Number.NaN,l=Number.NaN):(c=a*(o*o*e.x-s*o*e.y-s*r),l=a*(-s*o*e.x+s*s*e.y+s*s*r/o)-r/o),this.line instanceof D){const h=this.line;if(this.line instanceof B){let d=1;(this.line.point1.x<this.line.point2.x&&c<this.line.point1.x||this.line.point1.x>this.line.point2.x&&c>this.line.point1.x||this.line.point1.y<this.line.point2.y&&l<this.line.point1.y||this.line.point1.y>this.line.point2.y&&l>this.line.point1.y)&&(d=-1),this.k=d*Math.hypot(c-this.line.point1.x,l-this.line.point1.y)/Math.hypot(this.line.point2.x-this.line.point1.x,this.line.point2.y-this.line.point1.y)}else if(h instanceof ot){const d=this.line;d.point1.x<d.point2.x&&c<d.point1.x?this.k=0:d.point1.x>d.point2.x&&c>d.point1.x?this.k=0:d.point1.y<d.point2.y&&l<d.point1.y?this.k=0:d.point1.y>d.point2.y&&l>d.point1.y?this.k=0:this.k=Math.hypot(c-d.point1.x,l-d.point1.y)/Math.hypot(d.point2.x-d.point1.x,d.point2.y-d.point1.y)}else if(h instanceof D){const d=this.line;c<Math.min(d.point1.x,d.point2.x)?this.k=d.point1.x<d.point2.x?0:1:c>Math.max(d.point1.x,d.point2.x)?this.k=d.point1.x<d.point2.x?1:0:l<Math.min(d.point1.y,d.point2.y)?this.k=d.point1.y<d.point2.y?0:1:l>Math.max(d.point1.y,d.point2.y)?this.k=d.point1.y<d.point2.y?1:0:this.k=Math.hypot(c-d.point1.x,l-d.point1.y)/Math.hypot(d.point2.x-d.point1.x,d.point2.y-d.point1.y)}}}catch{console.error("Erreur dans le moveTo PointOnLine")}this.update()}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,k:this.k,label:this.label,shape:this.shape}}update(){if(this._x=this.center.x+this.k*(this.origin.x-this.center.x),this._y=this.center.y+this.k*(this.origin.y-this.center.y),this.shape==="|"){const t={x:this.line.point1.x,y:this.line.point1.y},i={x:this._x,y:this._y},e=Math.hypot(this.line.point1.x-this._x,this.line.point1.y-this._y);let{x:s,y:o}=T(t,i,1/e*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),90),{x:r,y:a}=T(t,i,1/e*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),-90);if(!Number.isFinite(s)||!Number.isFinite(r)||!Number.isFinite(o)||!Number.isFinite(a)){const{x:c,y:l}=T(i,t,1/e*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),90),{x:h,y:d}=T(i,t,1/e*this.sizeInPixels/this.figure.pixelsPerUnit*Math.sqrt(2),-90);s=c,r=h,o=l,a=d}if(Number.isFinite(s)&&Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(a)){const c=this.figure.xToSx(s).toString(),l=this.figure.xToSx(r).toString(),h=this.figure.yToSy(o).toString(),d=this.figure.yToSy(a).toString();this.svgLine1.setAttribute("x1",c),this.svgLine1.setAttribute("y1",h),this.svgLine1.setAttribute("x2",l),this.svgLine1.setAttribute("y2",d),this.groupSvg.appendChild(this.svgLine1)}else console.error("Erreur dans le update de PointOnLine")}super.update()}get description(){return`Point sur $${this.line.notation}$`}get x(){return this._x}set x(t){const[i,e,s]=this.line.equation,o=(-i*t-s)/e;this.moveTo(t,o)}get y(){return this._y}set y(t){const[i,e,s]=this.line.equation,o=(-e*t-s)/i;this.moveTo(o,t)}}function Be({figure:n,labelPt:t,nameLine:i}){let e=[...n.elements.values()].filter(r=>r.type!=="pointer"&&r.type.includes("Point")&&"label"in r&&r.label===t);if(e.length===0)return{isValid:!1,message:`Il n'existe pas de point ${t} sur la figure.`};if(e.length>1)return{isValid:!1,message:`Il existe trop de points ${t} sur la figure.`};let s=[...n.elements.values()].filter(r=>r.type.includes("Line")||r.type.includes("Segment")||r.type.includes("Ray"));s.length===0&&(s=s.filter(r=>i.includes(r.notation)));const o=Array.isArray(i)?i[0]:i;return s.length===0?{isValid:!1,message:`${o} n'existe pas sur la figure.`}:(e=[...n.elements.values()].filter(r=>r instanceof jt&&r.type!=="pointer"&&r.type.includes("PointOnLine")&&s.some(a=>r.line===a)),e.length===0?{isValid:!1,message:`Il n'existe pas de point sur ${o}.`}:(e=e.filter(r=>r.label===t),e.length===0?{isValid:!1,message:`Il n'existe pas de point ${t} sur ${o}.`}:{isValid:!0,message:`Le point ${t} sur ${o}.`}))}function Fe({figure:n,points:t,color:i,acceptSegments:e=!0}){let s=[...n.elements.values()].filter(r=>r.type.includes("Polygon"));if(i!==void 0&&(s=s.filter(r=>r.color===i)),s.length===0){if(e){let r=[...n.elements.values()].filter(h=>h.type==="Segment");if(i!==void 0&&(r=r.filter(h=>h.color===i)),r.length===0)return{isValid:!1,message:i===void 0?"Il n'y a ni polygone, ni segments dans la figure.":`Il n'y a ni polygone, ni segments de couleur ${i} dans la figure.`};const a=t.length,c=(h,d)=>p(h.x)===p(d.x)&&p(h.y)===p(d.y);let l=!0;for(let h=0;h<a;h++){const d=t[h],u=t[(h+1)%a];if(!r.some(y=>c(y.point1,d)&&c(y.point2,u)||c(y.point1,u)&&c(y.point2,d))){l=!1;break}}return{isValid:l,message:l?"Les segments du polygone ont bien été tracés.":i===void 0?"Tous les côtés n'ont pas été tracés.":"Tous les côtés n'ont pas été tracés avec la couleur demandée."}}return{isValid:!1,message:i===void 0?"Il n'y a pas de polygones dans la figure.":`Il n'y a pas de polygones de couleur ${i} dans la figure.`}}let o=!1;for(const r of s){if(r.points.length!==t.length)continue;const a=t.length,c=(h,d)=>p(h.x)===p(d.x)&&p(h.y)===p(d.y),l=(h,d)=>{for(let u=0;u<a;u++){let g=!0;for(let y=0;y<a;y++)if(!c(h[(y+u)%a],d[y])){g=!1;break}if(g)return!0}return!1};if(l(t,r.points)||l([...t].reverse(),r.points)){o=!0;break}}return{isValid:o,message:o?"Le polygone a bien été tracé":""}}function Ee({figure:n,labels:t,color:i}){let e=[...n.elements.values()].filter(o=>o.type.includes("Polygon"));if(i!==void 0&&(e=e.filter(o=>o.color===i)),e.length===0)return{isValid:!1,message:i===void 0?"Il n'y a pas de polygones dans la figure.":`Il n'y a pas de polygones de couleur ${i} dans la figure.`};let s=!1;for(const o of e){if(o.points.length!==t.length)continue;const r=t.findIndex(d=>d===o.points[0].label);if(r===-1||(s=t.slice(r).concat(t.slice(0,r)).every((d,u)=>d===o.points[u].label),s))break;const c=t.reverse(),l=c.findIndex(d=>d===o.points[0].label);if(s=c.slice(l).concat(c.slice(0,l)).every((d,u)=>d===o.points[u].label),s)break}return{isValid:s,message:""}}function un({figure:n,nameRay:t,color:i}){let e,s=[],o=[];if(e=[...n.elements.values()].filter(a=>a.type.includes("Ray")),e.length===0)return{isValid:!1,message:"Il n'y a pas de demi-droite dans la figure."};const r=Array.isArray(t)?t[0]:t;return e.length!==0&&(s=e.filter(a=>t.includes(a.notation)||t.includes(a.point1.label+a.point2.label)||t.includes(a.point2.label+a.point1.label)),s.length===0)?{isValid:!1,message:`${r} n'existe pas sur la figure.`}:(o=s.filter(a=>a.color===i),o.length===0?{isValid:!1,message:"Il n'y a pas demi-droite de la couleur demandée dans la figure."}:{isValid:!0,message:"La demi-droite a bien été tracée."})}function je({figure:n,point1:t,point2:i,color:e}){let s=[...n.elements.values()].filter(c=>c.type==="Ray");const[o,r,a]=H(t,i);if(s.length===0)return{isValid:!1,message:"Il n'y a pas de demi-droite dans la figure."};if(e!==void 0&&(s=s.filter(c=>c.color===e),s.length===0))return{isValid:!1,message:"Il n'y a pas de demi-droite de la couleur demandée dans la figure."};for(const c of s){const[l,h,d]=c.equation;if(Mt(o,r,a,l,h,d)&&p(c.point1.x)===p(t.x)&&p(c.point1.y)===p(t.y)){const u={x:p(c.point2.x-c.point1.x),y:p(c.point2.y-c.point1.y)},g={x:p(i.x-t.x),y:p(i.y-t.y)};if(u.x*g.x>=0&&u.y*g.y>=0)return{isValid:!0,message:"La demi-droite a bien été tracée."}}}if(e!==void 0){s=[...n.elements.values()].filter(c=>c.type==="Ray");for(const c of s){const[l,h,d]=c.equation;if(Mt(o,r,a,l,h,d)&&p(c.point1.x)===p(t.x)&&p(c.point1.y)===p(t.y)){const u={x:p(c.point2.x-c.point1.x),y:p(c.point2.y-c.point1.y)},g={x:p(i.x)-p(t.x),y:p(i.y)-p(t.y)};if(u.x*g.x>=0&&u.y*g.y>=0)return{isValid:!1,message:"Il n'y a pas de demi-droite de la couleur demandée dans la figure."}}}}return{isValid:!1,message:"Aucune demi-droite ne correspond à la réponse attendue."}}function Mt(n,t,i,e,s,o,r=2){if(t===0&&s===0)return i/n===o/e;const a=t!==0?-n/t:Number.POSITIVE_INFINITY,c=s!==0?-e/s:Number.POSITIVE_INFINITY,l=t!==0?-i/t:Number.NaN,h=s!==0?-o/s:Number.NaN;return p(a,r)===p(c,r)&&p(l,r)===p(h,r)}function Re({figure:n,label1:t,label2:i,time:e=0}){const[s,o]=t.split(""),[r,a]=i.split(""),c=[...n.elements.values()].filter(m=>m.type!=="pointer"&&m.type.includes("Point")),l=c.filter(m=>m.label===s);if(l.length===0)return{isValid:!1,message:`Il n'y a pas de point $${s}$ dans la figure.`};if(l.length>1)return{isValid:!1,message:`Il y a ${l.length} points $${s}$ dans la figure.`};const h=c.filter(m=>m.label===o);if(h.length===0)return{isValid:!1,message:`Il n'y a pas de point $${o}$ dans la figure.`};if(h.length>1)return{isValid:!1,message:`Il y a ${h.length} points $${o}$ dans la figure.`};const d=c.filter(m=>m.label===r);if(d.length===0)return{isValid:!1,message:`Il n'y a pas de point $${r}$ dans la figure.`};if(d.length>1)return{isValid:!1,message:`Il y a ${d.length} points $${r}$ dans la figure.`};const u=c.filter(m=>m.label===a);if(u.length===0)return{isValid:!1,message:`Il n'y a pas de point $${a}$ dans la figure.`};if(u.length>1)return{isValid:!1,message:`Il y a ${u.length} points $${a}$ dans la figure.`};const g=l[0],y=h[0],f=d[0],w=u[0];let $=p(C(g,y),2)===p(C(f,w),2);z({figure:n,time:e}),$=$&&p(C(g,y),2)===p(C(f,w),2),z({figure:n,time:e}),$=$&&p(C(g,y),2)===p(C(f,w),2),z({figure:n,time:e}),$=$&&p(C(g,y),2)===p(C(f,w),2);const x=$?`Les longueurs $${s}${o}$ et $${r}${a}$ sont bien toujours égales.`:`Les longueurs $${s}${o}$ et $${r}${a}$ ne sont pas toujours égales.`;return{isValid:$,message:x}}function gn({figure:n,nameSegment:t,color:i}){let e,s=[],o=[];if(e=[...n.elements.values()].filter(a=>a.type.includes("Segment")),e.length===0)return{isValid:!1,message:"Il n'y a pas de segment dans la figure."};const r=Array.isArray(t)?t[0]:t;return e.length!==0&&(s=e.filter(a=>t.includes(a.notation)||t.includes(a.point1.label+a.point2.label)||t.includes(a.point2.label+a.point1.label)),s.length===0)?{isValid:!1,message:`${r} n'existe pas sur la figure.`}:(o=s.filter(a=>a.color===i),o.length===0?{isValid:!1,message:"Il n'y a pas de segment de la couleur demandée dans la figure."}:{isValid:!0,message:"Le segment a bien été tracé."})}function Ue({figure:n,point1:t,point2:i,color:e}){let s=[...n.elements.values()].filter(l=>l.type==="Segment");if(s.length===0)return{isValid:!1,message:"Il n'y a pas de segment dans la figure."};if(e!==void 0&&(s=s.filter(l=>l.color===e)),s.length===0)return{isValid:!1,message:"Il n'y a pas de segment de la couleur demandée dans la figure."};const[o,r,a]=H(t,i),c=s.filter(l=>{const[h,d,u]=l.equation;return We(o,r,a,h,d,u)});if(c.length===0)return{isValid:!1,message:"Les segments ne sont pas confondus."};for(const l of c){if(p(l.point1.x)===p(t.x)&&p(l.point1.y)===p(t.y)&&p(l.point2.x)===p(i.x)&&p(l.point2.y)===p(i.y)||p(l.point2.x)===p(t.x)&&p(l.point2.y)===p(t.y)&&p(l.point1.x)===p(i.x)&&p(l.point1.y)===p(i.y))return{isValid:!0,message:"Le segment a bien été tracé."};if(l.point1.x<=t.x&&t.x<=l.point2.x&&l.point1.y<=t.y&&t.y<=l.point2.y&&l.point1.x<=i.x&&i.x<=l.point2.x&&l.point1.y<=i.y&&i.y<=l.point2.y)return{isValid:!0,message:"Un segment plus grand existe."}}if(e!==void 0){s=[...n.elements.values()].filter(l=>l.type.includes("Segment"));for(const l of c)if(p(l.point1.x)===p(t.x)&&p(l.point1.y)===p(t.y)&&p(l.point2.x)===p(i.x)&&p(l.point2.y)===p(i.y)||p(l.point2.x)===p(t.x)&&p(l.point2.y)===p(t.y)&&p(l.point1.x)===p(i.x)&&p(l.point1.y)===p(i.y))return{isValid:!1,message:"Le segment n'est pas tracé de la bonne couleur."}}return{isValid:!1,message:"Aucun segment ne correspond à la réponse attendue."}}function We(n,t,i,e,s,o,r=2){if(t===0&&s===0)return i/n===o/e;const a=t!==0?-n/t:Number.POSITIVE_INFINITY,c=s!==0?-e/s:Number.POSITIVE_INFINITY,l=t!==0?-i/t:Number.NaN,h=s!==0?-o/s:Number.NaN;return p(a,r)===p(c,r)&&p(l,r)===p(h,r)}function Ge({color:n,figure:t,labelOrigin:i,labelPoint2:e,x:s,xOrigin:o,y:r,yOrigin:a}){let l=[...t.elements.values()].filter(f=>f.type==="Vector"||f.type==="VectorByPoints").filter(f=>f.x===s&&f.y===r);if(n!==void 0&&(l=l.filter(f=>f.color===n)),l.length===0)return{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${s}\\;;\\;${r})$`,vectors:[]};const h=()=>{const f=l.filter(w=>w.point1.label===i);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${s}\\;;\\;${r})$ dont l'origine est nommée $${i}$`,vectors:[]}:{isValid:!0,message:"",vectors:f}},d=()=>{const f=l.filter(w=>w.point1.label===i&&w.point2.label===e);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${s}\\;;\\;${r})$ dont l'origine est nommée $${i}$ et l'extrémité est nommée $${e}$`,vectors:[]}:{isValid:!0,message:"",vectors:f}},u=()=>{const f=l.filter(w=>w.point1.x===o&&w.point1.y===a);return l.length===0&&f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${s}\\;;\\;${r})$ dont l'origine a pour coordonnées $(${o}\\;;\\;${a})$`,vectors:[]}:l.length>0&&f.length===0?{isValid:!1,message:`Il y a bien un vecteur de coordonnées $(${s}\\;;\\;${r})$ mais son origine n'a pas pour coordonnées $(${o}\\;;\\;${a})$`,vectors:l}:{isValid:!0,message:"",vectors:f}},g=()=>{const f=l.filter(w=>w.point1.label===i&&w.point1.x===o&&w.point1.y===a);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${s}\\;;\\;${r})$ dont l'origine est nommée $${i}$ et a pour coordonnées $(${o}\\;;\\;${a})$`,vectors:[]}:{isValid:!0,message:"",vectors:f}},y=()=>{const f=l.filter(w=>w.point1.label===i&&w.point2.label===e&&w.point1.x===o&&w.point1.y===a);return f.length===0?{isValid:!1,message:`Il n'y a aucun vecteur de coordonnées $(${s}\\;;\\;${r})$ dont l'origine est nommée $${i}$, l'extrémité est nommée $${e}$ et a pour coordonnées $(${o}\\;;\\;${a})$`,vectors:[]}:{isValid:!0,message:"",vectors:f}};return l.length===1?i!==void 0&&i!==""&&e===void 0&&o===void 0&&a===void 0?h():i!==void 0&&i!==""&&e!==void 0&&e!==""&&o===void 0&&a===void 0?d():i===void 0&&e===void 0&&o!==void 0&&a!==void 0?u():i!==void 0&&i!==""&&e===void 0&&o!==void 0&&a!==void 0?g():i!==void 0&&i!==""&&e!==void 0&&e!==""&&o!==void 0&&a!==void 0?y():{isValid:!0,message:`Il y a bien un vecteur de coordonnées $(${s}\\;;\\;${r})$`,vectors:l}:{isValid:!1,message:`Il y a ${l.length} vecteurs de coordonnées $(${s}\\;;\\;${r})`,vectors:l}}async function He({delta:n=3,figure:t,repeat:i=5,time:e=1}){const s=e/i;t.container.style.animation="none",t.container.offsetWidth,t.container.style.animation=`shake ${s}s`,t.container.style.animationIterationCount=i.toString();const o=h=>{const u=p(h+(Math.random()-.5)*n,1);return u>t.xMin+.5&&u<t.xMax-.5?u:h},r=h=>{const u=p(h+(Math.random()-.5)*n,1);return u>t.yMin+2&&u<t.yMax-2?u:h},a=[...t.elements.values()].filter(h=>h.type!=="pointer"&&h instanceof M),c=a.filter(h=>h.x<t.xMax&&h.x>t.xMin&&h.y<t.yMax&&h.y>t.yMin),l=a.filter(h=>h.isFree);for(let h=0;h<i;h++){for(const d of l){const{x:u,y:g}=d;d.moveTo(o(d.x),r(d.y)),Ze(c)||d.moveTo(u,g)}await Ye(e/i/a.length*1e3)}t.container.style.animation="none"}async function Ye(n){await new Promise(t=>{setTimeout(t,n)})}function Ze(n){const t=n[0].figure;return n.every(i=>X(t.xMin,i.x,t.xMax)&&X(t.yMin,i.y,t.yMax))}class E{constructor(t,{isChild:i=!1,textAfter:e="",textBefore:s=""}){if(this.figure=t,this.isChild=i,this.isChild){let o=0;for(;this.figure.elements.has(`elementTmp${o.toString()}`);)o++;this.id=`elementTmp${o.toString()}`}else{let o=0;for(;this.figure.elements.has(`element${o.toString()}`);)o++;this.id=`element${o.toString()}`}this.figure.elements.set(this.id,this),this.observers=[],this._value=Number.NaN,this.type="",this.textBefore=s,this.textAfter=e}display({color:t,maximumFractionDigits:i,minimumFractionDigits:e,textAfter:s="",textBefore:o="",x:r,y:a}){return this.figure.create("TextDynamicByPosition",{color:t,dynamicNumber:this,id:`${this.id}_display`,maximumFractionDigits:i,minimumFractionDigits:e,textAfter:s,textBefore:o,x:r,y:a})}draw(){}notify(){for(const t of this.observers)t.update()}remove(){this.figure.elements.delete(this.id);for(const t of this.observers)t.remove()}subscribe(t){this.observers.push(t)}toJSON(){return{id:this.id,isChild:this.isChild,type:this.type}}unsubscribe(t){this.observers=this.observers.filter(i=>i!==t)}update(){this.notify()}get label(){return this._label}get string(){return this.textBefore+this.value.toString()+this.textAfter}set value(t){this._value=t,this.notify()}get value(){return this._value}}class Xe extends E{constructor(t,{center:i,end:e,start:s}){super(t,{isChild:!1}),this.start=s,this.center=i,this.end=e,this.start.subscribe(this),this.center.subscribe(this),this.end.subscribe(this),this.update()}toJSON(){return{id:this.id,idCenter:this.center.id,idEnd:this.end.id,idStart:this.start.id,isChild:this.isChild,type:this.type}}update(){this._value=Se(this.start,this.center,this.end),this.notify()}}class Rt extends E{constructor(t,{isChild:i=!1,point1:e,point2:s}){super(t,{isChild:i}),this.type="Distance",this.point1=e,this.idPoint1=e.id,this.point2=s,this.idPoint2=s.id,this.point1.subscribe(this),this.point2.subscribe(this),this.update()}remove(){const t=this.figure.elements.get(this.id);if(t?.observers)for(const i of t.observers)i.remove();t!==void 0&&this.figure.elements.delete(this.id)}toJSON(){return{id:this.id,idPoint1:this.idPoint1,idPoint2:this.idPoint2,isChild:this.isChild,type:this.type}}update(){try{this.value=Math.hypot(this.point1.x-this.point2.x,this.point1.y-this.point2.y)}catch(t){console.error("Erreur dans Distance.update()",t)}this.notify()}}class Je extends E{constructor(t,{calculus:i,dynamicNumbers:e,...s}){super(t,{...s}),this.calculus=i,this.dynamicNumbers=e;for(const o of this.dynamicNumbers)o.subscribe(this);this.update()}update(){const t=[];for(const i of this.dynamicNumbers)t.push(i.value);this._value=this.calculus(t),this.notify()}}class qe extends E{constructor(t,{point:i}){super(t,{}),this.point=i,this.point.subscribe(this),this.dynamicText=this.figure.create("TextDynamicByPosition",{color:"blue",dynamicNumber:this,isChild:!0,maximumFractionDigits:2,minimumFractionDigits:0,textAfter:"",textBefore:"",x:i.x,y:-1}),this.type="DynamicX",this.update(),this.dynamicText.div.style.fontWeight="bolder"}toJSON(){return{...super.toJSON(),idPoint:this.point.id}}update(){this.value=this.point.x,this.dynamicText.x=this.point.x,this.point.y>0?this.dynamicText.y=-1:this.dynamicText.y=1,this.notify()}}class Ke extends E{constructor(t,{point:i}){super(t,{}),this.point=i,this.point.subscribe(this),this.dynamicText=this.figure.create("TextDynamicByPosition",{color:"blue",dynamicNumber:this,isChild:!0,maximumFractionDigits:2,minimumFractionDigits:0,textAfter:"",textBefore:"",x:-1,y:i.y}),this.type="DynamicY",this.update(),this.dynamicText.div.style.fontWeight="bolder"}toJSON(){return{...super.toJSON(),idPoint:this.point.id}}update(){this.value=this.point.y,this.dynamicText.y=this.point.y,this.point.x>0?this.dynamicText.x=-1:this.dynamicText.x=1,this.notify()}}const Qe={},Ut=oe({parseDependencies:ue,evaluateDependencies:pe,addDependencies:de,subtractDependencies:he,multiplyDependencies:ce,divideDependencies:le,powDependencies:ae,unaryMinusDependencies:re},Qe),Pt=Ut;class ti extends S{constructor(t,{expression:i,prohibitedValues:e=[],step:s,xMax:o=t.xMax,xMin:r=t.xMin,...a}){super(t,{...a}),this.type="Graph",this.xMin=r,this.xMax=o,this.expression=i,this.prohibitedValues=e,s===void 0&&(s=2/(t.pixelsPerUnit*t.xScale*t.scale)),this.step=s;const c=Pt.parse(i);this.f=l=>c.evaluate({x:l})}draw(){const i=ei({f:this.f,prohibitedValues:this.prohibitedValues,step:this.step,xMax:this.xMax,xMin:this.xMin}).map(e=>`${this.figure.xToSx(e.x).toString()},${this.figure.yToSy(e.y).toString()}`).join(" ");this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.setAttribute("fill","none"),this.groupSvg.setAttribute("points",i),this.setVisibilityColorThicknessAndDashed()}distancePointer(t,i){let e=Number.POSITIVE_INFINITY;for(let s=this.xMin;s<=this.xMax;s+=this.step)try{const o=this.f(s);if(!Number.isNaN(o)&&Number.isFinite(o)){const r=C({x:t,y:i},{x:s,y:o});e=Math.min(e,r)}}catch{}return e}toJSON(){return{...this.jsonOptions(),expression:this.expression,isChild:this.isChild}}get description(){return`Courbe représentative de la fonction ${this.notation}`}get latex(){return`\\draw[domain=${this.xMin}:${this.xMax}, smooth, thick, ${this.color}, ${this.isDashed?"dashed, ":""} line width=${this.thickness}] 
        plot (\\x, {${Pt.parse(this.expression).toString({implicit:"show"}).replaceAll("x","(\\x)")}});`}get notation(){return`f(x) = ${this.expression}`}}function ei({f:n,prohibitedValues:t,step:i,xMax:e,xMin:s}){const o=[];for(let r=s;r<e;r+=i)if(!t.includes(r)){const a={x:r,y:n(r)};o.push(a)}return o}class ii extends S{constructor(t,{f:i,prohibitedValues:e=[],step:s,xMax:o=t.xMax,xMin:r=t.xMin,...a}){super(t,{...a}),this.type="Graph",this.xMin=r,this.xMax=o,this.f=i,this.prohibitedValues=e,s===void 0&&(s=2/(t.pixelsPerUnit*t.xScale*t.scale)),this.step=s}draw(){const i=si({f:this.f,prohibitedValues:this.prohibitedValues,step:this.step,xMax:this.xMax,xMin:this.xMin}).map(e=>`${this.figure.xToSx(e.x).toString()},${this.figure.yToSy(e.y).toString()}`).join(" ");this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.setAttribute("fill","none"),this.groupSvg.setAttribute("points",i),this.setVisibilityColorThicknessAndDashed()}toJSON(){return{...this.jsonOptions(),isChild:this.isChild,thickness:this.thickness}}}function si({f:n,prohibitedValues:t,step:i,xMax:e,xMin:s}){const o=[];for(let r=s;r<e;r+=i)if(!t.includes(r)){const a={x:r,y:n(r)};o.push(a)}return o}const At=Ut;class ni extends S{constructor(t,{parts:i,prohibitedValues:e=[],step:s,xMax:o=t.xMax,xMin:r=t.xMin,...a}){super(t,{...a}),this.type="GraphByParts",this.xMin=Math.min(...i.map(c=>c.xMin)),this.xMax=Math.max(...i.map(c=>c.xMax)),this.fonctions=[],this.parts=i;for(let c=0;c<i.length;c++){const l=At.parse(i[c].expression);this.fonctions.push(h=>l.evaluate({x:h}))}this.prohibitedValues=e,s===void 0&&(s=2/(t.pixelsPerUnit*t.xScale*t.scale)),this.step=s,this.f=this.f.bind(this)}f(t){let i=0;for(;t>this.parts[i].xMax&&i<this.parts.length;)i++;if(i>=this.parts.length)return Number.NaN;const e=this.fonctions[i];return e(t)}draw(){const t=[];for(const i of this.parts){const s=oi({f:this.f,prohibitedValues:this.prohibitedValues,step:this.step,xMax:i.xMax,xMin:i.xMin}).map(r=>`${this.figure.xToSx(r.x).toString()},${this.figure.yToSy(r.y).toString()}`).join(" "),o=document.createElementNS("http://www.w3.org/2000/svg","polyline");o.setAttribute("fill","none"),o.setAttribute("points",s),t.push(o)}this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","g"),this.groupSvg.innerHTML=t.map(i=>i.outerHTML).join(`
`),this.setVisibilityColorThicknessAndDashed()}distancePointer(t,i){let e=Number.POSITIVE_INFINITY;for(let s=this.xMin;s<=this.xMax;s+=this.step)try{const o=this.f(s);if(!Number.isNaN(o)&&Number.isFinite(o)){const r=C({x:t,y:i},{x:s,y:o});e=Math.min(e,r)}}catch{}return e}toJSON(){return{...this.jsonOptions(),parts:this.parts,xMax:this.xMax,xMin:this.xMin}}get description(){return`Courbe représentative de la fonction ${this.notation}`}get latex(){let t="";for(const i of this.parts)t+=`\\draw[domain=${i.xMin}:${i.xMax}, smooth, thick, ${this.color}, ${this.isDashed?"dashed, ":""} line width=${this.thickness}] 
        plot (\\x, {${At.parse(i.expression).toString({implicit:"show"}).replaceAll("x","(\\x)")}});
`;return t}get notation(){let t="";for(const i of this.parts)t+=`f(x) = ${i.expression}\\text{ pour }${i.xMin} ≤ x ≤ ${i.xMax}~;~
`;return t}}function oi({f:n,prohibitedValues:t,step:i,xMax:e,xMin:s}){const o=[];for(let r=s;r<e;r+=i)if(!t.includes(r)){const a={x:r,y:n(r)};o.push(a)}return o}class ri extends S{constructor(t,{denominator:i,gap:e=1,indicesSectorsInColor:s=new Set,numberOfCircle:o=1,numerator:r=0,radius:a,x:c=0,y:l=0,...h}){if(super(t,{...h}),this.centers=[],this.sectors=[],this._indicesSectorsInColor=new Set,this.center=this.figure.create("Point",{shape:"",x:c,y:l,isChild:!0}),this.radius=a,this.denominator=i,this.gap=e,this.numberOfCircle=o,r!==void 0&&s.size===0)for(let d=0;d<r;d++)this.indicesSectorsInColor.add(d);else this.indicesSectorsInColor=s;this.type="CircleFractionDiagram"}draw(){this.centers=[this.center],this.sectors=[];const t=360/this.denominator;for(let i=0;i<this.numberOfCircle;i++){i>0&&this.centers.push(this.figure.create("Point",{isChild:!0,isSelectable:!1,shape:"",x:this.center.x+i*(2*this.radius+this.gap),y:this.center.y}));for(let e=0;e<this.denominator;e++)this.sectors.push(this.figure.create("ArcByCenterRadiusAndAngles",{center:this.centers[i],endAngle:t*(e+1),isChild:!0,radius:this.radius,startAngle:t*e,color:this.color,thickness:this.thickness,isDashed:this.isDashed}))}this.indicesSectorsInColor=this._indicesSectorsInColor}redraw(){for(const t of this.centers)t.remove();for(const t of this.sectors)t.remove();this.draw()}toJSON(){return{...this.jsonOptions(),denominator:this.denominator,gap:this.gap,arrayIndicesSectorsInColor:Array.from(this.indicesSectorsInColor),numberOfCircle:this.numberOfCircle,numerator:this.numerator,radius:this.radius,x:this.center.x,y:this.center.y}}get indicesSectorsInColor(){for(let t=0;t<this.sectors.length;t++)this.sectors[t].fillColor!=="none"?this._indicesSectorsInColor.add(t):this._indicesSectorsInColor.delete(t);return this._indicesSectorsInColor}set indicesSectorsInColor(t){this._indicesSectorsInColor=t,this.sectors.forEach((i,e)=>{this._indicesSectorsInColor.has(e)?i.fillColor=this.color:i.fillColor="none"})}get numerator(){return this.sectors.filter(t=>t.fillColor!=="none").length}set numerator(t){this.sectors.forEach((i,e)=>{e<t?i.fillColor=this.color:i.fillColor="none"})}}class ai extends S{constructor(t,{denominator:i=4,height:e=.2,indicesRectanglesInColor:s=new Set,min:o=0,max:r=5,numerator:a,thickHeightInPixels:c=10,thickThickness:l=4,verticalDistanceForClick:h=1,width:d=4,x:u=0,y:g=0,...y}={}){if(super(t,{...y}),this._indicesRectanglesInColor=new Set,this.origins=[],this.rectangles=[],this.origin=this.figure.create("Point",{isChild:!0,isFree:!1,shape:"",x:u,y:g-e/2}),this.width=d,this.height=e,this.min=o,this.denominator=i,this.max=r,this.thickHeightInPixels=c,this.thickThickness=l,a!==void 0&&s.size===0)for(let f=0;f<a;f++)this.indicesRectanglesInColor.add(f);else this.indicesRectanglesInColor=s;this.type="LineFractionDiagram",this.verticalDistanceForClick=h}draw(){this.figure.svg.appendChild(this.groupSvg),this.origins=[this.origin],this.rectangles=[];const t=this.width/this.denominator;for(let e=0;e<this.max;e++){e>0&&this.origins.push(this.figure.create("Point",{isChild:!0,isSelectable:!1,shape:"",x:this.origin.x+e*this.width,y:this.origin.y}));for(let s=0;s<this.denominator;s++)this.rectangles.push(li({height:this.height,origin:this.origins[e],width:t,xTranslate:s*t,color:this.color,thickness:this.thickness,isDashed:this.isDashed}))}const i=this.verticalDistanceForClick;for(const e of this.rectangles)e.distancePointer=function(s,o){return this.figure.currentState==="FILL"&&this.figure.pointer.x>=this.points[0].x&&this.figure.pointer.x<=this.points[1].x&&this.figure.pointer.y-this.points[0].y<i&&this.figure.pointer.y-this.points[0].y>-i?0:Number.POSITIVE_INFINITY};for(let e=0;e<=this.max;e++){const s=this.origin.x+e*this.width,o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",this.figure.xToSx(s).toString()),o.setAttribute("y1",(this.figure.yToSy(this.origin.y+this.height/2)-this.thickHeightInPixels*this.figure.yScale*this.figure.scale).toString()),o.setAttribute("x2",this.figure.xToSx(s).toString()),o.setAttribute("y2",(this.figure.yToSy(this.origin.y+this.height/2)+this.thickHeightInPixels*this.figure.yScale*this.figure.scale).toString()),o.setAttribute("stroke",this._color),o.setAttribute("stroke-width",this.thickThickness.toString()),o.setAttribute("stroke-readonly","1"),this.groupSvg.appendChild(o),this.figure.create("TextByPosition",{isChild:!0,x:s,y:this.origin.y+1+this.thickHeightInPixels/(this.figure.yScale*this.figure.scale*this.figure.pixelsPerUnit),text:(this.min+e).toString()})}this.indicesRectanglesInColor=this._indicesRectanglesInColor}redraw(){for(const t of this.origins)t.remove();for(const t of this.rectangles)t.remove();this.draw()}toJSON(){return{...this.jsonOptions(),denominator:this.denominator,height:this.height,arrayIndicesRectanglesInColor:Array.from(this.indicesRectanglesInColor),min:this.min,max:this.max,thickHeightInPixels:this.thickHeightInPixels,thickThickness:this.thickThickness,verticalDistanceForClick:this.verticalDistanceForClick,width:this.width,x:this.origin.x,y:this.origin.y+this.height/2}}get numerator(){return this.rectangles.filter(t=>t.fillColor!=="none").length}get indicesRectanglesInColor(){for(let t=0;t<this.rectangles.length;t++)this.rectangles[t].fillColor!=="none"?this._indicesRectanglesInColor.add(t):this._indicesRectanglesInColor.delete(t);return this._indicesRectanglesInColor}set indicesRectanglesInColor(t){this._indicesRectanglesInColor=t,this.rectangles.forEach((i,e)=>{this._indicesRectanglesInColor.has(e)?i.fillColor=this.color:i.fillColor="none"})}get indiceLastInColor(){const t=this.rectangles.findIndex(i=>i.fillColor==="none");return t===-1?this.max*this.denominator:t}set numerator(t){this.rectangles.forEach((i,e)=>{e<t?i.fillColor=this.color:i.fillColor="none"})}}function li({height:n,origin:t,width:i,xTranslate:e,color:s,thickness:o,isDashed:r}){const a=[],c=t.figure;return a.push(c.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e,y:t.y})),a.push(c.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e+i,y:t.y})),a.push(c.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e+i,y:t.y+n})),a.push(c.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e,y:t.y+n})),c.create("Polygon",{isChild:!0,points:a,color:s,thickness:o,isDashed:r})}class ci extends S{constructor(t,{denominator:i=4,gap:e=1,height:s=1,numberOfRectangles:o=5,indicesRectanglesInColor:r=new Set,numerator:a=0,width:c=4,x:l=0,y:h=0,...d}={}){if(super(t,{...d}),this._indicesRectanglesInColor=new Set,this.origins=[],this.rectangles=[],this.origin=this.figure.create("Point",{isChild:!0,isFree:!1,shape:"",x:l,y:h}),this.width=c,this.height=s,this.denominator=i,this.gap=e,this.numberOfRectangles=o,this.numerator=a,a!==void 0&&r.size===0)for(let u=0;u<a;u++)this.indicesRectanglesInColor.add(u);else this.indicesRectanglesInColor=r;this.type="RectangleFractionDiagram"}draw(){this.origins=[this.origin],this.rectangles=[];const t=this.width/this.denominator;for(let i=0;i<this.numberOfRectangles;i++){i>0&&this.origins.push(this.figure.create("Point",{isChild:!0,isSelectable:!1,shape:"",x:this.origin.x+i*(this.width+this.gap),y:this.origin.y}));for(let e=0;e<this.denominator;e++)this.rectangles.push(hi({height:this.height,origin:this.origins[i],width:t,xTranslate:e*t}))}for(const i of this.rectangles)i.distancePointer=function(e,s){return this.figure.currentState==="FILL"&&this.figure.pointer.isInPolygon(this)?0:Number.POSITIVE_INFINITY};this.indicesRectanglesInColor=this._indicesRectanglesInColor}redraw(){for(const t of this.origins)t.remove();for(const t of this.rectangles)t.remove();this.draw()}toJSON(){return{...this.jsonOptions(),denominator:this.denominator,numerator:this.numerator,arrayIndicesRectanglesInColor:Array.from(this.indicesRectanglesInColor),height:this.height,width:this.width,gap:this.gap,x:this.origin.x,y:this.origin.y}}get indicesRectanglesInColor(){for(let t=0;t<this.rectangles.length;t++)this.rectangles[t].fillColor!=="none"?this._indicesRectanglesInColor.add(t):this._indicesRectanglesInColor.delete(t);return this._indicesRectanglesInColor}set indicesRectanglesInColor(t){this._indicesRectanglesInColor=t,this.rectangles.forEach((i,e)=>{this._indicesRectanglesInColor.has(e)?i.fillColor=this.color:i.fillColor="none"})}get numerator(){return this.rectangles.filter(t=>t.fillColor!=="none").length}set numerator(t){this.rectangles.forEach((i,e)=>{e<t?i.fillColor=this.color:i.fillColor="none"})}}function hi({height:n,origin:t,width:i,xTranslate:e}){const s=[],o=t.figure;return s.push(o.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e,y:t.y})),s.push(o.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e+i,y:t.y})),s.push(o.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e+i,y:t.y+n})),s.push(o.create("Point",{isChild:!0,isFree:!1,shape:"",x:t.x+e,y:t.y+n})),o.create("Polygon",{isChild:!0,points:s})}class di extends S{constructor(t,{addLeft:i=0,addRight:e=0,color:s,labelInterval:o,max:r=6,min:a=-6,step:c=1,stepBis:l,thick:h=.2,yLabel:d=-.5}={}){super(t,{}),this._labelSize="0.8em",this.addInPixels=5,this.labels=[],this.points=[],this.addLeft=i,this.addRight=e,this._color=s??t.options.color,this.labelInterval=o??c,this.min=a,this.max=r,this.step=c,this.stepBis=l,this.thick=h,this.yLabel=d,this.type="GraduatedLine"}draw(){this.svgLine=document.createElementNS("http://www.w3.org/2000/svg","line"),this.groupSvg.appendChild(this.svgLine),this.groupSvg.setAttribute("color",this.color),this.setVisibilityColorThicknessAndDashed(),this.drawLine(),this.drawThicks(),this.drawThicksBis(),this.drawLabels()}drawLabels(){const t=p(Math.ceil(this.min/this.labelInterval)*this.labelInterval),i=p(Math.floor(this.max/this.labelInterval)*this.labelInterval);for(let e=t;e<=i;){const s=`$${A(e)}$`;this.labels.push(this.figure.create("TextByPosition",{anchor:"topCenter",dxInPixels:0,dyInPixels:0,isChild:!0,text:s,x:e,y:this.yLabel})),e=p(e+this.labelInterval)}}drawLine(){const t=this.figure.xToSx(this.min-this.addLeft),i=this.figure.xToSx(this.max+this.addRight),e=this.figure.yToSy(0),s=this.figure.yToSy(0);this.svgLine.setAttribute("x1",`${t-this.addInPixels}`),this.svgLine.setAttribute("y1",`${e}`),this.svgLine.setAttribute("x2",`${i+this.addInPixels}`),this.svgLine.setAttribute("y2",`${s}`),this.svgLine.setAttribute("stroke","currentColor");const o=document.createElementNS("http://www.w3.org/2000/svg","defs");this.figure.svg.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","marker");r.setAttribute("id","arrow"),r.setAttribute("markerWidth","10"),r.setAttribute("markerHeight","10"),r.setAttribute("refX","0"),r.setAttribute("refY","3"),r.setAttribute("orient","auto"),r.setAttribute("markerUnits","strokeWidth");const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d","M0,0 L0,6 L9,3 z"),a.setAttribute("fill",this.color),r.appendChild(a),o.appendChild(r),this.svgLine.setAttribute("marker-end","url(#arrow)")}drawThicks(){const t=p(Math.ceil(this.min/this.step)*this.step),i=p(Math.floor(this.max/this.step)*this.step);for(let e=t;e<=i;){const s=this.figure.xToSx(e),o=this.figure.yToSy(-this.thick),r=this.figure.yToSy(this.thick),a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",`${s}`),a.setAttribute("y1",`${o}`),a.setAttribute("x2",`${s}`),a.setAttribute("y2",`${r}`),a.setAttribute("stroke","currentColor"),a.setAttribute("stroke-width","1"),this.groupSvg.appendChild(a),e=p(e+this.step)}}drawThicksBis(){if(this.stepBis===void 0)return;const t=p(Math.ceil(this.min/this.stepBis)*this.stepBis),i=p(Math.floor(this.max/this.stepBis)*this.stepBis);let e=0;for(let s=t;s<=i&&e<1e3;){const o=this.figure.xToSx(s),r=this.figure.yToSy(-this.thick/2),a=this.figure.yToSy(this.thick/2),c=document.createElementNS("http://www.w3.org/2000/svg","line");c.setAttribute("x1",`${o}`),c.setAttribute("y1",`${r}`),c.setAttribute("x2",`${o}`),c.setAttribute("y2",`${a}`),c.setAttribute("stroke","currentColor"),c.setAttribute("stroke-width","1"),this.groupSvg.appendChild(c),s=p(s+this.stepBis),e++}}toJSON(){return{...super.toJSON(),type:this.type,color:this.color,addLeft:this.addLeft,addRight:this.addRight,labelInterval:this.labelInterval,max:this.max,min:this.min,step:this.step,stepBis:this.stepBis,thick:this.thick,yLabel:this.yLabel}}get labelSize(){return this._labelSize}set labelSize(t){this._labelSize=t;for(const i of this.labels)i.fontSize=t}get latex(){let t=`
\\tkzInit[xmin=${this.min}, xmax=${this.max}, xstep=${this.step}]`;return t+=`
\\tkzDrawX[label={}, tickup=3pt, tickdn=3pt]`,this.stepBis!==void 0&&(t+=`\\foreach \\i in {${this.min},${p(this.min+this.stepBis,6)},...,${this.max}} {`,t+=`
\\tkzHTick[mark=|,mark size=2pt]{\\i}
}`),t}}class rt extends S{constructor(t,{addBorders:i=!1,center:e,color:s,dynamicAngle:o,fillColor:r,fillOpacity:a,start:c,...l}){super(t,{...l}),this.start=c,this.center=e,this.dynamicAngle=o,this.addBorders=i,this._color=s??"black",this._fillColor=r??"none",this._fillOpacity=this.fillOpacity??this.figure.options.fillOpacity,this.svgArc=document.createElementNS("http://www.w3.org/2000/svg","path"),this.groupSvg.appendChild(this.svgArc),this.start.subscribe(this),this.center.subscribe(this),this.dynamicAngle.subscribe(this)}distancePointer(t,i){return this.figure.pointer.isInArc(this)?0:Number.POSITIVE_INFINITY}draw(){this.figure.svg.appendChild(this.groupSvg),this.update(),this.setVisibilityColorThicknessAndDashed()}setVisibilityColorThicknessAndDashed(){this.color=this._color,this.fillColor=this._fillColor,this._fillOpacity!==void 0&&(this.fillOpacity=this._fillOpacity),this._isDashed!==void 0&&(this.isDashed=this._isDashed),this.isDashed=this._isDashed,this.isVisible=this._isVisible}toJSON(){return{...this.jsonOptions(),idCenter:this.center.id,idDynamicAngle:this.dynamicAngle.id,idStart:this.start.id}}update(){this.notify();const t=this.figure.xToSx(R(this.start,this.center)),[i,e]=Ve(this.dynamicAngle.value),s=L(this.start,this.center,this.dynamicAngle.value);if(Number.isFinite(this.start.x)&&Number.isFinite(this.start.y)&&Number.isFinite(s.x)&&Number.isFinite(s.y)){let o=`M${this.figure.xToSx(this.start.x)} ${this.figure.yToSy(this.start.y)} A ${t} ${t} 0 ${i} ${e} ${this.figure.xToSx(s.x)} ${this.figure.yToSy(s.y)}`;this.addBorders&&(o+=`L ${this.figure.xToSx(this.center.x)} ${this.figure.yToSy(this.center.y)} Z`),this.svgArc.setAttribute("d",o)}}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.groupSvg.setAttribute("fill",this._fillColor)}get fillOpacity(){return this._fillOpacity}set fillOpacity(t){this._fillOpacity=t,t!==void 0&&this.groupSvg.setAttribute("fill-opacity",t.toString())}}class pi extends rt{constructor(t,{addBorders:i=!0,center:e,end:s,radius:o,start:r,...a}){const c=t.create("Segment",{isChild:!0,isSelectable:!0,isVisible:!1,point1:r,point2:e}),l=t.create("PointOnLineAtDistance",{distance:o,isChild:!0,isVisible:!1,line:c,shape:r.shape}),h=t.create("Angle",{center:e,end:s,start:l});super(t,{addBorders:i,center:e,dynamicAngle:h,start:l,...a}),this.radius=o}}class ui extends E{constructor(t,{isChild:i,value:e}){super(t,{isChild:i}),this.type="Const",this.value=e}toJSON(){return{id:this.id,isChild:this.isChild,type:this.type,value:this.value}}}class gi extends rt{constructor(t,{addBorders:i=!0,center:e,color:s,endAngle:o,fillColor:r,fillOpacity:a,radius:c,startAngle:l,...h}){const d=new ui(t,{isChild:!0,value:o-l}),{x:u,y:g}=$t(e,c,l),y=t.create("Point",{isChild:!0,isFree:!1,shape:"",x:u,y:g});super(t,{addBorders:i,center:e,color:s,dynamicAngle:d,fillColor:r,fillOpacity:a,start:y,...h}),this.radius=c,this.startAngle=l,this.endAngle=o,this.type="ArcByCenterRadiusAndAngles"}toJSON(){return{...this.jsonOptions(),endAngle:this.endAngle,fillColor:this.fillColor,idCenter:this.center.id,radius:this.radius,startAngle:this.startAngle}}get latex(){let t=`% Arc de cercle ${this.id}`;const i=$t(this.center,this.radius,this.startAngle);return this.fillColor&&this.fillColor!=="none"?t+=`
\\fill${this.latexOptions} (${this.center.x}, ${this.center.y}) -- ({${this.center.x} + ${this.radius} * cos(${this.startAngle})}, {${this.center.y} + ${this.radius} * sin(${this.startAngle})}) arc(${this.startAngle}:${this.endAngle}:${this.radius}) -- 
    cycle;`:t+=`
\\draw${this.latexOptions} (${i.x}, ${i.y}) arc (${this.startAngle}:${this.endAngle}:${this.radius});`,this.addBorders&&(t+=`
\\draw${this.latexOptions} (${this.center.x}, ${this.center.y}) -- ({${this.center.x} + ${this.radius} * cos(${this.startAngle})}, {${this.center.y} + ${this.radius} * sin(${this.startAngle})});`,t+=`
\\draw${this.latexOptions} (${this.center.x}, ${this.center.y}) -- ({${this.center.x} + ${this.radius} * cos(${this.endAngle})}, {${this.center.y} + ${this.radius} * sin(${this.endAngle})});`),t}}class mi extends ot{constructor(t,{origin:i,pointOnSide1:e,pointOnSide2:s,...o}){let r=Math.atan2(s.y-i.y,s.x-i.x)-Math.atan2(e.y-i.y,e.x-i.x);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);const a=i.x+Math.cos(r/2)*(e.x-i.x)-Math.sin(r/2)*(e.y-i.y),c=i.y+Math.sin(r/2)*(e.x-i.x)+Math.cos(r/2)*(e.y-i.y),l=t.create("Point",{isChild:!0,isSelectable:!1,isVisible:!1,x:a,y:c});super(t,{point1:i,point2:l,...o}),this.type="BisectorByPoints",this.pointOnSide1=e,this.pointOnSide2=s,this.pointOnBissector=l,this.pointOnSide1.subscribe(this),this.pointOnSide2.subscribe(this),this.point2.unsubscribe(this)}toJSON(){return{...this.jsonOptions(),idOrigin:this.point1.id,idPointOnSide1:this.pointOnSide1.id,idPointOnSide2:this.pointOnSide2.id,isChild:this.isChild}}update(){let t=Math.atan2(this.pointOnSide2.y-this.point1.y,this.pointOnSide2.x-this.point1.x)-Math.atan2(this.pointOnSide1.y-this.point1.y,this.pointOnSide1.x-this.point1.x);t>Math.PI&&(t-=2*Math.PI),t<-Math.PI&&(t+=2*Math.PI);const i=this.point1.x+Math.cos(t/2)*(this.pointOnSide1.x-this.point1.x)-Math.sin(t/2)*(this.pointOnSide1.y-this.point1.y),e=this.point1.y+Math.sin(t/2)*(this.pointOnSide1.x-this.point1.x)+Math.cos(t/2)*(this.pointOnSide1.y-this.point1.y);this.point2.moveTo(i,e),super.update()}get description(){const t=this.point1.label!==""?this.point1.label:this.point1.id,i=this.pointOnSide1.label!==""?this.pointOnSide1.label:this.pointOnSide1.id,e=this.pointOnSide2.label!==""?this.pointOnSide2.label:this.pointOnSide2.id;return`Bissectrice de l'angle $\\widehat{${i}${t}${e}}$`}}class J extends S{constructor(t,{center:i,fillOpacity:e=t.options.fillOpacity,radius:s,...o}){super(t,o),this.type="Circle",this._radius=s,this.center=i,o?.fillColor!==void 0?this._fillColor=o.fillColor:this._fillColor=this.figure.options.fillColor,this.fillOpacity=e||this.figure.options.fillOpacity,o?.isDashed!==void 0&&(this._isDashed=o.isDashed)}dilate(t,i,e){const s=this.center.dilate(t,i,{isChild:!0,isVisible:!1}),o=this.figure.create("Circle",{center:s,radius:Math.abs(i)*this.radius,...e});return o.transformation={center:t,factor:i,origin:this,type:"dilate"},o}distancePointer(t,i){if((this.figure.currentState==="FILL"||this.figure.currentState==="SET_OPTIONS"&&this.fillColor!=="none")&&this.figure.pointer.isInCircle(this))return 0;const e=Math.hypot((t-this.center.x)*this.figure.xScale,(i-this.center.y)*this.figure.yScale)*this.figure.scale;return Math.abs(e-this.radius*this.figure.scale)}draw(){this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.center.subscribe(this),this.setVisibilityColorThicknessAndDashed(),this.update()}reflect(t,i){const e=this.center.reflect(t,{isChild:!0,isVisible:!1}),s=this.figure.create("Circle",{center:e,radius:this.radius,...i});return s.transformation={center:t,origin:this,type:"reflect"},s}reflectOverLine(t,i){const e=this.center.reflectOverLine(t,{isChild:!0,isVisible:!1}),s=this.figure.create("Circle",{center:e,radius:this.radius,...i});return s.transformation={line:t,origin:this,type:"reflectOverLine"},s}rotate(t,i,e){const s=this.center.rotate(t,i,{isChild:!0,isVisible:!1}),o=this.figure.create("Circle",{center:s,radius:this.radius,...e});return o.transformation={angle:i,center:t,origin:this,type:"rotation"},o}setVisibilityColorThicknessAndDashed(){this.color=this._color,this.fillColor=this._fillColor,this._fillOpacity!==void 0&&(this.fillOpacity=this._fillOpacity),this._isDashed!==void 0&&(this.isDashed=this._isDashed),this.isDashed=this._isDashed,this.isVisible=this._isVisible}toJSON(){return{...this.jsonOptions(),fillColor:this.fillColor,fillOpacity:this.fillOpacity,idCenter:this.center.id,radius:this._radius}}translate(t,i,e){const s=this.center.translate(t,i,{isChild:!0,isVisible:!1}),o=this.figure.create("Circle",{center:s,radius:this.radius,...e});return o.transformation={origin:this,point1:t,point2:i,type:"translation"},o}update(){if(this.center.x===void 0||this.center.y===void 0||Number.isNaN(this.center.x)||Number.isNaN(this.center.y))this.groupSvg.removeAttribute("r");else{const t=this.figure.xToSx(this.center.x),i=this.figure.yToSy(this.center.y),e=this.figure.pixelsPerUnit*this._radius*this.figure.scale;this.groupSvg.setAttribute("cx",`${t}`),this.groupSvg.setAttribute("cy",`${i}`),this.groupSvg.setAttribute("r",`${e}`)}this.notify()}get description(){if(this.transformation?.type==="reflect")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la symétrie de centre $${this.transformation?.center.notation}$`;if(this.transformation?.type==="reflectOverLine")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la symétrie d'axe  $${this.transformation?.line.notation}$`;if(this.transformation?.type==="dilate")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans l'homothétie de centre $${this.transformation?.center.notation}$ et de rapport $${this.transformation.factor}$`;if(this.transformation?.type==="rotation")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`;if(this.transformation?.type==="translation")return`Cercle $${this.label}$, image du cercle $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`;const t=this.center.label!==""?this.center.label:this.center.id;return`Cercle $${this.label}$ de centre $${t}$ et de rayon ${this.radius} cm`}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.groupSvg.setAttribute("fill",this._fillColor)}get fillOpacity(){return this._fillOpacity}set fillOpacity(t){this._fillOpacity=t,t!==void 0&&this.groupSvg.setAttribute("fill-opacity",t.toString())}get label(){return this.id.replace("element","C_")}get latex(){let t=`% Cercle ${this.id}`;return t+=`
\\draw${this.latexOptions} (${this.center.x}, ${this.center.y}) circle (${this.radius});`,t}get notation(){return this.id}get radius(){return this._radius}set radius(t){this._radius=t,this.update()}}class Wt extends J{constructor(t,{center:i,radius:e,...s}){super(t,{center:i,radius:e.value,...s}),this.type="CircleDynamicRadius",this.center=i,this.radiusDynamic=e,this.radiusDynamic.subscribe(this),this.update(),this.setVisibilityColorThicknessAndDashed()}toJSON(){return{...this.jsonOptions(),fillColor:this.fillColor,fillOpacity:this.fillOpacity,idCenter:this.center.id,idRadius:this.radiusDynamic.id}}update(){if(this.radiusDynamic?.value===void 0||this.center.x===void 0||this.center.y===void 0)return;const t=this.figure.xToSx(this.center.x),i=this.figure.yToSy(this.center.y),e=this.figure.pixelsPerUnit*this.radiusDynamic?.value*this.figure.scale;this._radius=this.radiusDynamic.value,this.groupSvg.setAttribute("cx",`${t}`),this.groupSvg.setAttribute("cy",`${i}`),Number.isFinite(e)&&this.groupSvg.setAttribute("r",`${e}`),this.notify()}}class fi extends Wt{constructor(t,{center:i,point:e,...s}){const o=new Rt(t,{isChild:!0,point1:i,point2:e});super(t,{center:i,radius:o,...s}),this.type="CircleCenterPoint",this.point=e,this.point.subscribe(this)}dilate(t,i,e){const s=this.center.dilate(t,i,{isChild:!0,isVisible:!1}),o=this.point.dilate(t,i,{isChild:!0,isVisible:!1}),r=this.figure.create("CircleCenterPoint",{center:s,point:o,...e});return r.transformation={center:t,factor:i,origin:this,type:"dilate"},r}reflect(t,i){const e=this.center.reflect(t,{isChild:!0,isVisible:!1}),s=this.point.reflect(t,{isChild:!0,isVisible:!1}),o=this.figure.create("CircleCenterPoint",{center:e,point:s,...i});return o.transformation={center:t,origin:this,type:"reflect"},o}reflectOverLine(t,i){const e=this.center.reflectOverLine(t,{isChild:!0,isVisible:!1}),s=this.point.reflectOverLine(t,{isChild:!0,isVisible:!1}),o=this.figure.create("CircleCenterPoint",{center:e,point:s,...i});return o.transformation={line:t,origin:this,type:"reflectOverLine"},o}rotate(t,i,e){const s=this.center.rotate(t,i,{isChild:!0,isVisible:!1}),o=this.point.rotate(t,i,{isChild:!0,isVisible:!1}),r=this.figure.create("CircleCenterPoint",{center:s,point:o,...e});return r.transformation={center:t,angle:i,origin:this,type:"rotation"},r}toJSON(){return{...this.jsonOptions(),fillColor:this.fillColor,fillOpacity:this.fillOpacity,idCenter:this.center.id,idPoint:this.point.id}}translate(t,i,e){const s=this.center.translate(t,i,{isChild:!0,isVisible:!1}),o=this.point.translate(t,i,{isChild:!0,isVisible:!1}),r=this.figure.create("CircleCenterPoint",{center:s,point:o,...e});return r.transformation={origin:this,point1:t,point2:i,type:"translation"},r}get description(){if(this.transformation?.type==="reflect")return`Image du cercle $${this.transformation.origin.notation}$ dans la symétrie de centre $${this.transformation?.center.notation}$`;if(this.transformation?.type==="reflectOverLine")return`Image du cercle $${this.transformation.origin.notation}$ dans la symétrie d'axe $${this.transformation?.line.notation}$`;if(this.transformation?.type==="dilate")return`Image du cercle $${this.transformation.origin.notation}$ dans l'homothétie de centre $${this.transformation?.center.notation}$ et de rapport $${this.transformation.factor}$`;if(this.transformation?.type==="rotation")return`Image du cercle $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`;if(this.transformation?.type==="translation")return`Image du cercle $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`;const t=this.center.label!==""?this.center.label:this.center.id,i=this.point.label!==""?this.point.label:this.point.id;return`Cercle de centre $${t}$ et passant par le point $${i}$`}}class yi extends B{constructor(t,{point:i,vector:e,...s}){const o=i.translateVector(e);o.isVisible=!1,o.isSelectable=!0,o.isVisible=!1,o.shape=i.shape,super(t,{point1:i,point2:o,shape:"",...s}),this.type="LineByPointVector",this.point=i,this.vector=e}toJSON(){return{...this.jsonOptions(),idPoint:this.point.id,idVector:this.vector.id}}}class at extends B{constructor(t,{line:i,point:e,...s}){const{x1:o,y1:r,x2:a,y2:c}=bt({line:i,point:e,figure:t}),l=t.create("Point",{isChild:!0,isFree:!1,isVisible:!1,x:o,y:r}),h=t.create("Point",{isChild:!0,isFree:!1,isVisible:!1,x:a,y:c});super(t,{point1:l,point2:h,...s}),this.type="LineParallel",this.line=i,this.point=e,this.line.subscribe(this),this.point.subscribe(this),this.point1.unsubscribe(this),this.point2.unsubscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idPoint:this.point.id}}update(){const{x1:t,y1:i,x2:e,y2:s}=bt({line:this.line,point:this.point,figure:this.figure});this.point1.moveTo(t,i),this.point2.moveTo(e,s),super.update()}get description(){const t=this.point.label!==""?this.point.label:this.point.id;return this.line.point1.label!==""&&this.line.point2.label!==""&&this.point.label!==""?`Droite parallèle à $${this.line.notation}$ et passant par le point $${t}$`:`Droite parallèle n°${[...this.figure.elements.values()].filter(s=>s instanceof at).indexOf(this)+1}`}}class q extends B{constructor(t,{line:i,point:e,...s}){const o=e.x,r=e.y;let a;o===i.point1.x&&r===i.point1.y?a=L(i.point2,i.point1,90):o===i.point2.x&&r===i.point2.y||e.isOnline(i)?a=L(i.point1,e,90):a=j(e,i);const c=a.x,l=a.y,h=t.create("Point",{isChild:!0,isFree:!1,isVisible:!1,color:"",x:o,y:r}),d=t.create("Point",{isChild:!0,isFree:!1,isVisible:!1,color:"",x:c,y:l});super(t,{point1:h,point2:d,...s}),this.type="LinePerpendicular",this.line=i,this.point=e,this.line.subscribe(this),this.point.subscribe(this),this.point1.unsubscribe(this),this.point2.unsubscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idPoint:this.point.id}}update(){const t=this.point.x,i=this.point.y;let e;t===this.line.point1.x&&i===this.line.point1.y?e=L(this.line.point2,this.line.point1,90):t===this.line.point2.x&&i===this.line.point2.y?e=L(this.line.point1,this.point,90):this.point.isOnline(this.line)?e=L(this.line.point1,this.point,90):e=j(this.point,this.line);const s=e.x,o=e.y;this.point1.moveTo(t,i),this.point2.moveTo(s,o),super.update()}get description(){const t=this.point.label!==""?this.point.label:this.point.id;return this.line.point1.label!==""&&this.line.point2.label!==""&&this.point.label!==""?`Droite perpendiculaire à $${this.line.notation}$ et passant par le point $${t}$`:`Droite perpendiculaire n°${[...this.figure.elements.values()].filter(s=>s instanceof q).indexOf(this)+1}`}}class Gt extends q{constructor(t,{segment:i,...e}){const s=t.create("Middle",{isChild:!0,isSelectable:!0,isVisible:!1,point1:i.point1,point2:i.point2,shape:""});super(t,{line:i,point:s,...e}),this.type="PerpendicularBisector",this.notationSegment=i.notation}toJSON(){return{...this.jsonOptions(),idSegment:this.line.id}}get description(){return`Médiatrice du segment $${this.notationSegment}$`}get notation(){return`\\text{médiatrice de }${this.notationSegment}`}}class xi extends Gt{constructor(t,{point1:i,point2:e,...s}){const o=t.create("Segment",{isChild:!0,isSelectable:!0,isVisible:!1,point1:i,point2:e});super(t,{segment:o,...s}),this.type="PerpendicularBisectorByPoints"}toJSON(){return{...this.jsonOptions(),idPoint1:this.line.point1.id,idPoint2:this.line.point2.id}}get description(){const t=this.line.point1.label!==""?this.line.point1.label:this.line.point1.id,i=this.line.point2.label!==""?this.line.point2.label:this.line.point2.id;return`Médiatrice du segment $[${t}${i}]$`}}class vi extends S{constructor(t,{fillColor:i="none",fillOpacity:e=t.options.fillOpacity,isBuiltWithSegments:s=!0,points:o,shape:r="",...a}){if(super(t,a),this._fillColor="none",this._fillOpacity=.5,this.type="Polygon",ki(o[0])){this.points=[];for(const c of o)this.points.push(this.figure.create("Point",{x:c.x,y:c.y,isVisible:!1,isChild:!1}))}else this.points=o;this.shape=r,this.segments=[],this.fillColor=i,this.fillOpacity=e,this.isBuiltWithSegments=s;for(const c of this.points)c.subscribe(this)}createSegments(){for(let t=0;t<this.points.length;t++){const i=this.points.at(t%this.points.length),e=this.points.at((t+1)%this.points.length),s=this.figure.create("Segment",{color:"",id:`${this.id}_segment${t.toString()}`,isChild:!0,point1:i,point2:e});this.segments.push(s)}for(const t of this.segments)t.createdBy=this}dilate(t,i,e){const s=[];for(const r of this.points)s.push(r.dilate(t,i,{isChild:!0,isVisible:!1}));const o=this.figure.create("Polygon",{points:s,...e});return o.transformation={center:t,factor:i,origin:this,type:"dilate"},o}distancePointer(t,i){if(this.figure.currentState==="FILL"&&this.figure.pointer.isInPolygon(this))return 0;let e=Number.POSITIVE_INFINITY;for(const s of this.segments){const o=s.distancePointer(t,i);o<e&&(e=o)}return e}draw(){this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this.groupSvg.setAttribute("fill",this.fillColor??"none"),this.groupSvg.setAttribute("fill-opacity",this.fillOpacity.toString()),this.setVisibilityColorThicknessAndDashed(),this.isBuiltWithSegments&&this.createSegments(),this.update()}reflect(t,i){const e=[];for(const o of this.points)e.push(o.reflect(t,{isChild:!0,isVisible:!1}));const s=this.figure.create("Polygon",{points:e,...i});return s.transformation={center:t,origin:this,type:"reflect"},s}reflectOverLine(t,i){const e=[];for(const o of this.points)e.push(o.reflectOverLine(t,{isChild:!0,isVisible:!1}));const s=this.figure.create("Polygon",{points:e,...i});return s.transformation={line:t,origin:this,type:"reflectOverLine"},s}rotate(t,i,e){const s=[];for(const r of this.points)s.push(r.rotate(t,i,{isChild:!0,isVisible:!1}));const o=this.figure.create("Polygon",{points:s,...e});return o.transformation={center:t,origin:this,angle:i,type:"rotation"},o}remove(){super.remove();for(const t of this.segments)t.remove()}toJSON(){const t=[];for(const i of this.points)t.push(i.id);return{...this.jsonOptions(),idPoints:t}}translate(t,i,e){const s=[];for(const r of this.points)s.push(r.translate(t,i,{isChild:!0,isVisible:!1}));const o=this.figure.create("Polygon",{points:s,...e});return o.transformation={origin:this,point1:t,point2:i,type:"translation"},o}update(){if(this.notify(),!wi(this.points))this.groupSvg.removeAttribute("points");else{let t="";for(const i of this.points)t+=`${this.figure.xToSx(i.x).toString()},${this.figure.yToSy(i.y).toString()} `;this.groupSvg.setAttribute("points",t)}}get description(){return this.transformation?.type==="reflect"?`Image du polygone $${this.transformation.origin.notation}$ dans la symétrie de centre $${this.transformation?.center.notation}$`:this.transformation?.type==="reflectOverLine"?`Image du polygone $${this.transformation.origin.notation}$ dans la symétrie d'axe $${this.transformation?.line.notation}$`:this.transformation?.type==="dilate"?`Image du polygone $${this.transformation.origin.notation}$ dans l'homothétie de centre $${this.transformation?.center.notation}$ et de rapport $${this.transformation.factor}$`:this.transformation?.type==="rotation"?`Image du polygone $${this.transformation.origin.notation}$ dans la rotation de centre $${this.transformation.center.notation}$ et d'angle $${Math.abs(this.transformation.angle)}\\degree$ dans le sens ${this.transformation.angle>0?"anti-horaire":"horaire"}`:this.transformation?.type==="translation"?`Image du polygone $${this.transformation.origin.notation}$ dans la translation qui transforme $${this.transformation.point1.notation}$ en $${this.transformation.point2.notation}$`:`Polygone $${this.notation}$`}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.groupSvg.setAttribute("fill",this._fillColor)}get fillOpacity(){return this._fillOpacity??this.figure.options.fillOpacity}set fillOpacity(t){this._fillOpacity=t,t!==void 0&&this.groupSvg.setAttribute("fill-opacity",t.toString())}get latex(){let t=`% Polygone ${this.points.reduce((i,e)=>i+e.label,"")}`;t+=`
 \\draw [color=${st(this.color?this.color:"none")},fill=${st(this.fillColor?this.fillColor:"none")},fill opacity=${this.fillOpacity},line width=${this.thickness}] `;for(const i of this.points)t+=`(${i.x.toFixed(2)},${i.y.toFixed(2)}) -- `;return t+=" cycle;",t}get notation(){return this.points.reduce((t,i)=>{const e=i.label===""?i.id:i.label;return t+e},"")}}function wi(n){for(const t of n)if(!Number.isFinite(t.x)||!Number.isFinite(t.y))return!1;return!0}function ki(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"x"in n&&"y"in n&&typeof n.x=="number"&&typeof n.y=="number"}class bi extends S{constructor(t,{points:i,...e}){super(t,e),this.type="Polyline",this.points=i;for(const s of i)s.subscribe(this)}draw(){this.groupSvg=document.createElementNS("http://www.w3.org/2000/svg","polyline"),this.groupSvg.setAttribute("fill","none"),this.setVisibilityColorThicknessAndDashed(),this.update()}toJSON(){const t=[];for(const i of this.points)t.push(i.id);return{...this.jsonOptions(),idPoints:t}}update(){if(this.notify(),!Ci(this.points))this.groupSvg.removeAttribute("points");else{let t="";for(const i of this.points)t+=`${this.figure.xToSx(i.x).toString()},${this.figure.yToSy(i.y).toString()} `;this.groupSvg.setAttribute("points",t)}}}function Ci(n){for(const t of n)if(!Number.isFinite(t.x)||!Number.isFinite(t.y))return!1;return!0}class U extends S{constructor(t,{anchor:i="middleCenter",backgroundColor:e,color:s="black",dxInPixels:o=0,dyInPixels:r=0,fontSize:a=t.options.fontSize,id:c,isChild:l=!1,isVisible:h=!0,text:d,x:u,y:g}){super(t,{id:c,isChild:l}),this._angleWithHorizontalInDegres=0,this.type="TextByPosition",this._x=u,this._y=g,this.div=document.createElement("div"),this._fontSize=a,this.dxInPixels=o,this.dyInPixels=r,this._text=d,this.backgroundColor=e,this._color=s,this.anchor=i,this.isVisible=h}draw(){this.div.style.position="absolute",this.div.style.pointerEvents="none",this.figure.divFigure?.appendChild(this.div),this.color!=="black"&&(this.div.style.color=this.color),this.backgroundColor!==void 0&&(this.div.style.backgroundColor=this.backgroundColor),this.text=this._text,this.x=this._x,this.y=this._y,this._angleWithHorizontalInDegres!==0&&(this.div.style.transform=this.div.style.transform.replace(/rotate\([0-9.]+deg\)/,""),this.div.style.transformOrigin="center",this.div.style.transform+=` rotate(${this._angleWithHorizontalInDegres}deg)`,this.div.style.transform+="translateY(-50%)",this.div.style.verticalAlign="middle"),this.div.style.alignItems="center",this.figure.scale-this.figure.initial.scale!==0&&(this._fontSize.includes("em")||this._fontSize.includes("pt")&&(this.fontSize=`${Number.parseFloat(this._fontSize)*(1+(this.figure.scale-this.figure.initial.scale))}pt`))}moveTo(t,i){this.x=t,this.y=i}remove(){this.figure.elements.delete(this.id),this.div.remove();for(const t of this.observers)t.remove()}update(){this.x!==void 0&&this.y!==void 0&&this.moveTo(this.x,this.y),this.notify();const t=this.div.getBoundingClientRect(),i=this.figure.svg?.getBoundingClientRect();i&&(t.right<i.left||t.left>i.right||t.bottom<i.top||t.top>i.bottom)?this.div.style.visibility="hidden":this.div.style.visibility="visible"}get isVisible(){return this._isVisible}set isVisible(t){this._isVisible=t,t?this.figure.divFigure?.appendChild(this.div):this.div.remove()}get opacity(){return this._opacity}set opacity(t){this._opacity=t,this.div.style.opacity=t.toString()}toJSON(){return{...this.jsonOptions(),backgroundColor:this.backgroundColor,color:this.color,name:this.id,text:this.text,x:p(this.x),y:p(this.y),anchor:this.anchor}}set angleWithHorizontalInDegres(t){this._angleWithHorizontalInDegres=t,this.div.style.transform=this.div.style.transform.replace(/rotate\([0-9.]+deg\)/,""),this.div.style.transformOrigin="center",this.div.style.transform+=` rotate(${t}deg)`}get angleWithHorizontalInDegres(){return this._angleWithHorizontalInDegres}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,t!==void 0&&(this.div.style.backgroundColor=t)}get color(){return this._color}set color(t){this._color=t,this.div.style.color=t}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.div.style.fontSize=t}get latex(){const t=[...this.figure.elements.values()].filter(i=>i.type==="Grid")[0];return t&&t.labels.indexOf(this)!==-1?"":this.text!=="$$"&&this.text!==""?`\\node[${this.latexOptions}] at (${this.x},${this.y}) {${this.text}};`:""}get latexOptions(){const t=super.latexOptions,i=t===""?[]:t.substring(1,t.length-1).split(","),e=[];this.dyInPixels>0?e.push("above"):this.dyInPixels<0&&e.push("below"),this.dxInPixels>0?e.push("right"):this.dxInPixels<0&&e.push("left");const s=e.join(" ");return e.length>0&&i.push(s),i.join(",")}get text(){return this._text}set text(t){this._text=t,this.div.innerHTML=t,nt(this.div,{delimiters:[{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"}],errorColor:"#CC0000",preProcess:i=>i.replaceAll(" ","\\,"),strict:"warn",throwOnError:!0,trust:!1})}get x(){return this._x}set x(t){let i="";this.anchor.includes("Left")?this.div.style.left=`${this.figure.xToSx(t-this.figure.xMin).toString()}px`:this.anchor.includes("Right")?this.figure.divFigure?.clientWidth!==void 0&&this.figure.divFigure.clientWidth>this.figure.width?this.div.style.right=`${(this.figure.xToSx(-t+this.figure.xMax)+Math.max(0,this.figure.divFigure.clientWidth-this.figure.width)).toString()}px`:this.div.style.right=`${this.figure.xToSx(-t+this.figure.xMax).toString()}px`:this.anchor.includes("Center")&&(this.div.style.left=`${this.figure.xToSx(t-this.figure.xMin).toString()}px`,i+="translateX(-50%)"),this.anchor.includes("middle")&&(i+="translateY(-50%)"),(this.dxInPixels!==0||this.dyInPixels!==0)&&(i+=` translate(${this.dxInPixels.toString()}px, ${-this.dyInPixels.toString()}px)`),this.div.style.fontSize=this._fontSize,this.div.style.transform=i,this._x=t}get y(){return this._y}set y(t){this.anchor.includes("top")?this.div.style.top=`${this.figure.yToSy(t-this.figure.yMax).toString()}px`:this.anchor.includes("bottom")?this.div.style.bottom=`${this.figure.yToSy(-t+this.figure.yMin).toString()}px`:this.anchor.includes("middle")&&(this.div.style.top=`${this.figure.yToSy(t-this.figure.yMax).toString()}px`),this._y=t}}class Si extends U{constructor(t,{color:i=t.options.color,fontSize:e=t.options.fontSize,point1:s,point2:o,text:r=t.options.mark}){const a=(s.x+o.x)/2,c=(s.y+o.y)/2;super(t,{color:i,fontSize:e,text:r,x:a,y:c}),this.type="MarkSegment",this.fontSize=e,this._color=i,this.point1=s,this.point2=o,this.point1.subscribe(this),this.point2.subscribe(this);const l=xt(this.point1,this.point2);this.angleWithHorizontalInDegres=-l,this.type="MarkBetweenPoints",this.erasePreviousMarks()}draw(){super.draw(),this.update()}erasePreviousMarks(){const t=[...this.figure.elements.values()].filter(i=>i instanceof S&&i.type==="MarkBetweenPoints");for(const i of t)i.id!==this.id&&(i.point1.id===this.point1.id&&i.point2.id===this.point2.id||i.point1.id===this.point2.id&&i.point2.id===this.point1.id)&&i.remove()}update(){if(this.x=(this.point1.x+this.point2.x)/2,this.y=(this.point1.y+this.point2.y)/2,this.div!==void 0){this.text!=="||"&&this.text!=="|||"&&(this.div.style.fontFamily="Courier New"),this.div.style.fontWeight="bold",this.div.style.fontSize=this.fontSize,this.div.style.transformOrigin="center center",this.div.style.transformBox="fill-box",this.div.style.transform="translate(-50%, -50%)",this.div.classList.add("-tracking-2");const t=xt(this.point1,this.point2);this.div.style.transform+=`rotate(${-t}deg)`;const i=this.div.getBoundingClientRect(),e=this.figure.svg?.getBoundingClientRect();e&&(i.right<e.left||i.left>e.right||i.bottom<e.top||i.top>e.bottom)?this.div.style.visibility="hidden":this.div.style.visibility="visible"}this.notify()}toJSON(){return{...this.jsonOptions(),color:this.color,text:this.text,idPoint1:this.point1.id,idPoint2:this.point2.id}}}class $i extends S{constructor(t,{point:i,directionPoint:e,size:s=.4,...o}){super(t,{...o}),this.directionPoint=e,this.point=i,this.size=s,this.type="MarkRightAngle",this.point.subscribe(this),this.directionPoint.subscribe(this),this.svgPolygon=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this.groupSvg.appendChild(this.svgPolygon),this.update(),this.setVisibilityColorThicknessAndDashed()}draw(){this.update()}update(){const t=this.figure.xToSx(this.point.x),i=this.figure.yToSy(this.point.y),e=Y(this.directionPoint,this.point,this.size/C(this.point,this.directionPoint)),s=this.figure.xToSx(e.x),o=this.figure.yToSy(e.y),r=L(this.point,e,-90),a=this.figure.xToSx(r.x),c=this.figure.yToSy(r.y),l=L(e,this.point,90),h=this.figure.xToSx(l.x),d=this.figure.yToSy(l.y);this.svgPolygon.setAttribute("points",`${t},${i} ${s},${o} ${a},${c} ${h},${d}`),this.svgPolygon.setAttribute("fill","none"),this.notify()}toJSON(){return{...this.jsonOptions(),color:this.color,idPoint:this.point.id,idDirectionPoint:this.directionPoint.id}}get latex(){const t=Y(this.directionPoint,this.point,this.size/C(this.point,this.directionPoint)),i=L(this.point,t,-90),e=L(t,this.point,90);let s=`% Angle droit en ${this.point.label}`;return s+=`
\\draw${this.latexOptions} (${this.point.x},${this.point.y}) -- (${t.x},${t.y}) -- (${i.x},${i.y}) -- (${e.x},${e.y}) -- cycle;`,s}}class Ii extends M{constructor(t,{points:i,...e}){const s=i.reduce((r,a)=>r+a.x,0)/i.length,o=i.reduce((r,a)=>r+a.y,0)/i.length;super(t,{x:s,y:o,...e}),this.type="Barycenter",this.points=i;for(const r of this.points)r.subscribe(this)}update(){const t=this.points.reduce((e,s)=>e+s.x,0)/this.points.length,i=this.points.reduce((e,s)=>e+s.y,0)/this.points.length;this._x=t,this._y=i,super.update()}}class Ni extends M{constructor(t,{point1:i,point2:e,...s}){const[o,r]=Mi(i,e);super(t,{isFree:!1,x:o,y:r,...s}),this.type="Middle",this.point1=i,this.point2=e,this.point1.subscribe(this),this.point2.subscribe(this)}toJSON(){return{...this.jsonOptions(),idPoint1:this.point1.id,idPoint2:this.point2.id}}update(){this.point1?.x===void 0||this.point2?.x===void 0||this.point1?.y===void 0||this.point2?.y===void 0||Number.isNaN(this.point1.x)||Number.isNaN(this.point1.y)||Number.isNaN(this.point2.x)||Number.isNaN(this.point2.y)?(this._x=Number.NaN,this._y=Number.NaN):(this._x=(this.point1.x+this.point2.x)/2,this._y=(this.point1.y+this.point2.y)/2),super.update(),this.notify()}get description(){const t=this.point1.label!==""?this.point1.label:this.point1.id,i=this.point2.label!==""?this.point2.label:this.point2.id;return`Milieu de $[${t}${i}]$`}}function Mi(n,t){return Number.isNaN(n.x)||Number.isNaN(n.y)||Number.isNaN(t.x)||Number.isNaN(t.y)?[Number.NaN,Number.NaN]:[(n.x+t.x)/2,(n.y+t.y)/2]}class Pi extends M{constructor(t,{abscissa:i=!1,graph:e,ordinate:s=!1,x:o=1,...r}){super(t,{x:o,y:e.f(o),...r}),this.type="PointOnGraph",this.graph=e,this.graph.subscribe(this)}moveTo(t){let i=t;t>this.graph.xMax&&(i=this.graph.xMax),t<this.graph.xMin&&(i=this.graph.xMin),this.x=i}toJSON(){return{...this.jsonOptions(),idGraph:this.graph.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels,x:this.x}}get x(){return this._x}set x(t){t>this.figure.xMax||t<this.figure.xMin||this.graph.f(t)>this.figure.yMax||this.graph.f(t)<this.figure.yMin||(this._x=t,this._y=this.graph.f(t),this.update())}get y(){return this.graph.f(this.x)}}class Ai extends M{constructor(t,{line:i,origin:e,...s}){const{x:o,y:r}=j(e,i);super(t,{isFree:!1,x:o,y:r,...s}),this.type="PointByProjection",this.origin=e,this.line=i,this.origin.subscribe(this),this.line.subscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idOrigin:this.origin.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){const{x:t,y:i}=j(this.origin,this.line);this._x=t,this._y=i,super.update()}get description(){const t=this.line.notation;return`Projection orthogonale de $${this.origin.label!==""?this.origin.label:this.origin.id}$ sur $${t}$`}}class Ti extends M{constructor(t,{origin:i,...e}){super(t,{isFree:!1,x:i.x,y:0,...e}),this.type="PointByProjectionOnAxisX",this.origin=i,this.origin.subscribe(this)}toJSON(){return{...this.jsonOptions(),idOrigin:this.origin.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){this._x=this.origin.x,this._y=0,super.update()}}class Li extends M{constructor(t,{origin:i,...e}){super(t,{isFree:!1,x:0,y:i.x,...e}),this.type="PointByProjectionOnAxisY",this.origin=i,this.origin.subscribe(this)}toJSON(){return{...this.jsonOptions(),idOrigin:this.origin.id,label:this.label,shape:this.shape,sizeInPixels:this.sizeInPixels}}update(){this._x=0,this._y=this.origin.y,super.update()}}class Di extends M{constructor(t,{circle1:i,circle2:e,isChild:s,n:o,...r}){const a=vt(i,e,o);super(t,{isChild:s,isFree:!1,x:a.x,y:a.y,...r}),this.type="PointIntersectionCC",this.circle1=i,this.circle2=e,this.n=o??1,this.circle1.subscribe(this),this.circle2.subscribe(this)}toJSON(){return{...this.jsonOptions(),idCircle1:this.circle1.id,idCircle2:this.circle2.id,label:this.label,n:this.n,shape:this.shape}}update(){if(!(this.circle1==null||this.circle2==null)){try{const{x:t,y:i}=vt(this.circle1,this.circle2,this.n);this._x=t,this._y=i,super.update()}catch(t){console.error("Erreur dans PointIntersectionLL.update()",t)}this.notify()}}get description(){return this.label?`Point ${this.label}, intersection du cercle $${this.circle1.label}$ et du cercle $${this.circle2.label}$`:`Intersection du cercle $${this.circle1.label}$ et du cercle $${this.circle2.label}$`}}class _i extends M{constructor(t,{circle:i,line:e,n:s,...o}){const r=kt(e,i,s);super(t,{isFree:!1,x:r.x,y:r.y,...o}),this.type="PointIntersectionLC",this.line=e,this.circle=i,this.n=s??1,this.line.subscribe(this),this.circle.subscribe(this)}toJSON(){return{...this.jsonOptions(),idCircle:this.circle.id,idLine:this.line.id,label:this.label,n:this.n,shape:this.shape}}update(){if(!(this.line===void 0||this.circle===void 0)){try{const{x:t,y:i}=kt(this.line,this.circle,this.n);this._x=t,this._y=i,this.isOnline(this.line)||(this._x=Number.NaN,this._y=Number.NaN),super.update()}catch(t){console.error("Erreur dans PointIntersectionLL.update()",t)}this.notify()}}get description(){const t=this.line.notation,i=this.circle.id;return`Intersection de la droite $${t}$ et du cercle $${i}$`}}class Oi extends M{constructor(t,{angleWithHorizontal:i,circle:e,label:s,...o}){i===void 0&&(i=Math.random()*2*Math.PI),super(t,{label:s,x:e.center.x+e.radius*Math.cos(i),y:e.center.y+e.radius*Math.sin(i),...o}),this.figure=t,this.circle=e,this.angleWithHorizontal=i,this.isFree=!0,this.type="PointOnCircle",this.circle.subscribe(this)}moveTo(t,i){const e=Math.atan2(i-this.circle.center.y,t-this.circle.center.x);this.angleWithHorizontal=e,this.x=this.circle.center.x+this.circle.radius*Math.cos(e),this.y=this.circle.center.y+this.circle.radius*Math.sin(e),this.update()}toJSON(){return{...this.jsonOptions(),angleWithHorizontal:this.angleWithHorizontal,idCircle:this.circle.id,label:this.label}}update(){this._x=this.circle.center.x+this.circle.radius*Math.cos(this.angleWithHorizontal),this._y=this.circle.center.y+this.circle.radius*Math.sin(this.angleWithHorizontal),super.update()}get description(){return`Point sur le cercle $${this.circle.label}$`}}class Vi extends M{constructor(t,{distance:i,line:e,...s}){const{x:o,y:r}=Y(e.point1,e.point2,i/R(e.point1,e.point2));super(t,{x:o,y:r,...s}),this.line=e,this.distance=i,this.line.subscribe(this)}update(){const{x:t,y:i}=Y(this.line.point1,this.line.point2,this.distance/R(this.line.point1,this.line.point2));this._x=t,this._y=i,super.update()}}function Q(n,t){const i=n.points.map(l=>l.x),e=n.points.map(l=>l.y);let s=0;for(;s<i.length-1&&t>i[s+1];)s++;if(s===i.length-1)return Number.NaN;const o=i[s],r=i[s+1],a=e[s],c=e[s+1];return a+(c-a)*(t-o)/(r-o)}class zi extends M{constructor(t,{polyline:i,x:e,dx:s=.05,shape:o="|",abscissa:r=!1,ordinate:a=!1,...c}){const l=i.points.map(d=>d.x),h=e??l[Math.floor(l.length/2)];super(t,{x:h,y:Q(i,h),...c}),this.lesX=[...l],this.type="PointOnPolyline",this.polyline=i,this.dx=s,this.abscissa=r,this.ordinate=a}get x(){return this._x}set x(t){this.dx!==void 0?this._x=Math.round(t/this.dx)*this.dx:this._x=t,this._y=Q(this.polyline,this._x),this.update()}get y(){return Q(this.polyline,this._x)}moveTo(t){t>this.lesX[0]&&t<this.lesX[this.lesX.length-1]&&(this.x=t)}toJSON(){return{...this.jsonOptions(),x:this.x,dx:this.dx,idPolyline:this.polyline.id}}}class Bi extends S{constructor(t,{circle1:i,circle2:e,shape:s,sizeInPixels:o,...r}){super(t,r),this.type="PointsIntersectionCC",this.circle1=i,this.circle2=e,this.shape=s??"x",this.sizeInPixels=o}draw(){this.point1=this.figure.create("PointIntersectionCC",{circle1:this.circle1,circle2:this.circle2,id:`${this.id}_1`,n:1,shape:this.shape,sizeInPixels:this.sizeInPixels}),this.point2=this.figure.create("PointIntersectionCC",{circle1:this.circle1,circle2:this.circle2,id:`${this.id}_2`,n:2,shape:this.shape,sizeInPixels:this.sizeInPixels})}toJSON(){return{...this.jsonOptions(),idCircle1:this.circle1.id,idCircle2:this.circle2.id,shape:this.shape,sizeInPixels:this.sizeInPixels}}}class Fi extends S{constructor(t,{circle:i,line:e,shape:s="x",sizeInPixels:o,...r}){super(t,r),this.type="PointsIntersectionLC",o=o??t.options.pointSize,this.line=e,this.circle=i,this.point1=t.create("PointIntersectionLC",{circle:i,line:e,n:1,shape:s,sizeInPixels:o,...r}),this.point2=t.create("PointIntersectionLC",{circle:i,line:e,n:2,shape:s,sizeInPixels:o,...r}),this.shape=s,this.sizeInPixels=o}draw(){}toJSON(){return{...this.jsonOptions(),idCircle:this.circle.id,idLine:this.line.id,shape:this.shape,sizeInPixels:this.sizeInPixels}}}class Ei extends U{constructor(t,{color:i="black",dxInPixels:e=0,dyInPixels:s=0,id:o,isChild:r,point:a,text:c,...l}){super(t,{color:i,dxInPixels:e,dyInPixels:s,id:o,isChild:r,text:c,x:a.x,y:a.y,...l}),this.type="TextByPoint",this.dxInPixels=e,this.dyInPixels=s,this.point=a,this.point.subscribe(this)}moveTo(t,i){const[e,s]=[this.x,this.y];this.dxInPixels=Math.round(this.figure.xToSx(t-this.point.x)/this.figure.options.moveTextGrid)*this.figure.options.moveTextGrid,this.dyInPixels=Math.round(this.figure.yToSy(this.point.y-i)/this.figure.options.moveTextGrid)*this.figure.options.moveTextGrid,this.point.labelDxInPixels=this.dxInPixels,this.point.labelDyInPixels=this.dyInPixels,this.x=e,this.y=s}toJSON(){return{...this.jsonOptions(),point:this.point.id,text:this.text}}update(){this.point?.x!==void 0&&this.point?.y!==void 0&&super.moveTo(this.point.x,this.point.y),this.notify()}}class ji extends U{constructor(t,{color:i="black",dynamicNumber:e,isChild:s=!1,maximumFractionDigits:o=qt,minimumFractionDigits:r=0,textAfter:a="",textBefore:c="",x:l,y:h}){const d=c+Intl.NumberFormat("fr-FR",{maximumFractionDigits:o,minimumFractionDigits:r}).format(e.value)+a;super(t,{color:i,isChild:s,text:d,x:l,y:h}),this.type="TextDynamicByPosition",this.dynamicNumber=e,this.textBefore=c,this.textAfter=a,this.minimumFractionDigits=r,this.maximumFractionDigits=o,e.subscribe(this)}toJSON(){return{...this.jsonOptions(),idDynamicNumber:this.dynamicNumber.id,maximumFractionDigits:this.maximumFractionDigits,minimumFractionDigits:this.minimumFractionDigits,textAfter:this.textAfter,textBefore:this.textBefore,x:p(this.x),y:p(this.y)}}update(){this.text=this.textBefore+Intl.NumberFormat("fr-FR",{maximumFractionDigits:this.maximumFractionDigits,minimumFractionDigits:this.minimumFractionDigits}).format(this.dynamicNumber.value)+this.textAfter}}class Ht extends S{constructor(t,{color:i,id:e,isChild:s,isDashed:o,isVisible:r=!0,label:a,labelColor:c,labelDxInPixels:l,labelDyInPixels:h,origin:d,opacity:u,thickness:g,x:y,y:f,...w}){super(t,{color:i,id:e,isChild:s,isDashed:o,thickness:g,isVisible:r,...w}),this.type="Vector",this.x=y,this.y=f,this.origin=d,this._labelColor=c??this._color,this.label=a,this.labelDxInPixels=l??0,this.labelDyInPixels=h??0}draw(){this.origin!==void 0&&(this.origin.subscribe(this),this.end=this.figure.create("Point",{isChild:!0,isFree:!1,isSelectable:!0,isVisible:this.isVisible,shape:"",x:this.origin.x+this.x,y:this.origin.y+this.y}),this.representation=this.figure.create("Segment",{color:this.color,isChild:!0,isDashed:this.isDashed,isSelectable:!0,isVisible:this.isVisible,point1:this.origin,point2:this.end,shape:"->",thickness:this.thickness}))}toJSON(){return{...this.jsonOptions(),idOrigin:this.origin?.id,x:p(this.x),y:p(this.y),label:this.label,labelColor:this.labelColor}}update(){if(this.notify(),this.origin!==void 0&&this.end!==void 0&&(this.end.x=this.origin.x+this.x,this.end.y=this.origin.y+this.y),this.elementTextLabel!==void 0){const{x:t,y:i}=Z(this.origin,this.end);this.elementTextLabel.x=t,this.elementTextLabel.y=i}}get color(){return this._color}set color(t){this._color=t,this.representation!==void 0&&(this.representation.color=t)}get isDashed(){return this._isDashed}set isDashed(t){this._isDashed=t,this.representation!==void 0&&(this.representation.isDashed=t)}get isVisible(){return this._isVisible}set isVisible(t){this._isVisible=t,this.representation!==void 0&&(this.representation.isVisible=t),this.elementTextLabel!==void 0&&(this.elementTextLabel.isVisible=t)}get label(){return this._label===void 0?"":this._label}set label(t){if(this._label=t,t!==void 0)if(this.elementTextLabel===void 0){const i=this.origin.x+this.x,e=this.origin.y+this.y,{x:s,y:o}=Z(this.origin,{x:i,y:e});this.elementTextLabel=this.figure.create("TextByPosition",{color:this._labelColor??this._color,dxInPixels:this.labelDxInPixels,dyInPixels:this.labelDyInPixels,id:`${this.id}_label`,isChild:!0,isSelectable:!0,isVisible:this.isVisible,x:s,y:o,text:`$${t}$`})}else this.elementTextLabel.text=`$${t}$`,this.elementTextLabel.color=this._labelColor??"currentColor"}get labelColor(){return this._labelColor}set labelColor(t){this._labelColor=t,this.elementTextLabel!==void 0&&(this.elementTextLabel.color=t)}get notation(){return this.label!==""?this.label:this.id}get opacity(){return this._opacity}set opacity(t){this._opacity=t,this.representation!==void 0&&(this.representation.opacity=t),this.elementTextLabel!==void 0&&(this.elementTextLabel.opacity=t)}get thickness(){return this._thickness}set thickness(t){this._thickness=t,this.representation!==void 0&&(this.representation.thickness=t)}}class Ri extends D{constructor(t,{point1:i,point2:e,label:s,...o}){super(t,{point1:i,point2:e,...o}),this.type="VectorByPoints",this.shape="->",this.label=s,this.labelDxInPixels=o.labelDxInPixels??0,this.labelDyInPixels=o.labelDyInPixels??0}get label(){return this._label===void 0?"":this._label}set label(t){if(this._label=t,t!==void 0)if(this.elementTextLabel===void 0){const{x:i,y:e}=Z(this.point1,this.point2);this.elementTextLabel=this.figure.create("TextByPosition",{color:this._colorLabel??this.color,dxInPixels:this.labelDxInPixels,dyInPixels:this.labelDyInPixels,id:`${this.id}_label`,isChild:!0,isSelectable:!0,x:i,y:e,text:`$${t}$`})}else this.elementTextLabel.text=`$${t}$`,this.elementTextLabel.color=this._colorLabel??"currentColor"}get x(){return this.point2.x-this.point1.x}get y(){return this.point2.y-this.point1.y}update(){if(super.update(),this.elementTextLabel!==void 0){const{x:t,y:i}=Z(this.point1,this.point2);this.elementTextLabel.x=t,this.elementTextLabel.y=i}}toJSON(){return{...this.jsonOptions(),idPoint1:this.point1.id,idPoint2:this.point2.id,label:this.label}}}class Ui extends Ht{constructor(t,{line:i,origin:e,...s}){const[o,r]=i.equation;super(t,{origin:e,x:o,y:r,...s}),this.type="VectorPerpendicular",this.line=i,this.origin=e,i.subscribe(this),e.subscribe(this)}toJSON(){return{...this.jsonOptions(),idLine:this.line.id,idOrigin:this.origin.id}}update(){this.notify();const[t,i]=this.line.equation;this.x=t,this.y=i,this.end!==void 0&&(this.end.x=this.origin.x+this.x,this.end.y=this.origin.y+this.y)}}function Wi(){try{return window.localStorage.setItem("__test__","__test__"),window.localStorage.removeItem("__test__"),!0}catch{return!1}}function Tt(n,t,i){const e=[...n.elements.values()].filter(s=>s instanceof S);n.hoverPoints.clear();for(const s of e)s.isHover=s.type!=="pointer"&&s.isVisible&&s.isSelectable&&n.filter(s)&&s.distancePointer(t,i)*n.pixelsPerUnit<Vt,s.isHover&&s instanceof M&&s.isFree&&n.hoverPoints.add(s),n.hoverPoints.size>0&&typeof n?.ui?.state?.value=="object"&&"POINT"in n?.ui?.state?.value?n.divFigure.style.cursor="move":n.divFigure.style.cursor="default"}function Gi(n,t){const[i,e]=n.getPointerCoord(t),[s,o]=[i,e];if(s>n.xMax||s<n.xMin||o>n.yMax||o<n.yMin)return;if(n.currentState==="POINT"){const l=[...n.elements.values()].filter(h=>h.type.includes("Point"));for(const h of l)if(C({x:s,y:o},{x:h.x,y:h.y})<n.options.distanceWithoutNewPoint)return}const r=[];n.modal?.remove();const c=[...n.elements.values()].filter(l=>l instanceof S).filter(n.filter).filter(l=>l.type!=="pointer"&&l.isVisible&&l.isSelectable);for(const l of c)l.distancePointer(i,e)*n.pixelsPerUnit<Vt&&l.isSelectable&&r.push(l);if(r.length===1)F(n,{element:r[0],x:s,y:o});else if(n.currentState==="POINT_INTERSECTION"&&r.length===2&&(r[0]instanceof D||r[0]instanceof J)&&(r[1]instanceof D||r[1]instanceof J))F(n,{element:void 0,possibleElements:r,x:s,y:o});else if(r.length>1){const l=r.filter(u=>u instanceof M);if(l.length===1){F(n,{element:l[0],x:s,y:o});return}const h=new U(n,{isChild:!0,isSelectable:!1,text:"",x:i+Kt,y:Math.min(e,n.yMax-2)});h.draw(),n.modal=h.div,n.modal.style.pointerEvents="auto",n.modal.style.padding="10px",n.modal.style.overflowY="auto",n.modal.style.backgroundColor=G.titlelight,n.modal.style.color=G.title,n.modal.style.boxShadow="0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",n.modal.style.touchAction="none",n.modal.innerText="Quel élément souhaitez-vous sélectionner ?";const d=[];for(const u of r){const g=document.createElement("div");g.innerText=u.description!==""?u.description:`${u.type} ${u.id}`,g.addEventListener("click",()=>{h.remove(),F(n,{element:u,x:s,y:o})}),g.addEventListener("mouseenter",()=>{g.style.backgroundColor=G.lightest}),g.addEventListener("mouseleave",()=>{g.style.backgroundColor=G.titlelight}),g.style.marginTop="5px",g.style.marginLeft="10px",g.style.userSelect="none",g.style.cursor="default",d.push(g),nt(g,{delimiters:[{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"}],errorColor:"#CC0000",preProcess:y=>y.replaceAll(" ","\\,"),strict:"warn",throwOnError:!0,trust:!1})}for(const u of d)n.modal.appendChild(u);F(n,{element:void 0,possibleElements:r,waitingWithModal:!0,x:s,y:o})}else F(n,{element:void 0,x:s,y:o})}function F(n,{element:t,possibleElements:i,waitingWithModal:e,x:s,y:o}){n.ui!==void 0&&n.ui.send("clickLocation",{element:t,possibleElements:i,waitingWithModal:e??!1,x:s,y:o})}const Hi="/kopmaths974/assets/bisectorByPoints-8Wo1p5cX.svg",Yi="/kopmaths974/assets/circle-YEHu_za-.svg",Zi="/kopmaths974/assets/circleCompass-DZ5Kuejt.svg",Xi="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='172'%20height='172'%20viewBox='0%200%20172%20172'%20id='svg4328'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='CercOA.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs4330'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='10.627907'%20inkscape:cx='86.094092'%20inkscape:cy='86.282276'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20units='px'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata4333'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-33.585071,-34.933635)'%3e%3cellipse%20cy='121.43363'%20cx='117.08508'%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;fill:none;stroke:%230e232e;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate'%20id='path3386'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\CercOA.png'%20inkscape:export-xdpi='24.994829'%20inkscape:export-ydpi='24.994829'%20rx='67.943108'%20ry='67.00219'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20130.56652,103.50458%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.644494,5.28773%2012.462224,13.30306%20-13.303059,12.46224%205.287729,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3cpath%20id='path916'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20198.31269,101.52865%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.64449,5.28773%2012.46222,13.30306%20-13.30306,12.46224%205.28773,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3c/g%3e%3c/svg%3e",Ji="/kopmaths974/assets/cursor-CzfD_iL8.svg",qi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M8%2016h8v2H8zm0-4h8v2H8zm6-10H6c-1.1%200-2%20.9-2%202v16c0%201.1.89%202%201.99%202H18c1.1%200%202-.9%202-2V8l-6-6zm4%2018H6V4h7v5h5v11z'/%3e%3c/svg%3e",Ki="/kopmaths974/assets/dilate-DmWsGu-p.svg",Qi="/kopmaths974/assets/disc-D00LfbgT.svg",ts="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='172'%20height='172'%20viewBox='0%200%20172%20172'%20id='svg4328'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='CercOA.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs4330'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='10.627907'%20inkscape:cx='86.094092'%20inkscape:cy='86.282276'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20units='px'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata4333'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-33.585071,-34.933635)'%3e%3cellipse%20cy='121.43363'%20cx='117.08508'%20style='fill-opacity:0.5;color:%23000000;display:inline;overflow:visible;visibility:visible;fill:%23216D9A;stroke:%230e232e;stroke-width:10;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate'%20id='path3386'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\CercOA.png'%20inkscape:export-xdpi='24.994829'%20inkscape:export-ydpi='24.994829'%20rx='67.943108'%20ry='67.00219'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20130.56652,103.50458%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.644494,5.28773%2012.462224,13.30306%20-13.303059,12.46224%205.287729,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3cpath%20id='path916'%20style='fill:%23d40000;stroke:%23800000;stroke-width:1;stroke-linecap:round;stroke-linejoin:round'%20d='m%20198.31269,101.52865%20-13.30307,12.46222%20-12.46223,-13.30306%20-5.64449,5.28773%2012.46222,13.30306%20-13.30306,12.46224%205.28773,5.64451%2013.30308,-12.46224%2012.46356,13.30449%205.6445,-5.28774%20-12.46357,-13.30448%2013.30307,-12.46224%20z'%20/%3e%3c/g%3e%3c/svg%3e",es="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7795'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DeplacerCroix.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.1671513'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1620'%20inkscape:window-height='2786'%20inkscape:window-x='-11'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3cpath%20id='rect1225-3'%20style='fill:%234d4d4d;stroke:%23333333;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20273.42827,258.65045%20-4.28859,16.54236%20-16.54238,-4.28858%20-1.81965,7.01893%2016.54237,4.28859%20-4.28859,16.54237%207.01893,1.81966%204.2886,-16.54237%2016.54415,4.28905%201.81964,-7.01894%20-16.54414,-4.28905%204.2886,-16.54237%20z'%20/%3e%3cpath%20id='rect1575'%20style='fill:%230000ff;stroke:%23000080;stroke-width:2.8125;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none'%20d='m%20315.17268,274.25336%20-19.96665,22.76627%2015.01387,-0.10537%20v%2019.32699%20h%20-19.76077%20l%200.10773,-14.6843%20-23.27726,19.52834%2022.98522,20.47654%200.10289,-14.18562%20h%2019.84217%20v%2019.327%20l%20-15.01389,-0.10537%2019.96665,22.76629%2020.93614,-22.48065%20-14.504,-0.10067%20v%20-19.40659%20h%2019.84216%20l%200.10289,14.18562%2022.98523,-20.47655%20-23.27728,-19.52833%200.10773,14.6843%20h%20-19.7608%20V%20296.8347%20l%2014.50399,-0.10067%20z'%20/%3e%3c/g%3e%3c/svg%3e",is="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='50'%20height='50'%20id='svg3076'%20version='1.1'%20inkscape:version='0.48.3.1%20r9886'%20sodipodi:docname='Translation24.svg'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\Translation24.png'%20inkscape:export-xdpi='43.200001'%20inkscape:export-ydpi='43.200001'%3e%3cdefs%20id='defs3078'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.6'%20inkscape:cx='11.559973'%20inkscape:cy='41.015213'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20inkscape:window-width='1301'%20inkscape:window-height='752'%20inkscape:window-x='1771'%20inkscape:window-y='114'%20inkscape:window-maximized='0'%20/%3e%3cmetadata%20id='metadata3081'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(0,-1002.3622)'%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2021.06238,1030.9464%20-9.997195,0%200,6.6937%20-9.4258535,-10.5188%209.1402445,-9.0845%200,6.2156%209.997072,0%20z'%20id='path3084-3'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2021.177764,1023.6809%200,-9.9972%20-6.6937,0%2010.5188,-9.4259%209.0845,9.1403%20-6.2156,0%200,9.997%20z'%20id='path3084-3-2'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2029.03845,1024.2542%209.9972,0%200,-6.6937%209.4259,10.5188%20-9.1403,9.0845%200,-6.2156%20-9.997,0%20z'%20id='path3084-3-21'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%2028.286522,1031.0435%200,9.9972%206.6937,0%20-10.5188,9.4259%20-9.0845,-9.1403%206.2156,0%200,-9.997%20z'%20id='path3084-3-6'%20inkscape:connector-curvature='0'%20/%3e%3c/g%3e%3c/svg%3e",ss="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M419.1,337.45a3.94,3.94,0,0,0-6.1,0c-10.5,12.4-45,46.55-45,77.66,0,27,21.5,48.89,48,48.89h0c26.5,0,48-22,48-48.89C464,384,429.7,349.85,419.1,337.45Z'%20style='fill:none;stroke:%23000;stroke-miterlimit:10;stroke-width:32px'/%3e%3cpath%20d='M387,287.9,155.61,58.36a36,36,0,0,0-51,0l-5.15,5.15a36,36,0,0,0,0,51l52.89,52.89,57-57L56.33,263.2a28,28,0,0,0,.3,40l131.2,126a28.05,28.05,0,0,0,38.9-.1c37.8-36.6,118.3-114.5,126.7-122.9,5.8-5.8,18.2-7.1,28.7-7.1h.3A6.53,6.53,0,0,0,387,287.9Z'%20style='fill:none;stroke:%23000;stroke-miterlimit:10;stroke-width:32px'/%3e%3c/svg%3e",ns="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='48px'%20height='48px'%20id='svg2985'%20version='1.1'%20inkscape:version='0.48.3.1%20r9886'%20sodipodi:docname='RepQuadrille.svg'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\RepQuadrille.png'%20inkscape:export-xdpi='45'%20inkscape:export-ydpi='45'%3e%3cdefs%20id='defs2987'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='7'%20inkscape:cx='8.6892489'%20inkscape:cy='24'%20inkscape:current-layer='layer1'%20showgrid='true'%20inkscape:grid-bbox='true'%20inkscape:document-units='px'%20inkscape:window-width='1920'%20inkscape:window-height='1018'%20inkscape:window-x='1272'%20inkscape:window-y='-8'%20inkscape:window-maximized='1'%20/%3e%3cmetadata%20id='metadata2990'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20id='layer1'%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%2019.714286,2.8571429%200,42.0000001'%20id='path3777'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%2031.857143,44.428571%200,-41.5714281'%20id='path3779'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%203.0000002,27.928571%2042.0000008,0'%20id='path3777-1'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%23364e59;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1'%20d='m%2044.571429,15.785714%20-41.5714288,0'%20id='path3779-7'%20inkscape:connector-curvature='0'%20/%3e%3cg%20id='g3769'%20transform='translate(-15.714286,-0.57142857)'%3e%3cpath%20inkscape:connector-curvature='0'%20id='path2993'%20d='m%2022.285714,45.142857%200,-41.9999999'%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20id='path3765'%20d='m%2018.571429,9.5714287%203.714285,-6.0000001%204,6.1428571'%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20sodipodi:nodetypes='ccc'%20/%3e%3c/g%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='m%202.1428571,39.857142%2043.4285719,0'%20id='path2995'%20inkscape:connector-curvature='0'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none'%20d='M%2040.285715,36.285713%2045.285714,39.857142%2040,43.142857'%20id='path3767'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='ccc'%20/%3e%3c/g%3e%3c/svg%3e",os="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg7795'%20version='1.1'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20sodipodi:docname='Cacher.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs7797'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='3.6342001'%20inkscape:cx='49.529469'%20inkscape:cy='89.153045'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20/%3e%3cmetadata%20id='metadata7800'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-222.57143,-232.07648)'%3e%3ccircle%20style='fill:%23333333;stroke:none;stroke-width:4.6875;stroke-linecap:round;stroke-linejoin:round'%20id='path1103'%20cx='309.63495'%20cy='310.36917'%20r='20.379314'%20/%3e%3cpath%20id='circle1221'%20style='fill:none;stroke:%23333333;stroke-width:4.68749;stroke-linecap:round;stroke-linejoin:round'%20d='m%20309.82851,284.44282%20a%2046.111419,35.599308%200%200%200%20-44.46899,26.22253%2046.111419,35.599308%200%200%200%2045.24353,29.11194%2046.111419,35.599308%200%200%200%2044.52576,-26.3562%2046.111419,35.599308%200%200%200%20-45.3003,-28.97827%20z'%20/%3e%3cpath%20style='fill:none;stroke:%23ffffff;stroke-width:4.6875;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20283.58039,349.32202%2056.23658,-75.97098'%20id='path1337'%20sodipodi:nodetypes='cc'%20/%3e%3cpath%20style='fill:none;stroke:%23333333;stroke-width:5.71875;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20277.90514,349.19304%2056.23658,-75.97098'%20id='path1728'%20sodipodi:nodetypes='cc'%20/%3e%3c/g%3e%3c/svg%3e",rs="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cpath%20d='M8%206.9834C7.44772%206.9834%207%207.43111%207%207.9834C7%208.53568%207.44772%208.9834%208%208.9834H16C16.5523%208.9834%2017%208.53568%2017%207.9834C17%207.43111%2016.5523%206.9834%2016%206.9834H8Z'%20fill='currentColor'%20/%3e%3cpath%20d='M7%2012C7%2011.4477%207.44772%2011%208%2011H16C16.5523%2011%2017%2011.4477%2017%2012C17%2012.5523%2016.5523%2013%2016%2013H8C7.44772%2013%207%2012.5523%207%2012Z'%20fill='currentColor'%20/%3e%3cpath%20d='M8%2015.017C7.44772%2015.017%207%2015.4647%207%2016.017C7%2016.5693%207.44772%2017.017%208%2017.017H16C16.5523%2017.017%2017%2016.5693%2017%2016.017C17%2015.4647%2016.5523%2015.017%2016%2015.017H8Z'%20fill='currentColor'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%206.47715%206.47715%202%2012%202C17.5228%202%2022%206.47715%2022%2012ZM20%2012C20%2016.4183%2016.4183%2020%2012%2020C7.58172%2020%204%2016.4183%204%2012C4%207.58172%207.58172%204%2012%204C16.4183%204%2020%207.58172%2020%2012Z'%20fill='currentColor'%20/%3e%3c/svg%3e",as="/kopmaths974/assets/latex-Clyn6jvs.svg",ls="/kopmaths974/assets/latexSvg-tD_CRcjT.svg",cs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6059'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DteAB.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs6061'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata6064'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-239.71429,-146.3622)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20259.24625,169.42969%20132.93607,136.4716%200,0'%20id='path5210'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DteAB.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20313.58289,199.16932%20-17.05023,1.15379%20-1.1538,-17.05024%20-7.23443,0.48955%201.15379,17.05024%20-17.05024,1.15379%200.48956,7.23443%2017.05024,-1.15379%201.15391,17.05207%207.23443,-0.48956%20-1.15392,-17.05206%2017.05025,-1.15379%20z'%20/%3e%3cpath%20id='rect1225-6'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20374.77181,262.24024%20-17.08874,0.12894%20-0.12895,-17.08875%20-7.25076,0.0547%200.12894,17.08874%20-17.08875,0.12895%200.0547,7.25077%2017.08875,-0.12894%200.12896,17.09058%207.25077,-0.0547%20-0.12896,-17.09057%2017.08875,-0.12894%20z'%20/%3e%3c/g%3e%3c/svg%3e",hs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg8379'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DtePar.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs8381'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata8384'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-188.28571,-232.07648)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20209.93899,362.6242%20322.36896,252.31555'%20id='path5128-6'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePar.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20229.38443,387.37294%20341.8144,277.06429'%20id='path5128-6-1'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePar.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20265.33198,286.22826%20-2.70865,16.87321%20-16.87321,-2.70864%20-1.14928,7.15931%2016.87321,2.70864%20-2.70864,16.87322%207.15931,1.14927%202.70865,-16.87321%2016.87502,2.70894%201.14927,-7.15932%20-16.87501,-2.70893%202.70864,-16.87321%20z'%20/%3e%3c/g%3e%3c/svg%3e",ds="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg10117'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='DtePer.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs10119'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata10122'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-373.99999,-383.50506)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;fill:none;stroke:%23000000;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate'%20id='rect5356-5'%20width='22.627417'%20height='22.627417'%20x='651.37585'%20y='-49.423424'%20transform='matrix(0.67181757,0.74071665,-0.74071665,0.67181757,0,0)'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePer.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20396.71395,402.68345%20507.02258,515.11342'%20id='path5128-6-0'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePer.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%20415.09871,538.8015%20527.52869,428.49286'%20id='path5128-6-1-6'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DtePer.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20420.04977,407.25998%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29386,7.24501%2017.0752,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",ps="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9584'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='MarqueAngNor.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9586'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9589'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-85.428573,-169.21935)'%3e%3cpath%20sodipodi:type='arc'%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0'%20id='path6264'%20sodipodi:cx='109.4986'%20sodipodi:cy='316.49066'%20sodipodi:rx='68'%20sodipodi:ry='68'%20d='M%20138.13417,254.81405%20A%2068,68%200%200%201%20174.048,295.10436'%20sodipodi:start='5.1470592'%20sodipodi:end='5.9632507'%20sodipodi:open='true'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueAngNor.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20sodipodi:arc-type='arc'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20246.4986,270.49066%20-138,48%2061,-134.00001'%20id='path6262'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueAngNor.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%2093.803141,303.52038%2010.528829,13.46052%20-13.460534,10.52884%204.467379,5.7113%2013.460535,-10.52882%2010.52883,13.46052%205.7113,-4.46738%20-10.52882,-13.46053%2013.46198,-10.52996%20-4.4674,-5.71131%20-13.46196,10.52996%20-10.528836,-13.46054%20z'%20/%3e%3cpath%20id='rect1225-3'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20228.00548,256.64656%20-4.24057,16.55473%20-16.55475,-4.24058%20-1.79927,7.02419%2016.55473,4.24058%20-4.24057,16.55474%207.02418,1.79928%204.24058,-16.55474%2016.55652,4.24103%201.79928,-7.02419%20-16.55651,-4.24102%204.24058,-16.55476%20z'%20/%3e%3cpath%20id='rect1225-4'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20154.71904,190.33971%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29385,7.24501%2017.07519,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",us="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg11955'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='MarqueSegment.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs11957'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata11960'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-202.57143,-183.50506)'%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20223.57144,228.50504%20128,89'%20id='path10603'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueSegment.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20289.57144,252.50504%20-17,34'%20id='path10630'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueSegment.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20302.07144,262.50504%20-17,34'%20id='path10630-7'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\MarqueSegment.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20222.84001,208.38909%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29386,7.24501%2017.0752,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3cpath%20id='rect1225-7'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20347.88816,297.11776%20-0.69256,17.07519%20-17.0752,-0.69256%20-0.29386,7.24501%2017.0752,0.69257%20-0.69256,17.07519%207.24501,0.29386%200.69257,-17.0752%2017.07703,0.69264%200.29385,-7.24502%20-17.07702,-0.69263%200.69256,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",gs="/kopmaths974/assets/mesureAngle-DkmJa4B1.svg",ms="/kopmaths974/assets/mesureSegment-yZ5bgyFp.svg",fs="/kopmaths974/assets/middle-B6WbvBoj.svg",ys="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDguNTQyMjIxbW0iCiAgIGhlaWdodD0iNDguNTQyMjIxbW0iCiAgIHZpZXdCb3g9IjAgMCAxNzIgMTcyIgogICBpZD0ic3ZnNzc5NSIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjItYWxwaGExIChiNmExNWJiLCAyMDIyLTAyLTIzKSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ibW92ZUxhYmVsLnN2ZyIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczc3OTciIC8+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjMuNTE2NjMwNiIKICAgICBpbmtzY2FwZTpjeD0iMzkuNTI2NDcyIgogICAgIGlua3NjYXBlOmN5PSI5Ni4zOTkwOTMiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxNDQwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjkwMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiCiAgICAgaW5rc2NhcGU6ZGVza2NvbG9yPSIjZDFkMWQxIj4KICAgIDxpbmtzY2FwZTpncmlkCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBpZD0iZ3JpZDY4NjgiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNzgwMCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iQ2FscXVlIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjIuNTcxNDMsLTIzMi4wNzY0OCkiPgogICAgPHRleHQKICAgICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgICAgICBzdHlsZT0iZm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2xpbmUtaGVpZ2h0OjAlO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6MHB4O3dvcmQtc3BhY2luZzowcHg7ZmlsbDojNGQ0ZDRkO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIgogICAgICAgeD0iMjU5LjM1NzUxIgogICAgICAgeT0iMzEzLjg1MDgiCiAgICAgICBpZD0idGV4dDM2NzMiCiAgICAgICBpbmtzY2FwZTpleHBvcnQtZmlsZW5hbWU9IkM6XFVzZXJzXFNlYlxEb3dubG9hZHNcbWF0aHNcTWF0aGdyYXBoMzJcSWNvbmVzXHBuZ1w0OFxOb21tZXIucG5nIgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjI1LjExNjI4IgogICAgICAgaW5rc2NhcGU6ZXhwb3J0LXlkcGk9IjI1LjExNjI4Ij48dHNwYW4KICAgICAgICAgc29kaXBvZGk6cm9sZT0ibGluZSIKICAgICAgICAgaWQ9InRzcGFuMzY3NSIKICAgICAgICAgeD0iMjU5LjM1NzUxIgogICAgICAgICB5PSIzMTMuODUwOCIKICAgICAgICAgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjk3Ljg5MnB4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidTYW5zIEJvbGQnO2ZpbGw6IzRkNGQ0ZDtmaWxsLW9wYWNpdHk6MSI+QTwvdHNwYW4+PC90ZXh0PgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0MTIyNSIKICAgICAgIHN0eWxlPSJmaWxsOiM0ZDRkNGQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiM4MDAwMDA7c3Ryb2tlLXdpZHRoOjAuOTM3NTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICBkPSJtIDM3MS45NDQ3MiwzMzIuMTYxMSAtMTIuMDgzOTEsMTIuMDgzOTEgLTEyLjA4MzkyLC0xMi4wODM5MSAtNS4xMjcyMSw1LjEyNzIxIDEyLjA4MzkxLDEyLjA4MzkxIC0xMi4wODM5MSwxMi4wODM5MiA1LjEyNzIxLDUuMTI3MjEgMTIuMDgzOTIsLTEyLjA4MzkxIDEyLjA4NTIxLDEyLjA4NTIxIDUuMTI3MjEsLTUuMTI3MjIgLTEyLjA4NTIxLC0xMi4wODUyIDEyLjA4MzkyLC0xMi4wODM5MiB6IiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0MTU3NSIKICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwZmY7c3Ryb2tlOiMwMDAwODA7c3Ryb2tlLXdpZHRoOjIuODEyNTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBkPSJtIDI5My45MTY5NiwzMDMuMDcxNzMgLTE5Ljk2NjY1LDIyLjc2NjI3IDE1LjAxMzg3LC0wLjEwNTM3IHYgMTkuMzI2OTkgaCAtMTkuNzYwNzcgbCAwLjEwNzczLC0xNC42ODQzIC0yMy4yNzcyNiwxOS41MjgzNCAyMi45ODUyMiwyMC40NzY1NCAwLjEwMjg5LC0xNC4xODU2MiBoIDE5Ljg0MjE3IHYgMTkuMzI3IGwgLTE1LjAxMzg5LC0wLjEwNTM3IDE5Ljk2NjY1LDIyLjc2NjI5IDIwLjkzNjE0LC0yMi40ODA2NSAtMTQuNTA0LC0wLjEwMDY3IHYgLTE5LjQwNjU5IGggMTkuODQyMTYgbCAwLjEwMjg5LDE0LjE4NTYyIDIyLjk4NTIzLC0yMC40NzY1NSAtMjMuMjc3MjgsLTE5LjUyODMzIDAuMTA3NzMsMTQuNjg0MyBoIC0xOS43NjA4IHYgLTE5LjQwNjU2IGwgMTQuNTAzOTksLTAuMTAwNjcgeiIgLz4KICA8L2c+Cjwvc3ZnPgo=",xs="/kopmaths974/assets/namePoint-BsI7qgJ-.svg",vs="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%20fill='currentColor'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.956%206h.05a2.99%202.99%200%200%201%202.117.879%203.003%203.003%200%200%201%200%204.242%202.99%202.99%200%200%201-2.117.879h-1.995v-1h1.995a2.002%202.002%200%200%200%200-4h-.914l-.123-.857a2.49%202.49%200%200%200-2.126-2.122A2.478%202.478%200%200%200%206.23%205.5l-.333.762-.809-.189A2.49%202.49%200%200%200%204.523%206c-.662%200-1.297.263-1.764.732A2.503%202.503%200%200%200%204.523%2011h2.494v1H4.523a3.486%203.486%200%200%201-2.628-1.16%203.502%203.502%200%200%201-.4-4.137A3.497%203.497%200%200%201%203.853%205.06c.486-.09.987-.077%201.468.041a3.486%203.486%200%200%201%203.657-2.06A3.479%203.479%200%200%201%2011.956%206zm-1.663%203.853L8.979%208.54v5.436h-.994v-5.4L6.707%209.854%206%209.146%208.146%207h.708L11%209.146l-.707.707z'/%3e%3c/svg%3e",ws="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10%204H5v16h5V4zm9%200h-5v16h5V4z'%20fill='currentColor'/%3e%3c/svg%3e",ks="/kopmaths974/assets/perpendicularBisector-yc3CvNwU.svg",bs="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z'/%3e%3c/svg%3e",Cs="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M112,64a16,16,0,0,1,16,16V216.43L360.77,77.11a35.13,35.13,0,0,1,35.77-.44c12,6.8,19.46,20,19.46,34.33V401c0,14.37-7.46,27.53-19.46,34.33a35.14,35.14,0,0,1-35.77-.45L128,295.57V432a16,16,0,0,1-32,0V80A16,16,0,0,1,112,64Z'/%3e%3c/svg%3e",Ss="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M400,64a16,16,0,0,0-16,16V216.43L151.23,77.11a35.13,35.13,0,0,0-35.77-.44C103.46,83.47,96,96.63,96,111V401c0,14.37,7.46,27.53,19.46,34.33a35.14,35.14,0,0,0,35.77-.45L384,295.57V432a16,16,0,0,0,32,0V80A16,16,0,0,0,400,64Z'/%3e%3c/svg%3e",$s="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20494.9404,357.8194%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e",Is="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6777'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Int.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs6779'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata6782'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-53.999999,-106.3622)'%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%2093.999977,241.36218%20c%2032.000003,-89%20108.000003,-96%20108.000003,-96'%20id='path6486'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Int.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23005c94;stroke-width:8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%2078.999977,140.36218%20c%2086.000003,17%20126.000003,101%20126.000003,101'%20id='path6488'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Int.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20143.4937,149.03765%20-2.57947,16.89344%20-16.89344,-2.57946%20-1.09447,7.16789%2016.89344,2.57947%20-2.57946,16.89344%207.16789,1.09447%202.57948,-16.89344%2016.89525,2.57974%201.09446,-7.1679%20-16.89525,-2.57974%202.57947,-16.89344%20z'%20/%3e%3c/g%3e%3c/svg%3e",Ns="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg10307'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLie.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs10309'%3e%3cmarker%20inkscape:stockid='TriangleOutM'%20orient='auto'%20refY='0'%20refX='0'%20id='TriangleOutM-49'%20style='overflow:visible'%3e%3cpath%20inkscape:connector-curvature='0'%20id='path4275-6'%20d='m%205.77,0%20-8.65,5%200,-10%208.65,5%20z'%20style='fill-rule:evenodd;stroke:%23000000;stroke-width:1pt;marker-start:none'%20transform='scale(0.4,0.4)'%20/%3e%3c/marker%3e%3c/defs%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata10312'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-76.857139,-83.505057)'%3e%3cpath%20style='fill:none;stroke:%230084c8;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%2097.85712,214.50507%20138,-73'%20id='path4062'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\PointLie.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cg%20id='path4124'%3e%3cpath%20style='color:%23000000;fill:%23000000;-inkscape-stroke:none'%20d='m%20113.33398,103.50586%20v%206%20c%2020.12366,0%2029.8666,9.66997%2035.22852,19.55273%205.36192,9.88276%205.82031,19.82227%205.82031,19.82227%20l%205.99414,-0.25586%20c%200,0%20-0.44223,-11.18683%20-6.54101,-22.42773%20-6.09879,-11.2409%20-18.3783,-22.69141%20-40.50196,-22.69141%20z'%20id='path846'%20/%3e%3cg%20id='g836'%3e%3cg%20id='path838'%3e%3cpath%20style='color:%23000000;fill:%23000000;fill-rule:evenodd;stroke-width:2.4pt;-inkscape-stroke:none'%20d='m%20157.96842,162.58791%20-12.87175,-20.23105%2023.9783,-1.02036%20z'%20id='path842'%20/%3e%3cpath%20style='color:%23000000;fill:%23000000;fill-rule:evenodd;-inkscape-stroke:none'%20d='m%20171.77734,139.61914%20-29.51953,1.25781%2015.84571,24.9043%201.2832,-2.45313%20z%20m%20-5.40625,3.43359%20-8.53711,16.3418%20-9.89843,-15.55664%20z'%20id='path844'%20/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20165.4772,160.34679%20-5.65672,16.12585%20-16.12586,-5.65672%20-2.40016,6.84221%2016.12586,5.65673%20-5.65672,16.12586%206.84221,2.40015%205.65673,-16.12586%2016.12759,5.65734%202.40015,-6.84222%20-16.12759,-5.65733%205.65673,-16.12587%20z'%20/%3e%3c/g%3e%3c/svg%3e",Ms="/kopmaths974/assets/polygon-CYz4PKlW.svg",Ps="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg5485'%20version='1.1'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20sodipodi:docname='ray.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs5487'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='1.843718'%20inkscape:cx='126.91746'%20inkscape:cy='180.61331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20/%3e%3cmetadata%20id='metadata5490'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(23.142857,-109.21934)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%2010.531241,246.13103%20122.96121,135.82237'%20id='path5128'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\DemiDt.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%207.0994717,225.37249%20-0.6925638,17.07519%20-17.0751979,-0.69256%20-0.293855,7.24501%2017.0751903,0.69257%20-0.692557,17.07519%207.2450127,0.29386%200.692571,-17.0752%2017.077028,0.69264%200.293848,-7.24502%20-17.07702,-0.69263%200.692564,-17.07521%20z'%20/%3e%3cpath%20id='path1390'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%2082.099475,150.37249%20-0.692563,17.07519%20-17.075199,-0.69256%20-0.293855,7.24501%2017.075191,0.69257%20-0.692557,17.07519%207.245013,0.29386%200.692571,-17.0752%2017.077024,0.69264%200.29385,-7.24502%20-17.077018,-0.69263%200.692564,-17.07521%20z'%20/%3e%3c/g%3e%3c/svg%3e",As="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='0%200%20512%20512'%20version='1.1'%20id='svg11'%20sodipodi:docname='redo.svg'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs15'%20/%3e%3csodipodi:namedview%20id='namedview13'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='0.4609375'%20inkscape:cx='-156.20339'%20inkscape:cy='256'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:current-layer='svg11'%20/%3e%3cpath%20d='m%20289.42871,234.78304%20h%20168.45736%20c%205.5336,0%2010.06934,-4.12064%2010.06934,-9.2057%20V%2072.324346%20c%200,-5.08505%20-4.53574,-9.2057%20-10.06934,-9.2057%20h%20-40.36809%20c%20-5.53359,0%20-10.06933,4.12065%20-10.06933,9.2057%20V%20132.11756%20C%20368.98558,93.190596%20313.10527,68.817416%20250.96563,69.255776%20135.84856,70.044836%2043.773036,154.64961%2044.045186,259.50693%20c%200.18143,104.5943%2093.436244,189.37442%20208.462594,189.37442%2053.88459,0%20102.9613,-18.58675%20139.97293,-49.18475%204.2636,-3.50693%204.44503,-9.64406%200.36286,-13.32634%20l%20-28.57516,-26.03899%20c%20-3.71931,-3.41926%20-9.7972,-3.5946%20-13.78865,-0.43836%20-26.03514,21.12927%20-60.41605,33.84191%20-97.97198,33.84191%20-81.73402,0%20-147.95582,-60.23159%20-147.95582,-134.75393%200,-74.43467%2066.13108,-134.75393%20147.95582,-134.75393%2049.16742,0%2092.71052,21.83066%20119.5621,55.32188%20h%20-82.64117%20c%20-5.53361,0%20-10.06935,4.12065%20-10.06935,9.2057%20v%2036.73513%20c%200,5.08505%204.53574,9.2057%2010.06935,9.2057%20z'%20id='path9'%20style='stroke-width:0.891811'%20/%3e%3c/svg%3e",Ts="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6604'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='SymCentrale.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs6606'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata6609'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-242.57143,-206.3622)'%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20262.79014,214.45852%200,44.10483%2073.98869,0%20z'%20id='path3045-4-7'%20inkscape:connector-curvature='0'%20inkscape:transform-center-x='28.537028'%20inkscape:transform-center-y='-56.288402'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymCentrale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20394.33944,369.23811%20-0.27728,-44.10402%20-73.98735,0.42829%20z'%20id='path3045-4-7-1'%20inkscape:connector-curvature='0'%20inkscape:transform-center-x='-28.885614'%20inkscape:transform-center-y='55.147417'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymCentrale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.937498;stroke-linecap:round;stroke-linejoin:round'%20d='m%20336.51961,280.10863%20-8.2544,8.61959%20-8.61959,-8.2544%20-3.50236,3.6573%208.6196,8.2544%20-8.25439,8.61959%203.65729,3.50234%208.25441,-8.61958%208.62052,8.25528%203.50235,-3.6573%20-8.62053,-8.25528%208.25441,-8.6196%20z'%20/%3e%3c/g%3e%3c/svg%3e",Ls="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg6028'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='SymAxiale.svg'%3e%3cdefs%20id='defs6030'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='1920'%20inkscape:window-height='1017'%20inkscape:window-x='1272'%20inkscape:window-y='-8'%20inkscape:window-maximized='1'%20/%3e%3cmetadata%20id='metadata6033'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-93.999999,-123.50506)'%3e%3crect%20style='color:%23000000;display:inline;overflow:visible;visibility:visible;opacity:0.1;fill:none;stroke:%23000000;stroke-width:0.81904763;stroke-miterlimit:4;stroke-dasharray:none;marker:none;enable-background:accumulate'%20id='rect5045-5-5-7'%20width='171.18095'%20height='171.18095'%20x='94.409523'%20y='123.91458'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%2319aeff;stroke:%23005c94;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20130.46906,156.13811%2013.33444,38.77103%2062.4119,-21.4652%20z'%20id='path3045-8'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:%239eabb0;stroke:%230e232e;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20170.47238,272.4512%20-13.33444,-38.77103%2062.4119,-21.4652%20z'%20id='path3045-8-4'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:24,%2012,%206,%2012;stroke-dashoffset:0;stroke-opacity:1'%20d='M%20117.84631,225.5151%20251.65365,179.49502'%20id='path3961'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\24\\SymAxiale.png'%20inkscape:export-xdpi='12.55814'%20inkscape:export-ydpi='12.55814'%20/%3e%3c/g%3e%3c/svg%3e",Ds="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='600'%20height='600'%20style='border-radius:300px'%20version='1.1'%20id='svg24'%20sodipodi:docname='corbeille.svg'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs28'%20/%3e%3csodipodi:namedview%20id='namedview26'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20showgrid='false'%20inkscape:zoom='1.455'%20inkscape:cx='299.65636'%20inkscape:cy='299.65636'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:current-layer='svg24'%20/%3e%3c!--%20Created%20with%20SVG-edit%20-%20http://svg-edit.googlecode.com/%20--%3e%3cline%20stroke-linecap='round'%20x1='180'%20y1='159.25'%20x2='420'%20y2='159.25'%20style='stroke:%23333333;stroke-width:30;fill:%23e2e3db'%20id='line7'%20/%3e%3crect%20x='250'%20y='129.25'%20rx='20'%20ry='20'%20width='100'%20height='30'%20style='stroke:%23333333;stroke-width:10;fill:%23e2e3db'%20id='rect9'%20/%3e%3cline%20stroke-linecap='round'%20x1='189'%20y1='198.75'%20x2='200'%20y2='466.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line11'%20/%3e%3cline%20id='bottom'%20stroke-linecap='round'%20x1='411'%20y1='198.75'%20x2='400'%20y2='466.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20/%3e%3cline%20stroke-linecap='square'%20x1='189'%20y1='198.75'%20x2='411'%20y2='198.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line14'%20/%3e%3cline%20stroke-linecap='round'%20x1='203'%20y1='470.75'%20x2='397'%20y2='470.75'%20style='stroke:%23333333;stroke-width:30;fill:%23e2e3db'%20id='line16'%20/%3e%3cline%20stroke-linecap='round'%20x1='260'%20y1='198.75'%20x2='265'%20y2='470.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line18'%20/%3e%3cline%20stroke-linecap='round'%20x1='340'%20y1='198.75'%20x2='335'%20y2='470.75'%20style='stroke:%23333333;stroke-width:25;fill:%23e2e3db'%20id='line20'%20/%3e%3c/svg%3e%3c!----%3e",_s="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='mdi-restart'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M12,4C14.1,4%2016.1,4.8%2017.6,6.3C20.7,9.4%2020.7,14.5%2017.6,17.6C15.8,19.5%2013.3,20.2%2010.9,19.9L11.4,17.9C13.1,18.1%2014.9,17.5%2016.2,16.2C18.5,13.9%2018.5,10.1%2016.2,7.7C15.1,6.6%2013.5,6%2012,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15%203.3,11%205.1,7.9L6.6,9.4C5.5,11.6%205.9,14.4%207.8,16.2C8.3,16.7%208.9,17.1%209.6,17.4L9,19.4C8,19%207.1,18.4%206.3,17.6Z'%20/%3e%3c/svg%3e",Os="/kopmaths974/assets/rotate-C9bBnx5O.svg",Vs="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%20fill='currentColor'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.957%206h.05a2.99%202.99%200%200%201%202.116.879%203.003%203.003%200%200%201%200%204.242%202.99%202.99%200%200%201-2.117.879v-1a2.002%202.002%200%200%200%200-4h-.914l-.123-.857a2.49%202.49%200%200%200-2.126-2.122A2.478%202.478%200%200%200%206.231%205.5l-.333.762-.809-.189A2.49%202.49%200%200%200%204.523%206c-.662%200-1.297.263-1.764.732A2.503%202.503%200%200%200%204.523%2011h.498v1h-.498a3.486%203.486%200%200%201-2.628-1.16%203.502%203.502%200%200%201%201.958-5.78%203.462%203.462%200%200%201%201.468.04%203.486%203.486%200%200%201%203.657-2.06A3.479%203.479%200%200%201%2011.957%206zm-5.25%205.121l1.314%201.314V7h.994v5.4l1.278-1.279.707.707-2.146%202.147h-.708L6%2011.829l.707-.708z'/%3e%3c/svg%3e",zs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg11267'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Segment.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs11269'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata11272'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(17.428573,-43.505061)'%3e%3cpath%20style='fill:none;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%209.4170928,107.94873%20C%20133.86789,156.73909%20133.86789,156.73909%20133.86789,156.73909'%20id='path5172'%20inkscape:connector-curvature='0'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Segment.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='M%2019.68314,89.52305%207.59923,101.60696%20-4.48469,89.52305%20-9.6119,94.65026%202.47201,106.73417%20-9.6119,118.81809%20l%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-1'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20146.33084,139.67403%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e",Bs="/kopmaths974/assets/setOptions-CLxe87k8.svg",Fs="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='icon'%20viewBox='0%200%201024%201024'%3e%3cpath%20d='M324%20666a48%2048%200%201%200%2096%200%2048%2048%200%201%200-96%200zm616.7-309.6L667.6%2083.2C655.2%2070.9%20638.7%2064%20621.1%2064s-34.1%206.8-46.5%2019.2L83.3%20574.5a65.85%2065.85%200%200%200%200%2093.1l273.2%20273.2c12.3%2012.3%2028.9%2019.2%2046.5%2019.2s34.1-6.8%2046.5-19.2l491.3-491.3c25.6-25.7%2025.6-67.5-.1-93.1zM403%20880.1L143.9%20621l477.2-477.2%20259%20259.2L403%20880.1zM152.8%20373.7a7.9%207.9%200%200%200%2011.2%200L373.7%20164a7.9%207.9%200%200%200%200-11.2l-38.4-38.4a7.9%207.9%200%200%200-11.2%200L114.3%20323.9a7.9%207.9%200%200%200%200%2011.2l38.5%2038.6zm718.6%20276.6a7.9%207.9%200%200%200-11.2%200L650.3%20860.1a7.9%207.9%200%200%200%200%2011.2l38.4%2038.4a7.9%207.9%200%200%200%2011.2%200L909.7%20700a7.9%207.9%200%200%200%200-11.2l-38.3-38.5z'/%3e%3c/svg%3e",Es="/kopmaths974/assets/translation-g2NwBCdr.svg",js="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20viewBox='0%200%20512%20512'%20version='1.1'%20id='svg11'%20sodipodi:docname='undo.svg'%20inkscape:version='1.2-alpha1%20(b6a15bb,%202022-02-23)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs15'%20/%3e%3csodipodi:namedview%20id='namedview13'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='0.4609375'%20inkscape:cx='-156.20339'%20inkscape:cy='256'%20inkscape:window-width='1440'%20inkscape:window-height='900'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='0'%20inkscape:current-layer='svg11'%20/%3e%3cpath%20d='M%20222.57129,234.78304%20H%2054.113924%20c%20-5.5336,0%20-10.06934,-4.12064%20-10.06934,-9.2057%20V%2072.324346%20c%200,-5.08505%204.53574,-9.2057%2010.06934,-9.2057%20h%2040.36809%20c%205.533596,0%2010.069336,4.12065%2010.069336,9.2057%20v%2059.793214%20c%2038.46307,-38.926964%2094.34338,-63.300144%20156.48302,-62.861784%20115.11707,0.78906%20207.19259,85.393834%20206.92044,190.251154%20-0.18143,104.5943%20-93.43624,189.37442%20-208.46259,189.37442%20-53.88459,0%20-102.9613,-18.58675%20-139.97293,-49.18475%20-4.2636,-3.50693%20-4.44503,-9.64406%20-0.36286,-13.32634%20l%2028.57516,-26.03899%20c%203.71931,-3.41926%209.7972,-3.5946%2013.78865,-0.43836%2026.03514,21.12927%2060.41605,33.84191%2097.97198,33.84191%2081.73402,0%20147.95582,-60.23159%20147.95582,-134.75393%200,-74.43467%20-66.13108,-134.75393%20-147.95582,-134.75393%20-49.16742,0%20-92.71052,21.83066%20-119.5621,55.32188%20h%2082.64117%20c%205.53361,0%2010.06935,4.12065%2010.06935,9.2057%20v%2036.73513%20c%200,5.08505%20-4.53574,9.2057%20-10.06935,9.2057%20z'%20id='path9'%20style='stroke-width:0.891811'%20/%3e%3c/svg%3e",Rs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg12430'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='Vecteur.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs12432'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='5.139535'%20inkscape:cx='85.999998'%20inkscape:cy='85.999998'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata12435'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-114,-203.50506)'%3e%3cpath%20id='rect1225'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20147.91469,269.51062%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20id='rect1225-6'%20style='fill:%23d40000;stroke:%23800000;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20277.66556,270.01925%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3cpath%20style='fill:%230e232e;stroke:%230e232e;stroke-width:8;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-mid:none;marker-end:none'%20d='m%20137.2703,286.72174%20122.66222,0.61695'%20id='path3926'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='cc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Vecteur.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3cpath%20style='fill:none;stroke:%23000000;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='m%20230.52355,266.89496%2031.16924,20.38028%20-30.82986,20.71317'%20id='path6358'%20inkscape:connector-curvature='0'%20sodipodi:nodetypes='ccc'%20inkscape:export-filename='C:\\Users\\Seb\\Downloads\\maths\\Mathgraph32\\Icones\\png\\48\\Vecteur.png'%20inkscape:export-xdpi='25.11628'%20inkscape:export-ydpi='25.11628'%20/%3e%3c/g%3e%3c/svg%3e",Us="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.5%2014.5C8.94772%2014.5%208.5%2014.0523%208.5%2013.5V11.5H6.5C5.94772%2011.5%205.5%2011.0523%205.5%2010.5V9.5C5.5%208.94772%205.94772%208.5%206.5%208.5H8.5V6.5C8.5%205.94772%208.94772%205.5%209.5%205.5H10.5C11.0523%205.5%2011.5%205.94772%2011.5%206.5V8.5H13.5C14.0523%208.5%2014.5%208.94772%2014.5%209.5V10.5C14.5%2011.0523%2014.0523%2011.5%2013.5%2011.5H11.5V13.5C11.5%2014.0523%2011.0523%2014.5%2010.5%2014.5H9.5Z'%20fill='%23000000'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.5%2010C0.5%204.75329%204.75329%200.5%2010%200.5C15.2467%200.5%2019.5%204.75329%2019.5%2010C19.5%2012.082%2018.8302%2014.0076%2017.6944%2015.5731L22.4142%2020.2929C22.8047%2020.6834%2022.8047%2021.3166%2022.4142%2021.7071L21.7071%2022.4142C21.3166%2022.8047%2020.6834%2022.8047%2020.2929%2022.4142L15.5731%2017.6944C14.0076%2018.8302%2012.082%2019.5%2010%2019.5C4.75329%2019.5%200.5%2015.2467%200.5%2010ZM10%203.5C6.41015%203.5%203.5%206.41015%203.5%2010C3.5%2013.5899%206.41015%2016.5%2010%2016.5C13.5899%2016.5%2016.5%2013.5899%2016.5%2010C16.5%206.41015%2013.5899%203.5%2010%203.5Z'%20fill='%23000000'/%3e%3c/svg%3e",Ws="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.5%208.5C5.94772%208.5%205.5%208.94771%205.5%209.5V10.5C5.5%2011.0523%205.94772%2011.5%206.5%2011.5H13.5C14.0523%2011.5%2014.5%2011.0523%2014.5%2010.5V9.5C14.5%208.94772%2014.0523%208.5%2013.5%208.5H6.5Z'%20fill='%23000000'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.5%2010C0.5%204.75329%204.75329%200.5%2010%200.5C15.2467%200.5%2019.5%204.75329%2019.5%2010C19.5%2012.082%2018.8302%2014.0076%2017.6944%2015.5731L22.4142%2020.2929C22.8047%2020.6834%2022.8047%2021.3166%2022.4142%2021.7071L21.7071%2022.4142C21.3166%2022.8047%2020.6834%2022.8047%2020.2929%2022.4142L15.5731%2017.6944C14.0076%2018.8302%2012.082%2019.5%2010%2019.5C4.75329%2019.5%200.5%2015.2467%200.5%2010ZM10%203.5C6.41015%203.5%203.5%206.41015%203.5%2010C3.5%2013.5899%206.41015%2016.5%2010%2016.5C13.5899%2016.5%2016.5%2013.5899%2016.5%2010C16.5%206.41015%2013.5899%203.5%2010%203.5Z'%20fill='%23000000'/%3e%3c/svg%3e";function Yt(n){n.style.width="40px",n.style.height="40px",n.style.margin="4px",n.style.cursor="pointer",n.style.borderRadius="5px",n.style.border="1px solid black",n.style.backgroundColor="white",n.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.75)",n.style.padding="2px",n.onmouseover=()=>{n.style.boxShadow="0px 0px 5px 0px rgba(0,0,0,0.75)"},n.onmouseout=()=>{n.style.boxShadow="0px 0px 2px 0px rgba(0,0,0,0.75)"}}const Lt=new Map([["BISECTOR_BY_POINTS",{tooltip:"Bissectrice",url:Hi}],["CIRCLE_CENTER_POINT",{tooltip:"Cercle centre-point",url:Xi}],["CIRCLE_COMPASS",{tooltip:"Cercle par report de longueur",url:Zi}],["CIRCLE_RADIUS",{tooltip:"Cercle centre-rayon",url:Yi}],["CURSOR",{tooltip:"Curseur",url:Ji}],["DESCRIPTION",{tooltip:"Afficher le programme de construction",url:qi}],["DILATE",{tooltip:"Homothétie",url:Ki}],["DISC_CENTER_POINT",{tooltip:"Disque centre-point",url:ts}],["DISC_RADIUS",{tooltip:"Disque centre-rayon",url:Qi}],["DOWNLOAD_LATEX_SVG",{tooltip:"Exporter la figure au format LaTeX ou SVG",url:ls}],["DRAG_ALL",{tooltip:"Déplacer la figure",url:is}],["DRAG",{tooltip:"Déplacer les points",url:es}],["FILL",{tooltip:"Remplir / Vider",url:ss}],["GRID",{tooltip:"Afficher le repère",url:ns}],["HIDE",{tooltip:"Masquer un élément",url:os}],["INFORMATIONS",{tooltip:"Obtenir les informations sur l'élément",url:rs}],["LATEX",{tooltip:"Export LaTeX",url:as}],["LINE_PARALLEL",{tooltip:"Droite parallèle",url:hs}],["LINE_PERPENDICULAR",{tooltip:"Droite perpendiculaire",url:ds}],["LINE",{tooltip:"Droite",url:cs}],["MARK_ANGLE",{tooltip:"Coder un angle",url:ps}],["MARK_BETWEEN_POINTS",{tooltip:"Coder un segment",url:us}],["MESURE_ANGLE",{tooltip:"Mesurer un angle",url:gs}],["MESURE_SEGMENT",{tooltip:"Mesurer une distance",url:ms}],["MIDDLE",{tooltip:"Milieu",url:fs}],["MOVE_LABEL",{tooltip:"Déplacer le nom d'un point",url:ys}],["NAME_POINT",{tooltip:"Renommer un point",url:xs}],["OPEN",{tooltip:"Charger un fichier",url:vs}],["PAUSE",{tooltip:"Pause",url:ws}],["PERPENDICULAR_BISECTOR",{tooltip:"Médiatrice",url:ks}],["PLAY_SKIP_BACK",{tooltip:"Étape précédente",url:Cs}],["PLAY_SKIP_FORWARD",{tooltip:"Étape suivante",url:Ss}],["PLAY",{tooltip:"Lecture",url:bs}],["POINT_INTERSECTION",{tooltip:"Point à l'intersection",url:Is}],["POINT_ON",{tooltip:"Point sur",url:Ns}],["POINT",{tooltip:"Point",url:$s}],["POLYGON",{tooltip:"Polygone",url:Ms}],["RAY",{tooltip:"Demi-droite",url:Ps}],["REDO",{tooltip:"Rétablir",url:As}],["REFLECTION_OVER_LINE",{tooltip:"Symétrie axiale",url:Ls}],["REFLECTION",{tooltip:"Symétrie centrale",url:Ts}],["REMOVE",{tooltip:"Supprimer",url:Ds}],["RESTART",{tooltip:"Recommencer",url:_s}],["ROTATE",{tooltip:"Rotation",url:Os}],["SAVE",{tooltip:"Sauvegarder",url:Vs}],["SEGMENT",{tooltip:"Segment",url:zs}],["SET_OPTIONS",{tooltip:"Modifier le style",url:Bs}],["SHAKE",{tooltip:"Secouer la figure",url:Fs}],["TRANSLATION",{tooltip:"Translation",url:Es}],["UNDO",{tooltip:"Annuler la dernière action",url:js}],["VECTOR",{tooltip:"Vecteur",url:Rs}],["ZOOM_IN",{tooltip:"Zoom avant",url:Us}],["ZOOM_OUT",{tooltip:"Zoom arrière",url:Ws}]]);function Gs(n,t){const i=[],e=n.split(" ");for(const s of e){const o=s.toUpperCase();if(!Lt.has(o)){console.error(`Le bouton ${o} n'existe pas`);continue}const r=document.createElement("img"),a=Lt.get(o);if(a==null){console.error(`L'icône pour le bouton ${o} n'existe pas`);continue}r.src=a.url,r.title=a.tooltip,Yt(r),r.onclick=()=>{t.ui?.send(o)},t.buttons.set(o,r),i.push(r)}return i}function Hs({action:n,figure:t,tooltip:i="",url:e,text:s,container:o,record:r=!0,userMessage:a=""}){if(e==null&&s==null)throw new Error("addCustomButton doit spécifier une url ou un texte");let c;if(e!=null){c=document.createElement("img");const l=c;l.src=e}else{c=document.createElement("div");const l=c;l.textContent=s,c.style.textAlign="center",c.style.lineHeight="40px",c.style.fontSize="20px",c.style.letterSpacing="1px",c.style.fontFamily="Arial"}if(c.title=i,Yt(c),o==null?t.divButtons.appendChild(c):o.appendChild(c),c.onclick=()=>{n(),t.userMessage=a},r){const l=window.crypto.randomUUID!==void 0?window.crypto.randomUUID():Ys();t.buttons.set(l,c),c.addEventListener("click",()=>{for(const h of t.buttons.values())h.style.backgroundColor="white";c.style.backgroundColor=tt})}return c}let Dt=0;function Ys(){return Dt++,Dt}function Zs(n){const t=document.createElement("div");t.style.marginTop="30px",t.style.fontWeight="bold";const i=document.createElement("div");i.style.marginBottom="10px",i.textContent=`Épaisseur : ${n.options.thickness}`;const e=document.createElement("input");return e.type="range",e.value=`${n.options.thickness}`,e.min="1",e.max="4",t.appendChild(i),t.appendChild(e),e.addEventListener("input",()=>{n.options.thickness=Number(e.value),i.textContent=`Épaisseur : ${n.options.thickness}`}),t}function Xs({figure:n,container:t}){const i=[];for(const s of Qt){const o=n.addCustomButton({record:!1,text:s,action:()=>{n.options.mark=s},container:t});s===n.options.mark&&(o.style.backgroundColor=tt),i.push(o),o.addEventListener("click",e)}function e(){for(const s of i)s.style.backgroundColor="white";this.style.backgroundColor=tt}}function Js(n,{nbCols:t,position:i="left",showStyles:e,tools:s=te}){if(n.divButtons.innerHTML="",n.divButtons.style.zIndex="100",i==="none"){n.divButtons.style.display="none";return}if(i==="left"&&(e===void 0&&(e=!0),t===void 0&&(t=4),n.divButtons.style.display="grid",window.matchMedia("(min-width: 768px)").matches?n.container.style.gridTemplateColumns="230px 1fr":n.container.style.gridTemplateColumns="50px 1fr",n.container.style.display="grid",window.matchMedia("(min-width: 768px)").matches?n.divButtons.style.gridTemplateColumns=`repeat(${t}, auto)`:n.divButtons.style.gridTemplateColumns="auto",n.divButtons.style.gridAutoRows="min-content",n.divButtons.style.justifyContent="start"),i==="top"&&(e===void 0&&(e=!1),t===void 0&&(t=8),n.container.style.display="block",n.divButtons.style.display="grid",n.divButtons.style.gridTemplateColumns=`repeat(${t}, auto)`,n.divButtons.style.gridAutoRows="min-content",s.length<6?n.divButtons.style.justifyContent="start":n.divButtons.style.justifyContent="center"),e===!1){const r=s.indexOf("SET_OPTIONS");r>-1&&s.splice(r,1)}const o=n.addButtons(s.join(" "));n.divButtons.append(...o);for(const r of o)n.divButtons.appendChild(r);if(e===!0){const r=document.createElement("div");r.style.gridColumn="1 / -1",n.divButtons.appendChild(r),r.appendChild(n.addColorPalette(["black","blue","red"])),r.appendChild(n.addColorPalette(["green","orange","lightgray"])),r.appendChild(n.addDashedChoice()),r.appendChild(n.addThicknessChoice())}s.indexOf("MARK_BETWEEN_POINTS")&&(n.divMarkPalette=document.createElement("div"),n.divMarkPalette.style.display="flex",n.divToolbar2.appendChild(n.divMarkPalette),Xs({figure:n,container:n.divMarkPalette}),n.divMarkPalette.style.display="none")}class lt{constructor({border:t=!1,dx:i=1,dy:e=1,height:s=document.documentElement.clientHeight-dt,isDynamic:o=!0,pixelsPerUnit:r=30,scale:a=1,snapGrid:c=!1,width:l=document.documentElement.clientWidth-pt,xMin:h=-10,xScale:d=1,yMin:u=-6,yScale:g=1}={}){this._actionsOnChange=[],this.buttons=new Map,this.currentState="",this.id="",this.zoomLevel=1,this.elements=new Map,this.stackUndo=[],this.stackRedo=[],this.width=l,this.height=s,this.pixelsPerUnit=r,this.xMin=h,this.xMax=h+l/r/a/d,this.yMin=u,this.yMax=u+s/r/a/g,this.dx=i,this.dy=e,this.hoverPoints=new Set,this.xScale=d,this.yScale=g,this._scale=a,this.isDynamic=o,this.pointerX=null,this.pointerY=null,this.selectedElements=[],this.tmpElements=[],this.options={...ht},this.snapGrid=c,this.container=document.createElement("div"),this.container.id="containerApigeom",this.divFigureAndUserMessage=document.createElement("div"),this.divFigureAndUserMessage.id="divFigureAndUserMessage",this.divFigure=document.createElement("div"),this.divFigure.id="divFigure",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.divSave=null,this.divButtons=document.createElement("div"),this.divButtons.id="divButtons",this.divUserMessage=document.createElement("div"),this.divUserMessage.id="divUserMessage",this.divUserMessage.style.fontSize=ee,this.divUserMessage.style.height=ie,this.divUserMessage.style.width="90%",this.divUserMessage.style.textAlign="right",this.divUserMessage.style.right="0",this.divUserMessage.style.color="blue",this.divUserMessage.style.margin="3px",this.divUserMessage.style.padding="0.5em",this.divUserMessage.style.fontSize="1.5em",this.divToolbar2=document.createElement("div"),this.divToolbar2.id="divToolbar2",this.divToolbar2.style.display="flex",this.container.appendChild(this.divButtons),this.container.appendChild(this.divFigureAndUserMessage),this.divFigureAndUserMessage.appendChild(this.divToolbar2),this.divFigureAndUserMessage.appendChild(this.divUserMessage),this.divFigureAndUserMessage.appendChild(this.divFigure),this.divFigure.appendChild(this.svg),t&&(this.svg.style.border="solid"),this.svg.style.touchAction="none",this.clearHtml(),this.isDynamic&&this.listenPointer(),this.pointer=new M(this,{isChild:!0,isFree:!1,isVisible:!1,isSelectable:!1,color:"black",shape:"",x:0,y:0}),this.pointer.type="pointer",this.filter=y=>y instanceof M&&y.isFree,this.saveState(),this.initial={height:this.height,width:this.width,scale:this._scale,xMin:this.xMin,yMin:this.yMin},setTimeout(()=>{this.handleUndoRedoButtons()},100)}addButtons(t){return Gs(t,this)}addColorPalette(t){return fe(t,this)}addCustomButton({action:t,container:i,record:e,text:s,tooltip:o="",url:r,userMessage:a}){return Hs({action:t,figure:this,tooltip:o,url:r,text:s,container:i,record:e,userMessage:a})}addDashedChoice(){return we(this)}addThicknessChoice(){return Zs(this)}adjustSize(){this.width<ut&&(this.width=ut),this.height<gt&&(this.height=gt),this.xMax=this.xMin+this.width/this.pixelsPerUnit/this.scale/this.xScale,this.yMax=this.yMin+this.height/this.pixelsPerUnit/this.scale/this.yScale,this.divFigure!==null&&this.svg!==null&&(this.divFigure.style.width=`${this.width.toString()}px`,this.divFigure.style.height=`${this.height.toString()}px`,this.svg.setAttribute("width",this.width.toString()),this.svg.setAttribute("height",this.height.toString()),this.svg.setAttribute("viewBox",`${this.xToSx(this.xMin)} ${this.yToSy(this.yMax)} ${this.width} ${this.height}`));for(const t of this.elements.values())t instanceof S&&t.update()}autoAdjustSize(){window.addEventListener("resize",()=>{t(),this.adjustSize()}),window.addEventListener("orientationchange",()=>{t(),this.adjustSize()}),window.addEventListener("fullscreenchange",()=>{t(),this.adjustSize()});const t=()=>{this.width=document.documentElement.clientWidth-pt,this.height=document.documentElement.clientHeight-dt}}checkPoint({label:t,x:i,y:e,color:s}){return _e({figure:this,label:t,x:i,y:e,color:s})}checkPointOnLine({labelPt:t,nameLine:i}){return Be({figure:this,labelPt:t,nameLine:i})}checkPointOnIntersectionLL({labelPt:t,nameLine1:i,nameLine2:e}){return ze({figure:this,labelPt:t,nameLine1:i,nameLine2:e})}checkPointBetween2Points({labelPt:t,labelPt1:i,labelPt2:e}){return Oe({figure:this,labelPt:t,labelPt1:i,labelPt2:e})}checkAngle({angle:t,label1:i,label2:e,label3:s}){return $e({angle:t,figure:this,label1:i,label2:e,label3:s})}checkPerpendicularBisector({color:t,label1:i,label2:e}){return De({figure:this,label1:i,label2:e,color:t})}checkCircleRadius({center:t,labelCenter:i,radius:e}){return Ie({center:t,figure:this,labelCenter:i,radius:e})}checkCoords({checkOnlyAbscissa:t,label:i,x:e,y:s,color:o}){return Pe({checkOnlyAbscissa:t,figure:this,label:i,x:e,y:s,color:o})}checkDistance({distance:t,label1:i,label2:e}){return Ae({distance:t,figure:this,label1:i,label2:e})}checkLine({point1:t,point2:i,color:e}){return Te({figure:this,point1:t,point2:i,color:e})}checkSegment({point1:t,point2:i,color:e}){return Ue({figure:this,point1:t,point2:i,color:e})}checkParallel({label1:t,label2:i}){return Le({figure:this,label1:t,label2:i})}checkPolygon({acceptSegments:t,points:i,color:e}){return Fe({figure:this,acceptSegments:t,points:i,color:e})}checkPolygonByLabels({labels:t,color:i}){return Ee({figure:this,labels:t,color:i})}checkSameDistance({label1:t,label2:i}){return Re({figure:this,label1:t,label2:i})}checkRay({point1:t,point2:i,color:e}){return je({figure:this,point1:t,point2:i,color:e})}checkVector({color:t,labelOrigin:i,labelPoint2:e,x:s,xOrigin:o,y:r,yOrigin:a}){return Ge({color:t,figure:this,labelOrigin:i,labelPoint2:e,x:s,xOrigin:o,y:r,yOrigin:a})}clearHtml(){this.svg.innerHTML="";const t=document.createElementNS("http://www.w3.org/2000/svg","style");this.svg.appendChild(t),t.type="text/css",t.innerHTML=".onlyOver:hover { opacity: 1; }",this.options={...ht}}copy(){const t=this.getJsonWithHistory(),i=new lt;if(i.loadJson(JSON.parse(t)),this.elements.size!==i.elements.size)throw new Error("Erreur lors de la copie de la figure");return i}create(t,i){const e=new qs[t](this,{...i});return"draw"in e&&e.draw(),e}getContainer(){return this.container}getJsonWithHistory(){const t={apiGeomVersion:APP_VERSION,options:this.options,...Object.fromEntries(this.elements),history:this.stackUndo};return JSON.stringify(t,_t,2)}getPointByLabel(t){const i=[...this.elements.values()].filter(e=>e instanceof M&&e.label===t);return i.length>0?i[0]:null}getPointerCoord(t){t.preventDefault();const i=this.svg.getBoundingClientRect(),e=(t.clientX-i.x)/this.pixelsPerUnit/this.xScale/this.scale+this.xMin,s=-(t.clientY-i.y)/this.pixelsPerUnit/this.yScale/this.scale+this.yMax;return[e,s]}getStaticHtml({center:t=!1}={}){const i=this.isDynamic;this.isDynamic=!1;let e="";if(this.container.childElementCount<5){const s=document.createElement("div");this.setContainer(s)}else this.isDynamic=i;return this.divFigure.style.display="block",t&&(this.divFigure.style.margin="0 auto"),e=this.divFigure.outerHTML,e}handleDragAll(){window.addEventListener("keydown",t=>{const i={x:0,y:0},e=se;t.key==="ArrowLeft"&&(i.x=e),t.key==="ArrowRight"&&(i.x=-e),t.key==="ArrowUp"&&(i.y=-e),t.key==="ArrowDown"&&(i.y=+e),t.shiftKey&&(i.x*=10,i.y*=10),!Ks()&&(i.x!==0||i.y!==0)&&(t.preventDefault(),this.xMin+=i.x,this.yMin+=i.y,this.zoom(this.zoomLevel))})}handleUndoRedoButtons(){const t=this.buttons.get("REDO"),i=this.buttons.get("UNDO");t!==void 0&&(t.style.opacity=this.stackRedo.length===0?"0.5":"1"),i!==void 0&&(i.style.opacity=this.stackUndo.length<2?"0.5":"1")}latex({xMax:t=this.xMin+this.options.latexWidth,xMin:i=this.xMin,yMax:e=this.yMax,yMin:s=this.yMax-this.options.latexHeight,includePreambule:o=!0}={}){let r="";return o&&(r+="\\documentclass[french,a4paper]{article}",r+=`
\\usepackage[francais]{babel}`,r+=`
\\usepackage[utf8]{inputenc}`,r+=`
\\usepackage{tkz-base}`,r+=`
\\usepackage{pgfplots}`,r+=`
\\begin{document}`),r+=this.tikz({xMax:t,xMin:i,yMax:e,yMin:s}),o&&(r+=`
\\end{document}`),r=r.replace(/\d+\.\d+/g,a=>(Math.round(1e6*Number.parseFloat(a))/1e6).toString()),r}listenPointer(){this.svg.addEventListener("pointerdown",i=>{if(!this.isDynamic)return;const[e,s]=this.getPointerCoord(i);this.pointer.moveTo(e,s),Gi(this,i)});const t=()=>{this.isDynamic&&(this.pointer.moveTo(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),Tt(this,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),this.inDrag!==void 0&&(this.inDrag=void 0,this.divFigure!==null&&(this.divFigure.style.cursor="auto"),this.saveState()))};this.svg.addEventListener("pointerup",t),this.svg.addEventListener("pointerleave",t),this.svg.addEventListener("pointermove",i=>{if(!this.isDynamic)return;const[e,s]=this.getPointerCoord(i);this.pointer.moveTo(e,s),Tt(this,e,s),this.inDrag!==void 0&&this.inDrag.moveTo(e,s)})}_hasChanged(){for(const t of this._actionsOnChange)t()}loadJson(t,i){ke(this,t,i)}onChange(t){this._actionsOnChange.push(t)}redo(){const t=this.stackRedo.at(-1);t!==void 0&&(this.stackUndo.push(t),this.stackRedo.pop(),this.loadJson(JSON.parse(t)),this.handleUndoRedoButtons()),this._hasChanged()}restart(t=1){if(this.stackUndo.length===0)return;const i=Number.isInteger(t)&&t>1?t:1;for(;this.stackUndo.length>i;){const e=this.stackUndo.at(-2);e!==void 0&&(this.stackRedo.push(this.stackUndo.at(-1)),this.stackUndo.pop(),this.stackUndo.length+1===i&&(this.loadJson(JSON.parse(e)),this.handleUndoRedoButtons()))}this._hasChanged()}saveState(){const t=this.json;Wi()&&localStorage.setItem("apiGeom",t),this.divSave!==null&&(this.divSave.textContent=t),this.stackUndo.push(t),this.stackRedo=[],this.stackUndo.length>mt&&(this.stackUndo=this.stackUndo.slice(-mt)),this.handleUndoRedoButtons();for(const i of this.tmpElements)i.remove();this.tmpElements=[],this.selectedElements=[],this._hasChanged()}setContainer(t){if(!(t instanceof HTMLElement))throw Error("grandParentContainer doit être un HTMLElement");t.appendChild(this.container),this.divFigure.style.position="relative",this.divFigure.style.display="inline-block",this.divFigure.style.margin="0",this.divFigure.style.padding="0",this.divFigure.style.boxSizing="border-box",this.divFigure.style.border="none",this.divButtons.childElementCount===0&&this.isDynamic&&this.setToolbar(),this.adjustSize()}setToolbar({nbCols:t,position:i="left",showStyles:e,tools:s}={}){Js(this,{nbCols:t,position:i,showStyles:e,tools:s})}async shake({delta:t=3,repeat:i=5,time:e=1}={}){await He({delta:t,figure:this,repeat:i,time:e})}sxTox(t){return t/this.pixelsPerUnit/this.xScale/this.scale}syToy(t){return-t/this.pixelsPerUnit/this.yScale/this.scale}tempCreate(t,i){const e=this.create(t,{isChild:!0,isSelectable:!1,...i});return e.color=this.options.tmpColor,e.thickness=this.options.tmpThickness,"isDashed"in e&&!(e instanceof M)&&(e.isDashed=this.options.tmpIsDashed),"fillColor"in e&&(e.fillColor=this.options.tmpFillColor),"fillOpacity"in e&&(e.fillOpacity=this.options.tmpFillOpacity),this.tmpElements.push(e),e}tikz({xMax:t=Math.min(this.xMax,this.xMin+this.options.latexWidth),xMin:i=this.xMin,yMax:e=this.yMax,yMin:s=Math.max(this.yMin,this.yMax-this.options.latexHeight),anchor:o="north"}={}){const r=this.scale!==1?`, scale=${this.scale}`:"",a=this.xScale!==1?`, xScale=${this.xScale}`:"",c=this.yScale!==1?`, yScale=${this.yScale}`:"";let l=`
\\begin{tikzpicture}[baseline={(current bounding box.${o})}${r}${a}${c}]`;l+=`
\\clip(${i}, ${s}) rectangle (${t}, ${e});`;for(const h of this.elements.values())h instanceof S&&h.latex!==void 0&&h.latex!==""&&h.isVisible&&h.color!==""&&h.color!=="none"&&(l+=`
${h.latex}`);return l+=`
\\end{tikzpicture}`,l=l.replace(/\d+\.\d+/g,h=>(Math.round(1e6*Number.parseFloat(h))/1e6).toString()),l}undo(){const t=this.stackUndo.at(-2);t!==void 0&&(this.stackRedo.push(this.stackUndo.at(-1)),this.stackUndo.pop(),this.loadJson(JSON.parse(t)),this.handleUndoRedoButtons()),this._hasChanged()}async wait(t=1500){await new Promise(i=>{setTimeout(i,t)})}xToSx(t){return t*this.pixelsPerUnit*this.xScale*this.scale}yToSy(t){return-t*this.pixelsPerUnit*this.yScale*this.scale}zoom(t,{changeWidth:i=!0,changeHeight:e=!0,changeLeft:s=!0,changeBottom:o=!0}={}){if(t<=0)return;i&&(this.width=this.initial.width*t),e&&(this.height=this.initial.height*t),this.scale=this.initial.scale*t,s&&(this.xMin=this.initial.xMin/t),o&&(this.yMin=this.initial.yMin/t),this.adjustSize();const r=this.getJsonWithHistory(),a=this.options;this.loadJson(JSON.parse(r),!1),this.options=a}get htmlDescription(){const t=document.createElement("ul");t.style.lineHeight="2";for(const i of this.elements.values())if("description"in i&&!i.isChild){const e=document.createElement("li");e.textContent=i.description,t.appendChild(e)}return t}get json(){const t={apiGeomVersion:APP_VERSION,options:this.options,...Object.fromEntries(this.elements)};return JSON.stringify(t,_t,2)}get scale(){return this._scale}set scale(t){this._scale=t,this.adjustSize()}get userMessage(){return this.divUserMessage.textContent??""}set userMessage(t){this.divUserMessage.textContent=t,nt(this.divUserMessage,{delimiters:[{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"}],errorColor:"#CC0000",preProcess:i=>i.replaceAll(" ","\\,"),strict:"warn",throwOnError:!0,trust:!1})}}const qs={Angle:Xe,Arc:rt,ArcBy3PointsAndRadius:pi,ArcByCenterRadiusAndAngles:gi,Barycenter:Ii,BisectorByPoints:mi,Circle:J,CircleCenterDynamicRadius:Wt,CircleCenterPoint:fi,CircleFractionDiagram:ri,Distance:Rt,DynamicCalcul:Je,DynamicX:qe,DynamicY:Ke,GraduatedLine:di,Graph:ti,Graph2:ii,GraphByParts:ni,Grid:Ft,Line:B,LineByPointVector:yi,LineFractionDiagram:ai,RectangleFractionDiagram:ci,LineParallel:at,LinePerpendicular:q,MarkBetweenPoints:Si,MarkRightAngle:$i,Middle:Ni,PerpendicularBisector:Gt,PerpendicularBisectorByPoints:xi,Point:M,PointByProjection:Ai,PointByProjectionOnAxisX:Ti,PointByProjectionOnAxisY:Li,PointIntersectionCC:Di,PointIntersectionLC:_i,PointIntersectionLL:Et,PointOnCircle:Oi,PointOnGraph:Pi,PointOnLine:jt,PointOnPolyline:zi,PointOnLineAtDistance:Vi,PointsIntersectionCC:Bi,PointsIntersectionLC:Fi,Polygon:vi,Polyline:bi,Ray:ot,Segment:D,TextByPoint:Ei,TextByPosition:U,TextDynamicByPosition:ji,Vector:Ht,VectorByPoints:Ri,VectorPerpendicular:Ui};function _t(n,t){if(!t?.isChild&&n!=="isChild")return t}function Ks(){return Array.from(document.querySelectorAll("dialog")).some(t=>!!t.open)}function Qs(n,t){const i=[this.seed,this.sup,this.sup2,this.sup3,this.sup4,this.sup5,this.correctionDetaillee,this.interactif,this.nbQuestions,n,t].map(String).join("");this.lastCallback!==i&&(this.lastCallback=i,this.reinit(),ge(this.seed,{global:!0}),this.nouvelleVersion(n,t))}function tn(){if(this.listeQuestions=[],this.listeCorrections=[],this.listeCanEnonces=[],this.listeCanReponsesACompleter=[],this.listeCanLiees=[],this.listeCanNumerosLies=[],this.listeArguments=[],this.autoCorrection=[],this.distracteurs=[],this.figures&&this.figures.forEach(n=>{n instanceof lt&&(n.clearHtml(),n.container=document.createElement("div"))}),this.figures=[],this.dragAndDrops&&this.dragAndDrops.length>0){for(const n of this.dragAndDrops)for(const[t,i,e]of n.listeners)t.removeEventListener(i,e);this.dragAndDrops=[]}}function en(){const n=on({includeUpperCase:!0,includeNumbers:!0,length:4,startsWithLowerCase:!1});this.seed=n}function sn(n){const i=ft.SHA256(n).toString(ft.enc.Hex);return i.length>n.length?n:i}function nn(n,...t){n===0&&(this.listeArguments=[]);let i="";for(const s of t)s!==void 0&&(i+=s instanceof ne?s.texFraction:s.toString());const e=sn(i);if(this.listeArguments!=null&&this.listeArguments.indexOf(e)>-1)return!1;if(this.listeArguments!=null)return this.listeArguments.push(e),!0}function on({includeUpperCase:n=!0,includeNumbers:t=!0,length:i=4,startsWithLowerCase:e=!1}={}){let s=10;const o="abcdefghijklmnopqrstuvwxyz";let r="",a=0,c=""+o;for(e&&(r=o[Math.floor(Math.random()*o.length)],a=1),i&&(s=i),n&&(c+=o.toUpperCase()),t&&(c+="1234567890");a<s;a++)r+=c[Math.floor(Math.random()*c.length)];return r}const mn=Object.freeze(Object.defineProperty({__proto__:null,exportedApplyNewSeed:en,exportedNouvelleVersionWrapper:Qs,exportedQuestionJamaisPosee:nn,exportedReinit:tn},Symbol.toStringTag,{value:"Module"}));export{rt as A,b as C,S as E,lt as F,di as G,ai as L,M as P,ci as R,D as S,U as T,Pe as a,Ie as b,Fe as c,je as d,Te as e,Ue as f,p as g,be as h,C as i,pn as j,gn as k,un as l,Qs as m,tn as n,en as o,nn as p,_s as q,L as r,J as s,nt as t,vi as u,ti as v,mn as w};

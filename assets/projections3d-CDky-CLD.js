import{random as I,round as R,abs as f}from"mathjs";import{p as l,O as w,I as D,A as q,aJ as B,a4 as A,a3 as C,k as p,cu as v,D as K,cv as Q,M as z,ag as U,aa as N,ah as G,cw as E,aE as W}from"./embellissements-BYV7mIDn.js";class X extends w{constructor(s=10,t=5,e=5,i=l(0,0),a=!0,r=30,n=.5){super(),this.objets=[];const o=i,u=l(o.x+s,o.y),h=l(u.x,u.y+t),c=l(o.x,o.y+t),$=q(o,u,h,c),x=B(o,e*n,r),k=A(u,C(o,x)),d=A(h,C(o,x)),g=A(c,C(o,x)),b=p(o,x),m=p(u,k),M=p(h,d),S=p(c,g),j=p(x,k),L=p(k,d),O=p(d,g),H=p(g,x);b.pointilles=5,j.pointilles=5,H.pointilles=5,this.objets.push($,b,m,M,S,j,L,O,H),a&&(this.objets.push(v(p(u,o),"",1)),this.objets.push(v(p(o,c),"",1)),this.objets.push(v(p(k,u),e+" cm",1)));const{xmin:Z,xmax:F,ymin:T,ymax:J}=K(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[Z,T,F,J]}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)e.color=this.color,t+=`
	`+e.svg(s);return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)s+=`
	`+t.tikz();return s}}function as(y=10,s=5,t=5,e=l(0,0),i=!0,a=30,r=.5){return new X(y,s,t,e,i,a,r)}class Y extends w{centre;rx;ry;couleurDeRemplissage;opaciteDeRemplissage;constructor(s,t,e,i="black"){super(),this.color=D(i),this.centre=s,this.rx=t,this.ry=e,this.couleurDeRemplissage=D("none"),this.opaciteDeRemplissage=1,this.bordures=[s.x-t,s.y-e,s.x+t,s.y+e]}svg(s){switch(this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.couleurDeRemplissage[0]===""||this.couleurDeRemplissage[0]==="none"?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage[0]}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<ellipse cx="${this.centre.xSVG(s)}" cy="${this.centre.ySVG(s)}" rx="${this.rx*s}" ry="${this.ry*s}" stroke="${this.color[0]}" ${this.style} id="${this.id}" />`}tikz(){let s="";const t=[];switch(this.color[1].length>1&&this.color[1]!=="black"&&t.push(`color=${this.color[1]}`),this.epaisseur!==1&&t.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:t.push(" dash dot ");break;case 2:t.push(" densely dash dot dot ");break;case 3:t.push(" dash dot dot ");break;case 4:t.push(" dotted ");break;case 5:t.push(" dashed ");break}return this.opacite!==1&&t.push(`opacity = ${this.opacite}`),this.opaciteDeRemplissage!==1&&t.push(`fill opacity = ${this.opaciteDeRemplissage}`),this.couleurDeRemplissage[1]!==""&&this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&t.push(`preaction={fill,color = ${this.couleurDeRemplissage[1]}}`),t.length>0&&(s="["+t.join(",")+"]"),`\\draw${s} (${this.centre.x},${this.centre.y}) ellipse (${this.rx}cm and ${this.ry}cm);`}svgml(s,t){this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `);let e=`<path d="M ${this.centre.xSVG(s)+this.rx*s} ${this.centre.ySVG(s)} C ${this.centre.xSVG(s)+this.rx*s} ${this.centre.ySVG(s)}, `,i=1;for(let a=1,r;a<181;a++)r=(I(0,2)-1)*t/10,e+=`${this.centre.xSVG(s)+R((this.rx+r)*Math.cos(2*a*Math.PI/180)*s,2)} ${this.centre.ySVG(s)+R((this.ry+r)*Math.sin(2*a*Math.PI/180)*s,2)}, `,i++;return i%2===0&&(e+=` ${this.centre.xSVG(s)+this.rx*s} ${this.centre.ySVG(s)}, `),e+=` ${this.centre.xSVG(s)+this.rx*s} ${this.centre.ySVG(s)} Z" stroke="${this.color[0]}" ${this.style}"/>`,e}tikzml(s){let t="";const e=[];return this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.opacite!==1&&e.push(`opacity = ${this.opacite}`),e.push(`decorate,decoration={random steps , amplitude = ${s}pt}`),t="["+e.join(",")+"]",`\\draw${t} (${this.centre.x},${this.centre.y}) ellipse (${this.rx}cm and ${this.ry}cm);`}}function P(y,s,t,e="black"){return new Y(y,s,t,e)}class _ extends w{centre;rx;ry;rayon;hachures;couleurDeRemplissage;opaciteDeRemplissage;couleurDesHachures;epaisseurDesHachures;distanceDesHachures;M;N;angle;large;sweep;constructor({centre:s,rx:t,ry:e,hemisphere:i="nord",pointilles:a=0,rayon:r=!1,couleurDeRemplissage:n="none",color:o="black",opaciteDeRemplissage:u=.2,hachures:h=!1,anglesAxe:c=0}){super(),this.centre=s,this.rx=t,this.ry=e,this.rayon=r,this.color=D(o),this.couleurDeRemplissage=D(n),this.opaciteDeRemplissage=u,this.hachures=h,this.couleurDesHachures=D("black"),this.epaisseurDesHachures=1,this.distanceDesHachures=10,this.pointilles=a,this.anglesAxe=c,this.angle=i==="nord"?180:-180,this.M=l(s.x+t,s.y);const $=N(G(this.M,s,this.angle/2),s,e/t);this.large=0,this.sweep=0,this.angle>180?(this.sweep=0,this.large=1):this.angle<-180?(this.large=1,this.sweep=1):(this.large=0,this.sweep=1-(this.angle>0?1:0)),this.N=G(this.M,s,this.angle);const[x,k,d,g]=[Math.min(this.M.x,this.N.x,$.x)-.1,Math.min(this.M.y,this.N.y,$.y)-.1,Math.max(this.M.x,this.N.x,$.x)+.1,Math.max(this.M.y,this.N.y,$.y)+.1];let b=l(x,k),m=l(d,k),M=l(d,g),S=l(x,g);const j=l((b.x+m.x)/2,(b.y+m.y)/2);b=G(b,j,this.anglesAxe),m=G(m,j,this.anglesAxe),M=G(M,j,this.anglesAxe),S=G(S,j,this.anglesAxe),this.bordures=[Math.min(b.x,m.x,M.x,S.x),Math.min(b.y,m.y,M.y,S.y),Math.max(b.x,m.x,M.x,S.x),Math.max(b.y,m.y,M.y,S.y)]}svg(s){if(this.rayon){switch(this.style="",this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage=D("none")),E({motif:String(this.hachures),id:typeof this.id=="string"?this.id:void 0,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures[0],couleurDeRemplissage:this.couleurDeRemplissage[0],opaciteDeRemplissage:this.opaciteDeRemplissage})+`<g transform="rotate(${-this.anglesAxe}, ${this.centre.xSVG(s)}, ${this.centre.xSVG(s)})"><path d="M${this.M.xSVG(s)} ${this.M.ySVG(s)} A ${this.rx*s} ${this.ry*s} 0 ${this.large} ${this.sweep} ${this.N.xSVG(s)} ${this.N.ySVG(s)} L ${this.centre.xSVG(s)} ${this.centre.ySVG(s)} Z" stroke="${this.color[0]}"  ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.couleurDeRemplissage[0]!=="none"&&this.couleurDeRemplissage[0]!==""&&(this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<g transform="rotate(${-this.anglesAxe}, ${this.centre.xSVG(s)}, ${this.centre.xSVG(s)})"><path d="M${this.M.xSVG(s)} ${this.M.ySVG(s)} A ${this.rx*s} ${this.ry*s} 0 ${this.large} ${this.sweep} ${this.N.xSVG(s)} ${this.N.ySVG(s)} L ${this.centre.xSVG(s)} ${this.centre.ySVG(s)} Z" stroke="${this.color[0]}" fill="${this.couleurDeRemplissage[0]}" ${this.style}/>  </g>`)}else{switch(this.style="",this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;case 5:this.style+=' stroke-dasharray="5 5" ';break}return this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `,`<g transform="rotate(${-this.anglesAxe}, ${this.centre.xSVG(s)}, ${this.centre.xSVG(s)})"><path d="M${this.M.xSVG(s)} ${this.M.ySVG(s)} A ${this.rx*s} ${this.ry*s} 0 ${this.large} ${this.sweep} ${this.N.xSVG(s)} ${this.N.ySVG(s)}" stroke="${this.color[0]}" fill="${this.couleurDeRemplissage[0]}" ${this.style} id="${this.id}" />  </g>`}}tikz(){let s="";const t=[];switch(this.anglesAxe!==0&&t.push(`rotate=${this.anglesAxe}`),this.color[1].length>1&&this.color[1]!=="black"&&t.push(`color=${this.color[1]}`),this.epaisseur!==1&&t.push(`line width = ${this.epaisseur}`),this.pointilles){case 1:t.push(" dash dot ");break;case 2:t.push(" densely dash dot dot ");break;case 3:t.push(" dash dot dot ");break;case 4:t.push(" dotted ");break;case 5:t.push(" dashed ");break}return this.opacite!==1&&t.push(`opacity = ${this.opacite}`),this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""&&(t.push(`fill opacity = ${this.opaciteDeRemplissage}`),t.push(`fill = ${this.couleurDeRemplissage[1]}`)),this.hachures&&t.push(E({motif:String(this.hachures),id:typeof this.id=="string"?this.id:void 0,distanceDesHachures:this.distanceDesHachures,couleurDesHachures:this.couleurDesHachures[1],couleurDeRemplissage:this.couleurDeRemplissage[1],opaciteDeRemplissage:this.opaciteDeRemplissage})),t.length>0&&(s="["+t.join(",")+"]"),this.couleurDeRemplissage[1]!=="none"&&this.couleurDeRemplissage[1]!==""?`\\filldraw  ${s} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}]; -- cycle ;`:`\\draw${s} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}];`}svgml(s,t){this.style="";let e;this.epaisseur!==1&&(this.style+=` stroke-width="${this.epaisseur}" `),this.opacite!==1&&(this.style+=` stroke-opacity="${this.opacite}" `),this.style+=' fill="none" ';let i=`<g transform="rotate(${-this.anglesAxe}, ${this.centre.xSVG(s)}, ${this.centre.xSVG(s)})"> `;i+=`<path d="M${this.M.xSVG(s)} ${this.M.ySVG(s)} S ${this.M.xSVG(s)} ${this.M.ySVG(s)}, `;let a=1;const r=W(this.centre,this.M);for(let n=0,o;f(n)<=f(this.angle)-2;n+=this.angle<0?-2:2)o=(I(0,2)-1)/r*t/10,e=G(N(this.M,this.centre,1+o),this.centre,n),i+=`${R(e.xSVG(s),2)} ${R(e.ySVG(s),2)}, `,a++;return e=G(this.M,this.centre,this.angle),a%2===0&&(i+=`${e.xSVG(s)} ${e.ySVG(s)}, `),i+=`${e.xSVG(s)} ${e.ySVG(s)}`,i+=`" stroke="${this.color[0]}" ${this.style}/>`,i+="</g>",i}tikzml(s){let t="";const e=[];return this.anglesAxe!==0&&e.push(`rotate=${this.anglesAxe}`),this.color[1].length>1&&this.color[1]!=="black"&&e.push(`color=${this.color[1]}`),this.epaisseur!==1&&e.push(`line width = ${this.epaisseur}`),this.opacite!==1&&e.push(`opacity = ${this.opacite}`),e.push(`decorate,decoration={random steps , amplitude = ${s}pt}`),t="["+e.join(",")+"]",this.couleurDeRemplissage[1]!=="none"?`\\filldraw  ${t} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}]; -- cycle ;`:`\\draw${t} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}];`}}function V({centre:y,rx:s,ry:t,hemisphere:e="nord",pointilles:i=0,rayon:a=!1,couleurDeRemplissage:r="none",color:n="black",opaciteDeRemplissage:o=.2,hachures:u=!1,anglesAxe:h=0}){return new _({centre:y,rx:s,ry:t,hemisphere:e,pointilles:i,rayon:a,couleurDeRemplissage:r,color:n,opaciteDeRemplissage:o,anglesAxe:h})}class ss extends w{sommet;centre;couleurDeRemplissage;opaciteDeRemplissage;stringColor;constructor({centre:s,rx:t,hauteur:e,couleurDeRemplissage:i="none",color:a="black",opaciteDeRemplissage:r=.2}){super();const n=l(s.x,s.y+e);this.sommet=n,this.centre=s,this.stringColor=a,this.couleurDeRemplissage=i,this.opaciteDeRemplissage=r,this.objets=[V({centre:s,rx:t,ry:t/3,hemisphere:"nord",rayon:!1,pointilles:1,couleurDeRemplissage:i,color:a,opaciteDeRemplissage:r}),V({centre:s,rx:t,ry:t/3,hemisphere:"sud",rayon:!1,pointilles:0,couleurDeRemplissage:i,color:a,opaciteDeRemplissage:r}),p(l(s.x+t,s.y+.1),n,a),p(l(s.x-t,s.y+.1),n,a)];let o=1e3,u=1e3,h=-1e3,c=-1e3;for(const $ of this.objets)o=Math.min(o,$.bordures[0]),u=Math.min(u,$.bordures[1]),c=Math.max(c,$.bordures[2]),h=Math.max(h,$.bordures[3]);this.bordures=[o,u,c,h]}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)e.color=D(this.stringColor),t+=e.svg(s)+`
`;return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)t.color=D(this.stringColor),s+=t.tikz()+`
	`;return s}}class ts extends w{centre;couleurDeRemplissage;opaciteDeRemplissage;constructor({centre:s,rx:t,couleurDeRemplissage:e="none",color:i="black",opaciteDeRemplissage:a=.2}){super();const r=new Q(s,t,i,e);this.centre=s,this.color=D(i),this.couleurDeRemplissage=e,this.opaciteDeRemplissage=a,this.objets=[r,V({centre:s,rx:t,ry:t/3,hemisphere:"nord",rayon:!1,pointilles:1,couleurDeRemplissage:e,color:i,opaciteDeRemplissage:a}),V({centre:s,rx:t,ry:t/3,hemisphere:"sud",rayon:!1,pointilles:0,couleurDeRemplissage:e,color:i,opaciteDeRemplissage:a})];let n=1e3,o=1e3,u=-1e3,h=-1e3;for(const c of this.objets)n=Math.min(n,c.bordures[0]),o=Math.min(o,c.bordures[1]),h=Math.max(h,c.bordures[2]),u=Math.max(u,c.bordures[3]);this.bordures=[n,o,h,u]}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)e.color=this.color.slice(),t+=e.svg(s)+`
`;return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)t.color=this.color,s+=t.tikz()+`
	`;return s}}function rs({centre:y,rx:s,couleurDeRemplissage:t="none",color:e="black",opaciteDeRemplissage:i=.2}){return new ts({centre:y,rx:s,couleurDeRemplissage:t,color:e,opaciteDeRemplissage:i})}function os({centre:y,rx:s,hauteur:t,couleurDeRemplissage:e="none",color:i="black",opaciteDeRemplissage:a=.2}){return new ss({centre:y,rx:s,hauteur:t,couleurDeRemplissage:e,color:i,opaciteDeRemplissage:a})}class es extends w{centre;centre2;couleurDeRemplissage;opaciteDeRemplissage;stringColor;constructor({centre:s,rx:t,hauteur:e,position:i="DeboutVuDessus",couleurDeRemplissage:a="none",color:r="black",opaciteDeRemplissage:n=.2,angleDeFuite:o=30,coefficientDeFuite:u=.5}){super();let h=l(s.x+e,s.y);switch(this.centre=s,this.stringColor=r,this.couleurDeRemplissage=a,this.opaciteDeRemplissage=n,i){case"baseCoteCoucheVuDroite":h=l(s.x+e,s.y),this.objets=[V({centre:s,rx:t,ry:t/3,hemisphere:"sud",rayon:!1,pointilles:1,couleurDeRemplissage:a,color:r,opaciteDeRemplissage:n,hachures:!1,anglesAxe:90}),V({centre:s,rx:t,ry:t/3,hemisphere:"nord",rayon:!1,pointilles:0,couleurDeRemplissage:a,color:r,opaciteDeRemplissage:n,hachures:!1,anglesAxe:90}),P(h,t/3,t,r),p(l(s.x-.1,s.y+t),l(h.x+.1,h.y+t),r),p(l(s.x-.1,s.y-t),l(h.x+.1,h.y-t),r)];break;case"baseAvantCoucheVuGauche":{h=B(s,e*u,o);const d=-t*Math.cos(o*Math.PI/180),g=t*Math.sin(o*Math.PI/180),b=l(h.x+g,h.y+d),m=z(b,h,180,!1,a,r,n,"none"),M=z(b,h,-180,!1,a,r,n,"none");M.pointilles=1,this.objets=[U(s,t),m,M,p(l(s.x+g,s.y+d),l(h.x+g,h.y+d),r),p(l(s.x-g,s.y-d),l(h.x-g,h.y-d),r)];break}case"DeboutVuDessus":default:h=l(s.x,s.y+e),this.objets=[V({centre:s,rx:t,ry:t/3,hemisphere:"nord",rayon:!1,pointilles:1,couleurDeRemplissage:a,color:r,opaciteDeRemplissage:n}),V({centre:s,rx:t,ry:t/3,hemisphere:"sud",rayon:!1,pointilles:0,couleurDeRemplissage:a,color:r,opaciteDeRemplissage:n}),P(h,t,t/3,r),p(l(s.x+t,s.y-.1),l(h.x+t,h.y+.1),r),p(l(s.x-t,s.y-.1),l(h.x-t,h.y+.1),r)];break}this.centre2=h;let c=1e3,$=1e3,x=-1e3,k=-1e3;for(const d of this.objets)c=Math.min(c,d.bordures[0]),$=Math.min($,d.bordures[1]),k=Math.max(k,d.bordures[2]),x=Math.max(x,d.bordures[3]);this.bordures=[c,$,k,x]}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)e.color=D(this.stringColor),t+=e.svg(s)+`
`;return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)t.color=D(this.stringColor),s+=t.tikz()+`
	`;return s}}function ls({centre:y,rx:s,hauteur:t,position:e,couleurDeRemplissage:i="none",color:a="black",opaciteDeRemplissage:r=.2,angleDeFuite:n=30,coefficientDeFuite:o=.5}){return new es({centre:y,rx:s,hauteur:t,position:e,couleurDeRemplissage:i,color:a,opaciteDeRemplissage:r,angleDeFuite:n,coefficientDeFuite:o})}export{ls as a,rs as b,os as c,P as e,as as p,V as s};

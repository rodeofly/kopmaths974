import{d as C}from"./diagrammes-CjPHntNh.js";import{t as A}from"./tableau-nuZmVTHQ.js";import{c as O}from"./lists-i1i4IA1M.js";import{o as L,D as N,F as x,a as f,y as R}from"./embellissements-BYV7mIDn.js";import q from"./ExerciceQcmA-CHnTcRvH.js";import"mathjs";import"./style-CcGLZIPY.js";import"decimal.js";import"./reperes-WwrVcExd.js";import"roughjs";import"./AjouteTableauMathlive-Bz24QHd3.js";import"./tableauMathlive-xx-nDjq0.js";import"./index-BUDQz6-w.js";import"./canStore-DaSrd7sp.js";import"./generalStore-C3E9FHtR.js";import"seedrandom";import"./Exercice-DtXhjCyI.js";import"./exerciseMethods-CtbYPwln.js";import"katex";import"crypto-js";import"earcut";import"./comparisonFunctions-B45ZZ3C7.js";import"./compute-engine.min.umd-BwAhpA7x.js";import"./Hms-u2AUyU1C.js";import"./ListeDeroulanteElement-CXmzV-cr.js";import"./sizeTools-DfTC1Dgv.js";import"./time-DMC-jnVL.js";/* empty css                   */import"./ExerciceQcm-DOkcCRBu.js";import"./qcm-BQR8Ns0N.js";const pe="26/09/2025",fe="q5c12f",de={"fr-fr":["1A-S1"],"fr-ch":["9FA1-8"]},ge=!0,me="qcm",$e="true",be="qcmMono",xe="Choisir le bon diagramme circulaire";class p extends q{static PROPORTIONS_VISUELLES=[{fractions:[7/12,4/12,1/12],totauxPossibles:[60,120],typeId:1},{fractions:[5/8,1/4,1/8],totauxPossibles:[40,80,120,160,200],typeId:2},{fractions:[3/5,1/5,1/5],totauxPossibles:[40,60,80,100,120,160,200],typeId:3},{fractions:[1/2,4/10,1/10],totauxPossibles:[40,60,80,100,120,160,200],typeId:4},{fractions:[1/2,3/10,2/10],totauxPossibles:[40,60,80,100,120,160,200],typeId:4},{fractions:[1/2,1/3,1/6],totauxPossibles:[60,120],typeId:4},{fractions:[1/2,1/4,1/4],totauxPossibles:[40,60,80,100,120,160,200],typeId:5},{fractions:[1/3,1/3,1/3],totauxPossibles:[60,120],typeId:6},{fractions:[3/8,3/8,1/4],totauxPossibles:[40,80,120,160,200],typeId:7},{fractions:[2/5,2/5,1/5],totauxPossibles:[40,60,80,100,120,160,200],typeId:8}];static CONTEXTES=[{sujet:"employés dans une entreprise",unite:"employés",groupes:["service commercial","service technique","service administratif"]},{sujet:"visiteurs dans un musée",unite:"visiteurs",groupes:["adultes","enfants","seniors"]},{sujet:"votes lors d'une élection",unite:"votes",groupes:["candidat A","candidat B","candidat C"]},{sujet:"produits vendus dans un magasin",unite:"ventes",groupes:["produit A","produit B","produit C"]},{sujet:"votes du public pour un jeu télé",unite:"votes",groupes:["candidat A","équipe bleue","équipe verte"]},{sujet:"animaux dans un parc naturel",unite:"animaux",groupes:["éléphants","lions","girafes"]},{sujet:"votes pour un logo",unite:"votes",groupes:["logo 1","logo 2","logo 3"]},{sujet:"pièces produites dans une usine",unite:"pièces",groupes:["pièces type A","pièces type B","pièces type C"]},{sujet:"adhérents à un club sportif local",unite:"adhérents",groupes:["activité A","activité B","activité C"]},{sujet:"véhicules dans un parking",unite:"véhicules",groupes:["voitures","motos","camions"]},{sujet:"arbres dans un parc",unite:"arbres",groupes:["chênes","érables","autres essences"]},{sujet:"logements dans un quartier",unite:"logements",groupes:["appartements","maisons individuelles","autres types"]},{sujet:"réponses à un sondage",unite:"réponses",groupes:["réponse A","réponse B","réponse C"]},{sujet:"articles vendus dans un magasin",unite:"articles",groupes:["catégorie 1","catégorie 2","catégorie 3"]}];static MAX_TENTATIVES=100;calculerEffectifs(i,e){return[i.fractions[0]*e,i.fractions[1]*e,i.fractions[2]*e]}fig=i=>{const t=i.length,s=Array(t).fill(""),n=[C({effectifs:i,labels:s,rayon:3,legendeAffichage:!1,visibles:Array(t).fill(!0),remplissage:Array(t).fill(!0)})];return L(Object.assign({style:"display: inline-block;",pixelsParCm:16,scale:.4},N(n,{rxmin:0,rymin:0,rxmax:0,rymax:0})),n)};detecterAnglesEgaux(i){const e=i.map(t=>Math.round(t*360));return e[0]===e[1]&&e[1]===e[2]?{nb:3,valeur:e[0]}:e[0]===e[1]?{nb:2,valeur:e[0]}:e[0]===e[2]?{nb:2,valeur:e[0]}:e[1]===e[2]?{nb:2,valeur:e[1]}:null}genererDescription(i){const e=i.map(r=>Math.round(r*360)),t=this.detecterAnglesEgaux(i),s=r=>r>180?"rentrant":r===180?"plat":r>90?"obtus":r===90?"droit":"aigu",u=(r,a)=>a===1?r:r==="obtus"?"obtus":r+"s";if(t&&t.nb===3){const r=s(t.valeur);return`trois angles ${u(r,3)} égaux (de $${t.valeur}°$)`}if(t&&t.nb===2){const r=s(t.valeur),a=u(r,2),l=e.find(g=>g!==t.valeur),d=s(l);return`deux angles ${a} égaux (de $${t.valeur}°$) et un angle ${d} (de $${l}°$)`}const n=[],o=[];for(const r of e){const a=s(r);n.push(`un angle ${a}`),o.push(r)}let c="";return n.length===2?c=n.join(" et "):c=n.slice(0,-1).join(", ")+" et "+n[n.length-1],c+=` (respectivement de $${o.join("°, ")}°$)`,c}construireTableauCorrection(i,e,t,s){const[u,n,o]=i,[c,r,a]=s,l=Math.round(360*c),d=Math.round(360*r),g=Math.round(360*a),E=[],S=["\\text{Groupe}","\\text{Effectif}","\\text{Part}","\\text{Angle}"],v=new x(u,e),h=new x(n,e),y=new x(o,e),m=v.texFraction.replace(/\$/g,""),$=h.texFraction.replace(/\$/g,""),b=y.texFraction.replace(/\$/g,""),I=v.texFractionSimplifiee.replace(/\$/g,""),P=h.texFractionSimplifiee.replace(/\$/g,""),j=y.texFractionSimplifiee.replace(/\$/g,""),T=[`\\text{${t[0]}}`,`\\text{${t[1]}}`,`\\text{${t[2]}}`,u,n,o,m===I?m:`${m}=${I}`,$===P?$:`${$}=${P}`,b===j?b:`${b}=${j}`,`${l}°`,`${d}°`,`${g}°`];return A(E,S,T)}constructor(){super(),this.versionAleatoire(),this.ajouteQcmCorr=!0,this.spacing=1.5,this.spacingCorr=1.5}versionOriginale=()=>{const i={fractions:[.5,.2,.3],totauxPossibles:[60],typeId:4},e={sujet:"élèves dans une classe",unite:"élèves",groupes:["groupe A","groupe B","groupe C"]},t=[{fractions:[1/3,1/3,1/3],totauxPossibles:[60],typeId:6},{fractions:[1/4,1/4,1/2],totauxPossibles:[60],typeId:5},{fractions:[2/5,1/5,2/5],totauxPossibles:[60],typeId:8}];this.appliquerLesValeurs({bonne:i,total:60,ctx:e,proportionsDistractrices:t})};versionAleatoire=()=>{for(let i=0;i<p.MAX_TENTATIVES;i++){const e=f(p.PROPORTIONS_VISUELLES),t=f(e.totauxPossibles);let s=p.PROPORTIONS_VISUELLES.filter(o=>!(o===e||o.typeId===e.typeId||!o.totauxPossibles.includes(t)));if(e.typeId===4){const o=s.filter(a=>a.typeId===4),c=s.filter(a=>a.typeId!==4);s=[...o.length>0?[f(o)]:[],...c]}const u=R(s).slice(0,3);if(u.length<3)continue;const n=f(p.CONTEXTES);this.appliquerLesValeurs({bonne:e,total:t,ctx:n,proportionsDistractrices:u});return}console.warn("Impossible de générer un exercice valide après "+p.MAX_TENTATIVES+" tentatives, utilisation de la version originale"),this.versionOriginale()};appliquerLesValeurs(i){const{bonne:e,total:t,ctx:s,proportionsDistractrices:u}=i,[n,o,c]=this.calculerEffectifs(e,t);this.enonce=`Sur $${t}$ ${s.sujet}, on distingue trois groupes :`+O({items:[`${s.groupes[0]} : $${n}$ ${s.unite} ;`,`${s.groupes[1]} : $${o}$ ${s.unite} ;`,`${s.groupes[2]} : les autres.`],style:"fleches"})+"Quel diagramme circulaire représente la situation ?",this.reponses=[this.fig([n,o,c]),...u.map(l=>this.fig(this.calculerEffectifs(l,t)))];const r=this.construireTableauCorrection([n,o,c],t,[s.groupes[0],s.groupes[1],s.groupes[2]],e.fractions),a=this.genererDescription(e.fractions);this.correction=`Les effectifs des $3$ groupes sont respectivement $${n}$, $${o}$ et $${t}-${n}-${o}=${c}$.<br><br>`+r+`Le bon diagramme est le seul avec : ${a}.`}}export{$e as amcReady,be as amcType,pe as dateDePublication,p as default,ge as interactifReady,me as interactifType,de as refs,xe as titre,fe as uuid};

import{am as f,r as d,l as y}from"./embellissements-BYV7mIDn.js";import{Y as $}from"./Yohaku-Do8oly22.js";import{c as x}from"./compute-engine.min.umd-BwAhpA7x.js";import{E as b}from"./Exercice-DtXhjCyI.js";import"mathjs";import"decimal.js";import"katex";import"earcut";import"roughjs";import"./AjouteTableauMathlive-Bz24QHd3.js";import"./tableauMathlive-xx-nDjq0.js";import"./index-BUDQz6-w.js";import"./canStore-DaSrd7sp.js";import"./generalStore-C3E9FHtR.js";import"seedrandom";import"./comparisonFunctions-B45ZZ3C7.js";import"./Hms-u2AUyU1C.js";import"./ListeDeroulanteElement-CXmzV-cr.js";import"./sizeTools-DfTC1Dgv.js";import"./time-DMC-jnVL.js";import"./exerciseMethods-CtbYPwln.js";import"crypto-js";/* empty css                   */import"./colors-bl7PrqSM.js";function C(m,i,e,u){for(let n=1;n<e+1;n++)for(let r=1;r<u+1;r++){const a=document.querySelector(`#champTexteEx${m.numeroExercice}Q${i}L${n}C${r}`);if(a!=null){const o=`Ex${m.numeroExercice}Q${i}L${n}C${r}`;a.value.length>0&&typeof m.answers=="object"&&(m.answers[o]=a.value)}}}const z="G√©n√©rateur de Yohaku",B=!0,D="custom",G=!0,J="AMCOpen",U="3a377",W={"fr-fr":["Yohaku"],"fr-ch":[]},X="16/12/2023";class Z extends b{type;yohaku;constructor(){super(),this.exoCustomResultat=!0,this.nbQuestions=3,this.sup=30,this.sup2=1,this.sup3=3,this.sup4=!1,this.type="entiers",this.yohaku=[],this.besoinFormulaireNumerique=["Valeur maximale des donn√©es",999],this.besoinFormulaire2Numerique=["Op√©ration",2,`1 : Addition
2 : Multiplication`],this.besoinFormulaire3Numerique=["Taille de la grille (nombre de cases horizontales)",5],this.besoinFormulaire4CaseACocher=["Avec aide",!1]}nouvelleVersion(){const i=this.type;for(let e=0,u=0,n,r;e<this.nbQuestions&&u<50;){const a=[],o=f(2,5,this.sup3,3),c=f(o**2+1,999,this.sup,30),l=this.sup2===1?"addition":"multiplication",t=this.sup4?d(0,o**2-1):void 0,s=this.type==="litt√©raux"?l==="addition"?4:5:2,p=new $({type:i,taille:o,largeur:s,operation:l,cellules:a,Case:t,valeurMax:c});p.calculeResultats();const h=i==="litt√©raux"?"expressions":i.includes("frac")?"fractions":"nombres";this.introduction=l==="addition"?`Trouver les ${h} √† mettre dans les cases vides pour que les sommes de chaque ligne et chaque colonne soient exactes.`:`Trouver les ${h} √† mettre dans les cases vides pour que les produits de chaque ligne et chaque colonne soient exacts.`,this.introduction+=`<br>Compl√©ter ${this.nbQuestions===1?"la":"chaque"} grille avec des ${h} qui conviennent${this.sup4?"":" (plusieurs solutions possibles)"}.<br>`,n=p.representation({numeroExercice:this.numeroExercice??0,question:e,isInteractif:this.interactif,classes:""}),r=t==null?"La grille ci-dessous n'est donn√©e qu'√† titre d'exemple, il y a d'autres solutions.<br><br>":"",p.solution=!0,r+=p.representation({numeroExercice:this.numeroExercice??0,question:e,isInteractif:!1}),this.yohaku[e]=p,this.questionJamaisPosee(e,...p.cellules)&&(this.listeQuestions[e]=n,this.listeCorrections[e]=r,e++),u++}y(this)}correctionInteractive=i=>{const e=parseInt(this.sup3);let u;const n=[],r=[],a=document.querySelector(`span#feedbackEx${this.numeroExercice}Q${i}`);C(this,i,2,this.sup3);for(let t=0;t<e;t++){n[t]=[];for(let s=0;s<e;s++)u=document.getElementById(`champTexteEx${this.numeroExercice}Q${i}L${t+1}C${s+1}`),u!=null?(n[t][s]=document.querySelector(`span#resultatCheckEx${this.numeroExercice}Q${i}L${t+1}C${s+1}`),this.yohaku[i].type==="litt√©raux"?u.value!=null&&(r[t*e+s]=u.value.replace(",",".")??"0"):(u.value!=null&&(r[t*e+s]=u.value.replace(",",".").replace(/\((\+?-?\d+)\)/,"$1")??"0"),!isNaN(Number(r[t*e+s]))&&this.yohaku[i].type.includes("frac")&&(r[t*e+s]=`\\frac{${r[t*e+s]}}{1}`))):u==null&&t*e+s!==this.yohaku[i].Case?window.notify(`Pas de cellule L${t+1}C${s+1} dans le document`,{}):this.yohaku[i].Case!=null&&(r[t*e+s]=this.yohaku[i].cellules[this.yohaku[i].Case])}const o=this.saisieCoherente(r,e,i);let c="OK",l="";for(const[t,s]of Object.entries(o))l+=`${t.replace("Colonne","Colonne ").replace("Ligne","Ligne ")} ${s?"correcte":"incorrecte"}.<br>`,c=s?c:"KO";if(c==="OK")for(let t=0;t<e;t++)for(let s=0;s<e;s++)n[t][s]!=null&&(n[t][s].innerHTML="üòé");else{for(let t=0;t<e;t++)for(let s=0;s<e;s++)n[t][s]!=null&&(n[t][s].innerHTML="‚òπÔ∏è");c="KO"}return a!=null&&(a.innerHTML=l,a.style.display="block"),[o.Ligne1?"OK":"KO",o.Ligne2?"OK":"KO",o.Colonne1?"OK":"KO",o.Colonne2?"OK":"KO"]};saisieCoherente(i,e,u){const n=new x.ComputeEngine,r=function(o,c,l){let t;const s=n.parse(String(o[u].operate(l))),p=n.parse(o[u].resultats[c]);return o[u].type==="litt√©raux"?t=s.isSame(p):t=s.isEqual(p),t};let a={};for(let o=0;o<e;o++){const c=[];for(let l=0;l<e;l++)c.push(i[o+l*e]??"0");a=Object.assign(a,Object.fromEntries([[`Colonne${o+1}`,r(this.yohaku,o,c)]]))}for(let o=e;o<e*2;o++){const c=[];for(let l=0;l<e;l++)c.push(i[(o-e)*e+l]??"0");a=Object.assign(a,Object.fromEntries([[`Ligne${o-e+1}`,r(this.yohaku,o,c)]]))}return a}}export{G as amcReady,J as amcType,X as dateDeModifImportante,Z as default,B as interactifReady,D as interactifType,W as refs,z as titre,U as uuid};

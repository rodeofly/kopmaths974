import{c,cE as n,bc as m,O as d,I as f,p as M}from"./embellissements-BYV7mIDn.js";const T=e=>n(90-e);class g extends d{x;y;xMin;xMax;yMin;yMax;xSVG;ySVG;orientation;historiquePositions;crayonBaisse;isVisible;costume;listeTraces;animation;stringColor;codeScratch;constructor(){super(),this.x=0,this.y=0,this.xMin=0,this.xMax=0,this.yMin=0,this.yMax=0,this.bordures=[0,0,0,0],this.xSVG=function(s){return this.x*s},this.ySVG=function(s){return-this.y*s},this.orientation=0,this.historiquePositions=[],this.crayonBaisse=!1,this.isVisible=!0,this.costume="",this.listeTraces=[],this.stringColor="black",this.color=f("black"),this.epaisseur=2,this.pointilles=0,this.opacite=1,this.style="",this.animation=""}svg(s){let o="";for(const a of this.listeTraces){const i=M(a[0],a[1]),t=M(a[2],a[3]),x=f(String(a[4])),y=a[5],h=a[6],p=a[7];let r="";y!==1&&(r+=` stroke-width="${y}" `),h&&(r+=' stroke-dasharray="4 3" '),p!==1&&(r+=` stroke-opacity="${p}" `),o+=`
	<line x1="${i.xSVG(s)}" y1="${i.ySVG(s)}" x2="${t.xSVG(s)}" y2="${t.ySVG(s)}" stroke="${x[0]}" ${r}  />`}return this.isVisible&&this.animation!==""&&(o+=`
 <g>`+this.animation+"</g>"),o}tikz(){let s="";for(const o of this.listeTraces){const a=M(o[0],o[1]),i=M(o[2],o[3]),t=f(String(o[4])),x=o[5],y=o[6],h=o[7];let p="";const r=[];t[1].length>1&&t[1]!=="black"&&r.push(`color =${t[1]}`),!isNaN(x)&&x!==1&&r.push(`line width = ${x}`),!isNaN(h)&&h!==1&&r.push(`opacity = ${h}`),y&&r.push("dashed"),r.length>0&&(p="["+r.join(",")+"]"),s+=`
	\\draw${p} (${a.x},${a.y})--(${i.x},${i.y});`}return s}}function S(){return new g}function $(e,s){const o=s.x,a=s.y;s.x=s.x+e/c.unitesLutinParCm*Math.cos(m(s.orientation)),s.y=s.y+e/c.unitesLutinParCm*Math.sin(m(s.orientation)),s.historiquePositions.push([s.x,s.y]),s.crayonBaisse&&s.listeTraces.push([o,a,s.x,s.y,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.xMin=Math.min(s.xMin,s.x),s.yMin=Math.min(s.yMin,s.y),s.xMax=Math.max(s.xMax,s.x),s.yMax=Math.max(s.yMax,s.y)}function V(e){e.crayonBaisse=!0}function P(e){e.crayonBaisse=!1}function b(e,s){s.orientation=n(e)}function G(e,s){s.orientation=n(s.orientation+e)}function B(e,s){s.orientation=n(s.orientation-e)}function L(e,s,o){const a=o.x,i=o.y;o.x=e/c.unitesLutinParCm,o.y=s/c.unitesLutinParCm,o.historiquePositions.push([o.x,o.y]),o.crayonBaisse&&o.listeTraces.push([a,i,o.x,o.y,o.stringColor,o.epaisseur,o.pointilles,o.opacite]),o.xMin=Math.min(o.xMin,o.x),o.yMin=Math.min(o.yMin,o.y),o.xMax=Math.max(o.xMax,o.x),o.yMax=Math.max(o.yMax,o.y)}function k(e,s){const o=s.x;s.x+=e/c.unitesLutinParCm,s.historiquePositions.push([s.x,s.y]),s.crayonBaisse&&s.listeTraces.push([o,s.y,s.x,s.y,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.xMin=Math.min(s.xMin,s.x),s.xMax=Math.max(s.xMax,s.x)}function q(e,s){const o=s.y;s.y+=e/c.unitesLutinParCm,s.historiquePositions.push([s.x,s.y]),s.crayonBaisse&&s.listeTraces.push([s.x,o,s.x,s.y,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.yMin=Math.min(s.yMin,s.y),s.yMax=Math.max(s.yMax,s.y)}function j(e,s){const o=s.x,a=s.y;s.listeTraces.push([o,a,o+.08,a,s.stringColor,s.epaisseur,s.pointilles,s.opacite]);for(let i=0;i<e;i++)s.listeTraces.push([o+.08,a,o+.08,a+.08,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.listeTraces.push([o+.08,a+.08,o-.08,a+.08,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.listeTraces.push([o+.08,a+.08,o-.08,a+.08,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.listeTraces.push([o-.08,a+.08,o-.08,a-.08,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.listeTraces.push([o-.08,a-.08,o+.08,a-.08,s.stringColor,s.epaisseur,s.pointilles,s.opacite]),s.listeTraces.push([o+.08,a-.08,o+.08,a,s.stringColor,s.epaisseur,s.pointilles,s.opacite]);s.listeTraces.push([o+.03,a,o,a,s.stringColor,s.epaisseur,s.pointilles,s.opacite])}function w(e){const s=new g;return s.x=e.x,s.y=e.y,s.xMin=e.xMin,s.xMax=e.xMax,s.yMin=e.yMin,s.yMax=e.yMax,s.xSVG=e.xSVG,s.ySVG=e.ySVG,s.orientation=e.orientation,s.historiquePositions=e.historiquePositions,s}export{g as O,L as a,V as b,S as c,$ as d,G as e,T as f,w as g,j as h,k as i,q as j,P as l,b as o,B as t};

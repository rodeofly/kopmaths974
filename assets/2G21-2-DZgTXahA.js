import{g as F,r as s,a as m,an as L,U as M,bh as q,t as H,l as X}from"./embellissements-BYV7mIDn.js";import{E as B}from"./Exercice-DtXhjCyI.js";import{S as Q}from"./main-Vl0czKSA.js";import{f as D}from"./figureApigeom-Da_B6AP0.js";import"mathjs";import"decimal.js";import"katex";import"earcut";import"roughjs";import"./exerciseMethods-CtbYPwln.js";import"./index-BUDQz6-w.js";import"crypto-js";import"seedrandom";import"./generalStore-C3E9FHtR.js";import"./canStore-DaSrd7sp.js";const xe="Construire un point √† partir d'une √©galit√© vectorielle sur une grille",pe=!0,me="custom",ye="17/08/2024",be="6cf42",Ae={"fr-fr":["2G21-2"],"fr-ch":[]};class de extends B{longueur;largeur;figureApig=[];figureApigCorr=[];pointExtremite=[];nomExtremite=[];constructor(){super(),this.nbQuestions=1,this.nbCols=2,this.nbColsCorr=2,this.sup=1,this.besoinFormulaireTexte=["Situations diff√©rentes ",`1 : 2 vecteurs depuis l'origine
2 : 1 seul vecteur depuis l'origine
3 : Aucun vecteur depuis l'origine
4 : M√©lange`]}nouvelleVersion(){this.longueur=10,this.largeur=10,this.figureApig.forEach(e=>{e.container=document.createElement("div")}),this.figureApigCorr.forEach(e=>{e.container=document.createElement("div")}),this.figureApig=[],this.figureApigCorr=[],this.pointExtremite=[],this.nomExtremite=[];let o,x;const n=[],c=[],S=F({saisie:this.sup,min:1,max:3,melange:4,defaut:1,nbQuestions:this.nbQuestions}).map(Number);for(let e=0,C=0;e<this.nbQuestions&&C<50;){let O="",k="";switch(S[e]===4?s(1,3):S[e]){case 1:o="origine",x="origine";break;case 2:m([!1,!0])?(o="origine",x="pas0rigine"):(x="origine",o="pas0rigine");break;case 3:default:o="pas0rigine",x="pas0rigine";break}this.figureApig[e]=new Q({xMin:-this.longueur-.25,yMin:-this.largeur-.25,width:.65*(this.longueur*2*30+20),height:.65*(this.largeur*2*30+20),border:!1,scale:.65}),this.figureApigCorr[e]=new Q({xMin:-this.longueur-.25,yMin:-this.largeur-.25,width:.65*(this.longueur*2*30+20),height:.65*(this.largeur*2*30+20),border:!1,scale:.65}),this.figureApig[e].grid=this.figureApig[e].create("Grid",{strokeWidthGrid:1,yMin:-this.largeur+.1,yMax:this.largeur-.1,xMax:this.longueur-.1,xMin:-this.longueur+.1,axeX:!0,axeY:!0,repereOij:!0}),this.figureApigCorr[e].grid=this.figureApigCorr[e].create("Grid",{strokeWidthGrid:1,yMin:-this.largeur+.1,yMax:this.largeur-.1,xMax:this.longueur-.1,xMin:-this.longueur+.1,axeX:!0,axeY:!0,repereOij:!0}),this.figureApig[e].snapGrid=!0,this.figureApig[e].setToolbar({tools:["DRAG","REMOVE","VECTOR","POINT","SET_OPTIONS","NAME_POINT","ZOOM_IN","ZOOM_OUT","GRID"]}),this.figureApig[e].options.thickness=3,this.figureApig[e].options.color="blue",this.figureApig[e].buttons.get("POINT")?.click();let l,a;n[e]=s(0,14)*m([-1,1]);const R=25-n[e]*n[e];c[e]=R<=0?s(0,14)*m([-1,1]):s(Math.ceil(Math.sqrt(R)),14)*m([-1,1]);const N=Math.sqrt(n[e]*n[e]+c[e]*c[e]);n[e]<=-10?l=s(5,8):n[e]<=-6?l=s(1,8):n[e]<=-2?l=s(-3,8):n[e]>=10?l=s(-8,-5):n[e]>=6?l=s(-8,-1):n[e]>=2?l=s(-8,3):l=s(-6,6),c[e]<=-10?a=s(5,8):c[e]<=-6?a=s(1,8):c[e]<=-2?a=s(-3,8):c[e]>=10?a=s(-8,-5):c[e]>=6?a=s(-8,-1):c[e]>=2?a=s(-8,3):a=s(-6,6);const G=s(1,26,[15]),v=L(G),_=s(1,26,[15,G]);this.nomExtremite[e]=L(_);let t=this.figureApig[e].create("Point",{x:l,y:a,label:v,color:"black",thickness:3,isSelectable:!1});const Y=this.figureApigCorr[e].create("Point",{x:l,y:a,label:v,color:"black",thickness:3,isSelectable:!1});this.pointExtremite[e]=this.figureApig[e].create("Point",{x:l+n[e],y:a+c[e],isVisible:!1});let V,$,T,u,E,f,P,w=0;const r={x:0,y:0},K=t.x+9,U=9-t.x,W=t.y+9,j=9-t.y;do{for(this.pointExtremite[e].x>=t.x?(u=s(t.x,t.x+U),E=this.pointExtremite[e].x+t.x-u):(u=s(t.x-K,t.x),E=this.pointExtremite[e].x+t.x-u);E>9;)E--,u++;for(;E<-9;)E++,u--;for(this.pointExtremite[e].y>=t.y?(f=s(t.y,t.y+j),P=this.pointExtremite[e].y+t.y-f):(f=s(t.y-W,t.y),P=this.pointExtremite[e].y+t.y-f);P>9;)P--,f++;for(;P<-9;)P++,f--;V=Math.abs(((u-t.x)*n[e]+(f-t.y)*c[e])/Math.sqrt(n[e]*n[e]+c[e]*c[e])),$=Math.sqrt((u-t.x)*(u-t.x)+(f-t.y)*(f-t.y)),T=Math.sqrt($*$-V*V),r.x=this.pointExtremite[e].x-u,r.y=this.pointExtremite[e].y-f,w++}while(w<50&&!(T>1&&T*N/2>4&&t.x+r.x<=9&&t.x+r.x>=-9&&t.y+r.y<=9&&t.y+r.y>=-9));w>=50&&window.notify("On a un probl√®me houston!",{exercice:JSON.stringify(this)});const g={x:u-t.x,y:f-t.y};let y=0,b=0;if(o==="origine")this.figureApig[e].create("Vector",{origin:t,x:g.x,y:g.y,color:"blue",thickness:3,label:"\\vec{u}",isSelectable:!1}),this.figureApigCorr[e].create("Vector",{origin:t,x:g.x,y:g.y,color:"blue",thickness:3,label:"\\vec{u}",isSelectable:!1});else{y=m(M(Math.max(-9,-9-g.x),Math.min(9,9-g.x),l)),b=m(M(Math.max(-9,-9-g.y),Math.min(9,9-g.y),a));const i=this.figureApig[e].create("Point",{x:y,y:b,isVisible:!1}),I=this.figureApigCorr[e].create("Point",{x:y,y:b,isVisible:!1});this.figureApig[e].create("Vector",{origin:i,x:g.x,y:g.y,color:"blue",thickness:3,label:"\\vec{u}",isSelectable:!1}),this.figureApigCorr[e].create("Vector",{origin:I,x:g.x,y:g.y,color:"blue",thickness:3,label:"\\vec{u}",isSelectable:!1})}let A=0,d=0;if(x==="origine")this.figureApig[e].create("Vector",{origin:t,x:r.x,y:r.y,color:"blue",thickness:3,label:"\\vec{v}",isSelectable:!1}),this.figureApigCorr[e].create("Vector",{origin:t,x:r.x,y:r.y,color:"blue",thickness:3,label:"\\vec{v}",isSelectable:!1});else{A=m(M(Math.max(-9,-9-r.x),Math.min(9,9-r.x),l)),d=m(M(Math.max(-9,-9-r.y),Math.min(9,9-r.y),a));const i=this.figureApig[e].create("Point",{x:A,y:d,isVisible:!1}),I=this.figureApigCorr[e].create("Point",{x:A,y:d,isVisible:!1});this.figureApig[e].create("Vector",{origin:i,x:r.x,y:r.y,color:"blue",thickness:3,label:"\\vec{v}",isSelectable:!1}),this.figureApigCorr[e].create("Vector",{origin:I,x:r.x,y:r.y,color:"blue",thickness:3,label:"\\vec{v}",isSelectable:!1})}t=this.figureApig[e].create("Point",{x:l,y:a,label:v,color:"black",thickness:3,isSelectable:!1}),this.figureApigCorr[e].create("Point",{x:l,y:a,label:v,color:"black",thickness:3,isSelectable:!1}),O=`Construire le point $${this.nomExtremite[e]}$ tel que $\\overrightarrow{${v}${this.nomExtremite[e]}} = \\vec{u} + \\vec{v}$.<br>`,O+=D({exercice:this,figure:this.figureApig[e],i:e}),this.figureApigCorr[e].options.animationStepInterval=250,this.figureApigCorr[e].grid.color="gray",this.figureApigCorr[e].grid.colorLabel="gray",this.figureApigCorr[e].options.latexHeight=20,this.figureApigCorr[e].options.latexWidth=20,this.figureApigCorr[e].setToolbar({position:"top",tools:["RESTART","PLAY_SKIP_BACK","PLAY","PLAY_SKIP_FORWARD","PAUSE"]}),this.figureApigCorr[e].stackUndo=[],this.figureApigCorr[e].stackRedo=[],this.figureApigCorr[e].saveState();const p=[],h=[];if(x==="origine"&&o==="origine")for(let i=0;i<11;i++)p[i]=this.figureApigCorr[e].create("Point",{x:l+(u-l)*i/10,y:a+(f-a)*i/10,isVisible:!1}),h[i]=this.figureApigCorr[e].create("Vector",{origin:p[i],x:r.x,y:r.y,color:"green",thickness:3,label:"\\vec{v}"}),this.figureApigCorr[e].saveState(),i!==10&&(h[i].hide(),h[i].label="");else if(x==="origine"&&o!=="origine")for(let i=0;i<11;i++)p[i]=this.figureApigCorr[e].create("Point",{x:y+(l+r.x-y)*i/10,y:b+(a+r.y-b)*i/10,isVisible:!1}),h[i]=this.figureApigCorr[e].create("Vector",{origin:p[i],x:g.x,y:g.y,color:"green",thickness:3,label:"\\vec{u}"}),this.figureApigCorr[e].saveState(),i!==10&&(h[i].hide(),h[i].label="");else if(x!=="origine"&&o==="origine")for(let i=0;i<11;i++)p[i]=this.figureApigCorr[e].create("Point",{x:A+(u-A)*i/10,y:d+(f-d)*i/10,isVisible:!1}),h[i]=this.figureApigCorr[e].create("Vector",{origin:p[i],x:r.x,y:r.y,color:"green",thickness:3,label:"\\vec{v}"}),this.figureApigCorr[e].saveState(),i!==10&&(h[i].hide(),h[i].label="");else{for(let i=0;i<11;i++)p[i]=this.figureApigCorr[e].create("Point",{x:y+(l-y)*i/10,y:b+(a-b)*i/10,isVisible:!1}),h[i]=this.figureApigCorr[e].create("Vector",{origin:p[i],x:g.x,y:g.y,color:"green",thickness:3,label:"\\vec{u}"}),this.figureApigCorr[e].saveState(),i!==10&&(h[i].hide(),h[i].label="");for(let i=0;i<11;i++)p[i]=this.figureApigCorr[e].create("Point",{x:A+(u-A)*i/10,y:d+(f-d)*i/10,isVisible:!1}),h[i]=this.figureApigCorr[e].create("Vector",{origin:p[i],x:r.x,y:r.y,color:"green",thickness:3,label:"\\vec{v}"}),this.figureApigCorr[e].saveState(),i!==10&&(h[i].hide(),h[i].label="")}this.figureApigCorr[e].create("Vector",{origin:Y,x:n[e],y:c[e],color:q,thickness:3}),this.figureApigCorr[e].create("Point",{x:this.pointExtremite[e].x,y:this.pointExtremite[e].y,colorLabel:q,color:q,label:this.nomExtremite[e]}),this.figureApigCorr[e].saveState(),k=D({animation:!0,exercice:this,i:e,idAddendum:"Correction",figure:this.figureApigCorr[e]})+"<br>",k+=`Le point $${this.nomExtremite[e]}$ tel que $\\overrightarrow{${v}${this.nomExtremite[e]}} = \\vec{u} + \\vec{v}$ a pour coordonn√©es ${H(`( ${this.pointExtremite[e].x} ; ${this.pointExtremite[e].y} )`)}.<br>`,this.questionJamaisPosee(e,n[e],n[e])&&(this.listeQuestions[e]=O,this.listeCorrections[e]=k,e++),C++}X(this)}correctionInteractive=o=>{this.answers==null&&(this.answers={}),this.answers[this.figureApig[o].id]=this.figureApig[o].json;const x=document.querySelector(`#feedbackEx${this.numeroExercice}Q${o}`),n=document.querySelector(`#resultatCheckEx${this.numeroExercice}Q${o}`);if(this.figureApig[o].isDynamic=!1,this.figureApig[o].divButtons.style.display="none",this.figureApig[o].divUserMessage.style.display="none",!([...this.figureApig[o].elements.values()].filter(C=>C.type==="Point"&&C.isVisible&&!C.isChild).length>=3))return x&&(x.innerHTML="Aucun point n'a √©t√© cr√©√©."),"KO";const e=this.figureApig[o].checkCoords({label:this.nomExtremite[o],x:this.pointExtremite[o].x,y:this.pointExtremite[o].y});return x.innerHTML=e.message,n&&(n.innerHTML=e.isValid?"üòé":"‚òπÔ∏è"),e.isValid?"OK":"KO"}}export{ye as dateDePublication,de as default,pe as interactifReady,me as interactifType,Ae as refs,xe as titre,be as uuid};

import x from"decimal.js";import{t as e}from"./texTexte-A-4q7XCw.js";import{E as q,K as g}from"./Exercice-DtXhjCyI.js";import{h as E}from"./gestionInteractif-DujZpSu8.js";import{a as w}from"./questionMathLive-DdRvWqlN.js";import{cb as U,af as y,r as n,a as A,e as s,c as C,a2 as L,m as Q,l as F,U as H}from"./embellissements-BYV7mIDn.js";import"./exerciseMethods-CtbYPwln.js";import"./index-BUDQz6-w.js";import"katex";import"mathjs";import"crypto-js";import"seedrandom";import"./comparisonFunctions-B45ZZ3C7.js";import"./compute-engine.min.umd-BwAhpA7x.js";import"./Hms-u2AUyU1C.js";import"./ListeDeroulanteElement-CXmzV-cr.js";import"./tableauMathlive-xx-nDjq0.js";import"./canStore-DaSrd7sp.js";import"./generalStore-C3E9FHtR.js";import"earcut";import"roughjs";import"./sizeTools-DfTC1Dgv.js";import"./time-DMC-jnVL.js";import"./AjouteTableauMathlive-Bz24QHd3.js";const le=!0,ce="mathLive",ue=!0,me="AMCNum",pe="28/07/2025";function D(N){switch(N){case"m":return{singulier:"mètre",pluriel:"mètres"};case"g":return{singulier:"gramme",pluriel:"grammes"};case"€":return{singulier:"euro",pluriel:"euros"};case"L":return{singulier:"litre",pluriel:"litres"};case"o":return{singulier:"octet",pluriel:"octets"};default:throw new Error(`Symbole inconnu : ${N}`)}}class de extends q{correction_avec_des_fractions;valUnitaire;constructor(h=1){super(),this.sup=h,this.sup2=!1,this.titre="Convertir des longueurs, masses, contenance, prix ou unités informatiques",this.consigne="Compléter par un nombre décimal.",this.spacing=2,this.correction_avec_des_fractions=!1,this.valUnitaire=!1,this.besoinFormulaireNumerique=["Niveau de difficulté",5,`1 : De da, h, k vers l'unité de référence
2 : De d, c, m vers l'unité de référence
3 : Multiplications ou divisions vers l'unité de référence
4 : Conversions avec les octets
5 : Mélange`],this.besoinFormulaire2CaseACocher=["Avec des nombres décimaux"],this.besoinFormulaire3CaseACocher=["Qu'avec des unités de longueurs"],this.sup3=!1,this.besoinFormulaire4CaseACocher=["Avec possiblement des fractions dans la correction"],this.sup4=!1,this.correctionDetaillee=!0,this.correctionDetailleeDisponible=!1,this.comment="Le paramètre qui permet de ne choisir que des unités de longueurs devient caduque si, à un paramètre précédent, on choisit de convertir des unités de stockage informatique."}nouvelleVersion(){this.correction_avec_des_fractions=this.sup4;const h=[["da",10,"déca","une dizaine de"],["h",100,"hecto","une centaine de"],["k",1e3,"kilo","un millier de"]],m=[["d",10,"déci","un dixième de"],["c",100,"centi","un centième de"],["m",1e3,"milli","un millième de"]];let p=[];p[0]=this.sup,U(p,5)>0&&(p=H(1,4)),p=y(p,this.nbQuestions);const _=y([!0,!1],this.nbQuestions);for(let a=0,t,r,c,u,$,l,f=[],k=0;a<this.nbQuestions&&k<50;){switch(r=n(0,2),l="",p[a]){case 2:c=!0;break;case 3:c=_[a];break;case 4:f=["octets","ko","Mo","Go","To"];break;case 1:default:c=!1;break}let o=0;this.valUnitaire?t=new x(1):this.sup2?(o=2,t=A([new x(n(1,9)).div(10).add(n(1,19)),new x(n(1,9)).div(10),new x(n(1,9)).div(100),new x(n(1,9)*100+n(1,9)*10+n(1,9)).div(100)])):(o=0,t=new x(A([n(1,9),n(1,9)*10,n(1,9)*100,n(1,9)*10+n(1,9)])));let i=this.sup3?"m":A(["m","L","g"]);if(!c&&p[a]<4)r===2?i=this.sup3?"m":A(["m","g","€"]):r>2&&(i="o"),u=t.mul(h[r][1]),$="$ "+s(t,o)+e(h[r][0]+i)+" = "+(this.interactif&&C.isHtml?`$ ${w(this,a,g.clavierNumbers,{texteApres:"$"+e(i)+"$"})}`:`\\dotfill ${e(i)}$`),l="$ "+s(t,o)+e(h[r][0]+i)+" =  "+s(t,o)+"\\times"+s(Number(h[r][1]),o)+e(i)+" = "+s(u,Math.max(0,o-r-1))+e(i)+"$";else if(c&&p[a]<4&&this.correction_avec_des_fractions)u=t.div(m[r][1]),$="$ "+s(t,o)+e(m[r][0]+i)+" = "+(this.interactif&&C.isHtml?`$ ${w(this,a,g.clavierNumbers,{texteApres:" $"+e(i)+"$"})}`:` \\dotfill ${e(i)}$`),l="$ "+s(t,o)+e(m[r][0]+i)+" =  "+L(t.toNumber(),Number(m[r][1])).texFraction+e(i)+" = "+s(u,o+3)+e(i)+"$";else if(c&&p[a]<4)u=t.div(m[r][1]),$="$ "+s(t,o)+e(m[r][0]+i)+" = "+(this.interactif&&C.isHtml?`$ ${w(this,a,g.clavierNumbers,{texteApres:" $"+e(i)+"$"})}`:` \\dotfill ${e(i)}$`),l="$ "+s(t,o)+e(m[r][0]+i)+" =  "+s(t,o)+"\\div"+s(Number(m[r][1]),0)+e(i)+" = "+s(u,o+r+1)+e(i)+"$";else{Array.isArray(f)||(f=["octets","ko","Mo","Go","To"]),c=this.sup2?_[a]:!1;let b,v;c?(b=n(1,4),v=n(0,b-1)):(v=n(1,4),b=n(0,v-1));const d=v-b;b===0&&t.toNumber()%1!==0&&(t=new x(n(3,100)));const M=f[b];i=f[b],c?(t=t.div(Math.pow(10,n(3*d-1,3*d+1))),u=t.mul(Math.pow(10,3*d)),$="$ "+s(t,o+3*d)+e(f[v])+" = "+(this.interactif&&C.isHtml?`$ ${w(this,a,g.clavierNumbers,{texteApres:" $"+e(i)+"$"})}`:` \\dotfill ${e(i)}$`),l="$ "+s(t,o+3*d)+e(f[v])+" =  "+s(t,o+3*d)+"\\div"+s(Math.pow(10,-3*d),3*d)+e(M)+" = "+s(u)+e(M)+"$"):(u=t.mul(Math.pow(10,3*d)),$="$ "+s(t,o)+e(f[v])+" = "+(this.interactif&&C.isHtml?`$ ${w(this,a,g.clavierNumbers,{texteApres:" $"+e(i)+"$"})}`:` \\dotfill ${e(i)}$`),l="$ "+s(t,o)+e(f[v])+" =  "+s(t,o)+"\\times"+s(Math.pow(10,3*d),0)+e(M)+" = "+s(u,0)+e(M)+"$")}const T=Q((l.split("=").pop()??"").replaceAll("$",""))+"$";l=l.replace(String(l.split("=").pop()),"")+T.replace(e(i),"")+"$"+e(i)+"$",this.correctionDetaillee&&p[a]!==4&&(l=`Un ${c?m[r][2]:h[r][2]}${D(i).singulier} est ${c?m[r][3]:h[r][3]} ${c?D(i).singulier:D(i).pluriel} donc :<br>`+l+"."),this.questionJamaisPosee(a,t,u.toString())&&(E(this,a,{reponse:{value:u.toString(),options:{nombreDecimalSeulement:!0,fractionDecimale:!0}}}),$=$.replace("\\dotfill","................................................"),this.listeQuestions[a]=$,this.listeCorrections[a]=l,a++),k++}F(this)}}export{ue as amcReady,me as amcType,pe as dateDeModifImportante,de as default,le as interactifReady,ce as interactifType};
